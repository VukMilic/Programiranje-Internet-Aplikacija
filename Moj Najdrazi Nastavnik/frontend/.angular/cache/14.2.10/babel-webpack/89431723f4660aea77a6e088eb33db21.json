{"ast":null,"code":"var _asyncToGenerator = require(\"C:/Users/Vuk/Desktop/PIA projekat - februar 2024/Moj Najdrazi Nastavnik/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\n/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define(\"pdfjs-dist/web/pdf_viewer\", [], factory);else if (typeof exports === 'object') exports[\"pdfjs-dist/web/pdf_viewer\"] = factory();else root[\"pdfjs-dist/web/pdf_viewer\"] = root.pdfjsViewer = factory();\n})(globalThis, () => {\n  return (\n    /******/\n    (() => {\n      // webpackBootstrap\n\n      /******/\n      \"use strict\";\n      /******/\n\n      var __webpack_modules__ = [\n        /* 0 */\n      ,\n      /* 1 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.DefaultXfaLayerFactory = exports.DefaultTextLayerFactory = exports.DefaultStructTreeLayerFactory = exports.DefaultAnnotationLayerFactory = exports.DefaultAnnotationEditorLayerFactory = void 0;\n\n        var _annotation_editor_layer_builder = __w_pdfjs_require__(2);\n\n        var _annotation_layer_builder = __w_pdfjs_require__(5);\n\n        var _l10n_utils = __w_pdfjs_require__(4);\n\n        var _pdf_link_service = __w_pdfjs_require__(6);\n\n        var _struct_tree_layer_builder = __w_pdfjs_require__(8);\n\n        var _text_layer_builder = __w_pdfjs_require__(9);\n\n        var _xfa_layer_builder = __w_pdfjs_require__(10);\n\n        class DefaultAnnotationLayerFactory {\n          createAnnotationLayerBuilder({\n            pageDiv,\n            pdfPage,\n            annotationStorage = null,\n            imageResourcesPath = \"\",\n            renderForms = true,\n            l10n = _l10n_utils.NullL10n,\n            enableScripting = false,\n            hasJSActionsPromise = null,\n            mouseState = null,\n            fieldObjectsPromise = null,\n            annotationCanvasMap = null,\n            accessibilityManager = null\n          }) {\n            return new _annotation_layer_builder.AnnotationLayerBuilder({\n              pageDiv,\n              pdfPage,\n              imageResourcesPath,\n              renderForms,\n              linkService: new _pdf_link_service.SimpleLinkService(),\n              l10n,\n              annotationStorage,\n              enableScripting,\n              hasJSActionsPromise,\n              fieldObjectsPromise,\n              mouseState,\n              annotationCanvasMap,\n              accessibilityManager\n            });\n          }\n\n        }\n\n        exports.DefaultAnnotationLayerFactory = DefaultAnnotationLayerFactory;\n\n        class DefaultAnnotationEditorLayerFactory {\n          createAnnotationEditorLayerBuilder({\n            uiManager = null,\n            pageDiv,\n            pdfPage,\n            accessibilityManager = null,\n            l10n,\n            annotationStorage = null\n          }) {\n            return new _annotation_editor_layer_builder.AnnotationEditorLayerBuilder({\n              uiManager,\n              pageDiv,\n              pdfPage,\n              accessibilityManager,\n              l10n,\n              annotationStorage\n            });\n          }\n\n        }\n\n        exports.DefaultAnnotationEditorLayerFactory = DefaultAnnotationEditorLayerFactory;\n\n        class DefaultStructTreeLayerFactory {\n          createStructTreeLayerBuilder({\n            pdfPage\n          }) {\n            return new _struct_tree_layer_builder.StructTreeLayerBuilder({\n              pdfPage\n            });\n          }\n\n        }\n\n        exports.DefaultStructTreeLayerFactory = DefaultStructTreeLayerFactory;\n\n        class DefaultTextLayerFactory {\n          createTextLayerBuilder({\n            textLayerDiv,\n            pageIndex,\n            viewport,\n            enhanceTextSelection = false,\n            eventBus,\n            highlighter,\n            accessibilityManager = null\n          }) {\n            return new _text_layer_builder.TextLayerBuilder({\n              textLayerDiv,\n              pageIndex,\n              viewport,\n              enhanceTextSelection,\n              eventBus,\n              highlighter,\n              accessibilityManager\n            });\n          }\n\n        }\n\n        exports.DefaultTextLayerFactory = DefaultTextLayerFactory;\n\n        class DefaultXfaLayerFactory {\n          createXfaLayerBuilder({\n            pageDiv,\n            pdfPage,\n            annotationStorage = null\n          }) {\n            return new _xfa_layer_builder.XfaLayerBuilder({\n              pageDiv,\n              pdfPage,\n              annotationStorage,\n              linkService: new _pdf_link_service.SimpleLinkService()\n            });\n          }\n\n        }\n\n        exports.DefaultXfaLayerFactory = DefaultXfaLayerFactory;\n        /***/\n      },\n      /* 2 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.AnnotationEditorLayerBuilder = void 0;\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        var _l10n_utils = __w_pdfjs_require__(4);\n\n        class AnnotationEditorLayerBuilder {\n          #uiManager;\n\n          constructor(options) {\n            this.pageDiv = options.pageDiv;\n            this.pdfPage = options.pdfPage;\n            this.annotationStorage = options.annotationStorage || null;\n            this.accessibilityManager = options.accessibilityManager;\n            this.l10n = options.l10n || _l10n_utils.NullL10n;\n            this.annotationEditorLayer = null;\n            this.div = null;\n            this._cancelled = false;\n            this.#uiManager = options.uiManager;\n          }\n\n          render(viewport, intent = \"display\") {\n            var _this = this;\n\n            return _asyncToGenerator(function* () {\n              if (intent !== \"display\") {\n                return;\n              }\n\n              if (_this._cancelled) {\n                return;\n              }\n\n              const clonedViewport = viewport.clone({\n                dontFlip: true\n              });\n\n              if (_this.div) {\n                _this.annotationEditorLayer.update({\n                  viewport: clonedViewport\n                });\n\n                _this.show();\n\n                return;\n              }\n\n              _this.div = document.createElement(\"div\");\n              _this.div.className = \"annotationEditorLayer\";\n              _this.div.tabIndex = 0;\n\n              _this.pageDiv.append(_this.div);\n\n              _this.annotationEditorLayer = new _pdfjsLib.AnnotationEditorLayer({\n                uiManager: _this.#uiManager,\n                div: _this.div,\n                annotationStorage: _this.annotationStorage,\n                accessibilityManager: _this.accessibilityManager,\n                pageIndex: _this.pdfPage._pageIndex,\n                l10n: _this.l10n,\n                viewport: clonedViewport\n              });\n              const parameters = {\n                viewport: clonedViewport,\n                div: _this.div,\n                annotations: null,\n                intent\n              };\n\n              _this.annotationEditorLayer.render(parameters);\n            })();\n          }\n\n          cancel() {\n            this._cancelled = true;\n            this.destroy();\n          }\n\n          hide() {\n            if (!this.div) {\n              return;\n            }\n\n            this.div.hidden = true;\n          }\n\n          show() {\n            if (!this.div) {\n              return;\n            }\n\n            this.div.hidden = false;\n          }\n\n          destroy() {\n            if (!this.div) {\n              return;\n            }\n\n            this.pageDiv = null;\n            this.annotationEditorLayer.destroy();\n            this.div.remove();\n          }\n\n        }\n\n        exports.AnnotationEditorLayerBuilder = AnnotationEditorLayerBuilder;\n        /***/\n      },\n      /* 3 */\n\n      /***/\n      module => {\n        let pdfjsLib;\n\n        if (typeof window !== \"undefined\" && window[\"pdfjs-dist/build/pdf\"]) {\n          pdfjsLib = window[\"pdfjs-dist/build/pdf\"];\n        } else {\n          pdfjsLib = require(\"../build/pdf.js\");\n        }\n\n        module.exports = pdfjsLib;\n        /***/\n      },\n      /* 4 */\n\n      /***/\n      (__unused_webpack_module, exports) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.NullL10n = void 0;\n        exports.fixupLangCode = fixupLangCode;\n        exports.getL10nFallback = getL10nFallback;\n        const DEFAULT_L10N_STRINGS = {\n          of_pages: \"of {{pagesCount}}\",\n          page_of_pages: \"({{pageNumber}} of {{pagesCount}})\",\n          document_properties_kb: \"{{size_kb}} KB ({{size_b}} bytes)\",\n          document_properties_mb: \"{{size_mb}} MB ({{size_b}} bytes)\",\n          document_properties_date_string: \"{{date}}, {{time}}\",\n          document_properties_page_size_unit_inches: \"in\",\n          document_properties_page_size_unit_millimeters: \"mm\",\n          document_properties_page_size_orientation_portrait: \"portrait\",\n          document_properties_page_size_orientation_landscape: \"landscape\",\n          document_properties_page_size_name_a3: \"A3\",\n          document_properties_page_size_name_a4: \"A4\",\n          document_properties_page_size_name_letter: \"Letter\",\n          document_properties_page_size_name_legal: \"Legal\",\n          document_properties_page_size_dimension_string: \"{{width}} × {{height}} {{unit}} ({{orientation}})\",\n          document_properties_page_size_dimension_name_string: \"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})\",\n          document_properties_linearized_yes: \"Yes\",\n          document_properties_linearized_no: \"No\",\n          print_progress_percent: \"{{progress}}%\",\n          \"toggle_sidebar.title\": \"Toggle Sidebar\",\n          \"toggle_sidebar_notification2.title\": \"Toggle Sidebar (document contains outline/attachments/layers)\",\n          additional_layers: \"Additional Layers\",\n          page_landmark: \"Page {{page}}\",\n          thumb_page_title: \"Page {{page}}\",\n          thumb_page_canvas: \"Thumbnail of Page {{page}}\",\n          find_reached_top: \"Reached top of document, continued from bottom\",\n          find_reached_bottom: \"Reached end of document, continued from top\",\n          \"find_match_count[one]\": \"{{current}} of {{total}} match\",\n          \"find_match_count[other]\": \"{{current}} of {{total}} matches\",\n          \"find_match_count_limit[one]\": \"More than {{limit}} match\",\n          \"find_match_count_limit[other]\": \"More than {{limit}} matches\",\n          find_not_found: \"Phrase not found\",\n          error_version_info: \"PDF.js v{{version}} (build: {{build}})\",\n          error_message: \"Message: {{message}}\",\n          error_stack: \"Stack: {{stack}}\",\n          error_file: \"File: {{file}}\",\n          error_line: \"Line: {{line}}\",\n          rendering_error: \"An error occurred while rendering the page.\",\n          page_scale_width: \"Page Width\",\n          page_scale_fit: \"Page Fit\",\n          page_scale_auto: \"Automatic Zoom\",\n          page_scale_actual: \"Actual Size\",\n          page_scale_percent: \"{{scale}}%\",\n          loading: \"Loading…\",\n          loading_error: \"An error occurred while loading the PDF.\",\n          invalid_file_error: \"Invalid or corrupted PDF file.\",\n          missing_file_error: \"Missing PDF file.\",\n          unexpected_response_error: \"Unexpected server response.\",\n          printing_not_supported: \"Warning: Printing is not fully supported by this browser.\",\n          printing_not_ready: \"Warning: The PDF is not fully loaded for printing.\",\n          web_fonts_disabled: \"Web fonts are disabled: unable to use embedded PDF fonts.\",\n          free_text_default_content: \"Enter text…\",\n          editor_free_text_aria_label: \"FreeText Editor\",\n          editor_ink_aria_label: \"Ink Editor\",\n          editor_ink_canvas_aria_label: \"User-created image\"\n        };\n\n        function getL10nFallback(key, args) {\n          switch (key) {\n            case \"find_match_count\":\n              key = `find_match_count[${args.total === 1 ? \"one\" : \"other\"}]`;\n              break;\n\n            case \"find_match_count_limit\":\n              key = `find_match_count_limit[${args.limit === 1 ? \"one\" : \"other\"}]`;\n              break;\n          }\n\n          return DEFAULT_L10N_STRINGS[key] || \"\";\n        }\n\n        const PARTIAL_LANG_CODES = {\n          en: \"en-US\",\n          es: \"es-ES\",\n          fy: \"fy-NL\",\n          ga: \"ga-IE\",\n          gu: \"gu-IN\",\n          hi: \"hi-IN\",\n          hy: \"hy-AM\",\n          nb: \"nb-NO\",\n          ne: \"ne-NP\",\n          nn: \"nn-NO\",\n          pa: \"pa-IN\",\n          pt: \"pt-PT\",\n          sv: \"sv-SE\",\n          zh: \"zh-CN\"\n        };\n\n        function fixupLangCode(langCode) {\n          return PARTIAL_LANG_CODES[langCode?.toLowerCase()] || langCode;\n        }\n\n        function formatL10nValue(text, args) {\n          if (!args) {\n            return text;\n          }\n\n          return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n            return name in args ? args[name] : \"{{\" + name + \"}}\";\n          });\n        }\n\n        const NullL10n = {\n          getLanguage() {\n            return _asyncToGenerator(function* () {\n              return \"en-us\";\n            })();\n          },\n\n          getDirection() {\n            return _asyncToGenerator(function* () {\n              return \"ltr\";\n            })();\n          },\n\n          get(key, args = null, fallback = getL10nFallback(key, args)) {\n            return _asyncToGenerator(function* () {\n              return formatL10nValue(fallback, args);\n            })();\n          },\n\n          translate(element) {\n            return _asyncToGenerator(function* () {})();\n          }\n\n        };\n        exports.NullL10n = NullL10n;\n        /***/\n      },\n      /* 5 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.AnnotationLayerBuilder = void 0;\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        var _l10n_utils = __w_pdfjs_require__(4);\n\n        class AnnotationLayerBuilder {\n          constructor({\n            pageDiv,\n            pdfPage,\n            linkService,\n            downloadManager,\n            annotationStorage = null,\n            imageResourcesPath = \"\",\n            renderForms = true,\n            l10n = _l10n_utils.NullL10n,\n            enableScripting = false,\n            hasJSActionsPromise = null,\n            fieldObjectsPromise = null,\n            mouseState = null,\n            annotationCanvasMap = null,\n            accessibilityManager = null\n          }) {\n            this.pageDiv = pageDiv;\n            this.pdfPage = pdfPage;\n            this.linkService = linkService;\n            this.downloadManager = downloadManager;\n            this.imageResourcesPath = imageResourcesPath;\n            this.renderForms = renderForms;\n            this.l10n = l10n;\n            this.annotationStorage = annotationStorage;\n            this.enableScripting = enableScripting;\n            this._hasJSActionsPromise = hasJSActionsPromise;\n            this._fieldObjectsPromise = fieldObjectsPromise;\n            this._mouseState = mouseState;\n            this._annotationCanvasMap = annotationCanvasMap;\n            this._accessibilityManager = accessibilityManager;\n            this.div = null;\n            this._cancelled = false;\n          }\n\n          render(viewport, intent = \"display\") {\n            var _this2 = this;\n\n            return _asyncToGenerator(function* () {\n              const [annotations, hasJSActions = false, fieldObjects = null] = yield Promise.all([_this2.pdfPage.getAnnotations({\n                intent\n              }), _this2._hasJSActionsPromise, _this2._fieldObjectsPromise]);\n\n              if (_this2._cancelled || annotations.length === 0) {\n                return;\n              }\n\n              const parameters = {\n                viewport: viewport.clone({\n                  dontFlip: true\n                }),\n                div: _this2.div,\n                annotations,\n                page: _this2.pdfPage,\n                imageResourcesPath: _this2.imageResourcesPath,\n                renderForms: _this2.renderForms,\n                linkService: _this2.linkService,\n                downloadManager: _this2.downloadManager,\n                annotationStorage: _this2.annotationStorage,\n                enableScripting: _this2.enableScripting,\n                hasJSActions,\n                fieldObjects,\n                mouseState: _this2._mouseState,\n                annotationCanvasMap: _this2._annotationCanvasMap,\n                accessibilityManager: _this2._accessibilityManager\n              };\n\n              if (_this2.div) {\n                _pdfjsLib.AnnotationLayer.update(parameters);\n              } else {\n                _this2.div = document.createElement(\"div\");\n                _this2.div.className = \"annotationLayer\";\n\n                _this2.pageDiv.append(_this2.div);\n\n                parameters.div = _this2.div;\n\n                _pdfjsLib.AnnotationLayer.render(parameters);\n\n                _this2.l10n.translate(_this2.div);\n              }\n            })();\n          }\n\n          cancel() {\n            this._cancelled = true;\n          }\n\n          hide() {\n            if (!this.div) {\n              return;\n            }\n\n            this.div.hidden = true;\n          }\n\n        }\n\n        exports.AnnotationLayerBuilder = AnnotationLayerBuilder;\n        /***/\n      },\n      /* 6 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.SimpleLinkService = exports.PDFLinkService = exports.LinkTarget = void 0;\n\n        var _ui_utils = __w_pdfjs_require__(7);\n\n        const DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\n        const LinkTarget = {\n          NONE: 0,\n          SELF: 1,\n          BLANK: 2,\n          PARENT: 3,\n          TOP: 4\n        };\n        exports.LinkTarget = LinkTarget;\n\n        function addLinkAttributes(link, {\n          url,\n          target,\n          rel,\n          enabled = true\n        } = {}) {\n          if (!url || typeof url !== \"string\") {\n            throw new Error('A valid \"url\" parameter must provided.');\n          }\n\n          const urlNullRemoved = (0, _ui_utils.removeNullCharacters)(url);\n\n          if (enabled) {\n            link.href = link.title = urlNullRemoved;\n          } else {\n            link.href = \"\";\n            link.title = `Disabled: ${urlNullRemoved}`;\n\n            link.onclick = () => {\n              return false;\n            };\n          }\n\n          let targetStr = \"\";\n\n          switch (target) {\n            case LinkTarget.NONE:\n              break;\n\n            case LinkTarget.SELF:\n              targetStr = \"_self\";\n              break;\n\n            case LinkTarget.BLANK:\n              targetStr = \"_blank\";\n              break;\n\n            case LinkTarget.PARENT:\n              targetStr = \"_parent\";\n              break;\n\n            case LinkTarget.TOP:\n              targetStr = \"_top\";\n              break;\n          }\n\n          link.target = targetStr;\n          link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n        }\n\n        class PDFLinkService {\n          #pagesRefCache = new Map();\n\n          constructor({\n            eventBus,\n            externalLinkTarget = null,\n            externalLinkRel = null,\n            ignoreDestinationZoom = false\n          } = {}) {\n            this.eventBus = eventBus;\n            this.externalLinkTarget = externalLinkTarget;\n            this.externalLinkRel = externalLinkRel;\n            this.externalLinkEnabled = true;\n            this._ignoreDestinationZoom = ignoreDestinationZoom;\n            this.baseUrl = null;\n            this.pdfDocument = null;\n            this.pdfViewer = null;\n            this.pdfHistory = null;\n          }\n\n          setDocument(pdfDocument, baseUrl = null) {\n            this.baseUrl = baseUrl;\n            this.pdfDocument = pdfDocument;\n            this.#pagesRefCache.clear();\n          }\n\n          setViewer(pdfViewer) {\n            this.pdfViewer = pdfViewer;\n          }\n\n          setHistory(pdfHistory) {\n            this.pdfHistory = pdfHistory;\n          }\n\n          get pagesCount() {\n            return this.pdfDocument ? this.pdfDocument.numPages : 0;\n          }\n\n          get page() {\n            return this.pdfViewer.currentPageNumber;\n          }\n\n          set page(value) {\n            this.pdfViewer.currentPageNumber = value;\n          }\n\n          get rotation() {\n            return this.pdfViewer.pagesRotation;\n          }\n\n          set rotation(value) {\n            this.pdfViewer.pagesRotation = value;\n          }\n\n          #goToDestinationHelper(rawDest, namedDest = null, explicitDest) {\n            const destRef = explicitDest[0];\n            let pageNumber;\n\n            if (typeof destRef === \"object\" && destRef !== null) {\n              pageNumber = this._cachedPageNumber(destRef);\n\n              if (!pageNumber) {\n                this.pdfDocument.getPageIndex(destRef).then(pageIndex => {\n                  this.cachePageRef(pageIndex + 1, destRef);\n                  this.#goToDestinationHelper(rawDest, namedDest, explicitDest);\n                }).catch(() => {\n                  console.error(`PDFLinkService.#goToDestinationHelper: \"${destRef}\" is not ` + `a valid page reference, for dest=\"${rawDest}\".`);\n                });\n                return;\n              }\n            } else if (Number.isInteger(destRef)) {\n              pageNumber = destRef + 1;\n            } else {\n              console.error(`PDFLinkService.#goToDestinationHelper: \"${destRef}\" is not ` + `a valid destination reference, for dest=\"${rawDest}\".`);\n              return;\n            }\n\n            if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n              console.error(`PDFLinkService.#goToDestinationHelper: \"${pageNumber}\" is not ` + `a valid page number, for dest=\"${rawDest}\".`);\n              return;\n            }\n\n            if (this.pdfHistory) {\n              this.pdfHistory.pushCurrentPosition();\n              this.pdfHistory.push({\n                namedDest,\n                explicitDest,\n                pageNumber\n              });\n            }\n\n            this.pdfViewer.scrollPageIntoView({\n              pageNumber,\n              destArray: explicitDest,\n              ignoreDestinationZoom: this._ignoreDestinationZoom\n            });\n          }\n\n          goToDestination(dest) {\n            var _this3 = this;\n\n            return _asyncToGenerator(function* () {\n              if (!_this3.pdfDocument) {\n                return;\n              }\n\n              let namedDest, explicitDest;\n\n              if (typeof dest === \"string\") {\n                namedDest = dest;\n                explicitDest = yield _this3.pdfDocument.getDestination(dest);\n              } else {\n                namedDest = null;\n                explicitDest = yield dest;\n              }\n\n              if (!Array.isArray(explicitDest)) {\n                console.error(`PDFLinkService.goToDestination: \"${explicitDest}\" is not ` + `a valid destination array, for dest=\"${dest}\".`);\n                return;\n              }\n\n              _this3.#goToDestinationHelper(dest, namedDest, explicitDest);\n            })();\n          }\n\n          goToPage(val) {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            const pageNumber = typeof val === \"string\" && this.pdfViewer.pageLabelToPageNumber(val) || val | 0;\n\n            if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n              console.error(`PDFLinkService.goToPage: \"${val}\" is not a valid page.`);\n              return;\n            }\n\n            if (this.pdfHistory) {\n              this.pdfHistory.pushCurrentPosition();\n              this.pdfHistory.pushPage(pageNumber);\n            }\n\n            this.pdfViewer.scrollPageIntoView({\n              pageNumber\n            });\n          }\n\n          addLinkAttributes(link, url, newWindow = false) {\n            addLinkAttributes(link, {\n              url,\n              target: newWindow ? LinkTarget.BLANK : this.externalLinkTarget,\n              rel: this.externalLinkRel,\n              enabled: this.externalLinkEnabled\n            });\n          }\n\n          getDestinationHash(dest) {\n            if (typeof dest === \"string\") {\n              if (dest.length > 0) {\n                return this.getAnchorUrl(\"#\" + escape(dest));\n              }\n            } else if (Array.isArray(dest)) {\n              const str = JSON.stringify(dest);\n\n              if (str.length > 0) {\n                return this.getAnchorUrl(\"#\" + escape(str));\n              }\n            }\n\n            return this.getAnchorUrl(\"\");\n          }\n\n          getAnchorUrl(anchor) {\n            return (this.baseUrl || \"\") + anchor;\n          }\n\n          setHash(hash) {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            let pageNumber, dest;\n\n            if (hash.includes(\"=\")) {\n              const params = (0, _ui_utils.parseQueryString)(hash);\n\n              if (params.has(\"search\")) {\n                this.eventBus.dispatch(\"findfromurlhash\", {\n                  source: this,\n                  query: params.get(\"search\").replace(/\"/g, \"\"),\n                  phraseSearch: params.get(\"phrase\") === \"true\"\n                });\n              }\n\n              if (params.has(\"page\")) {\n                pageNumber = params.get(\"page\") | 0 || 1;\n              }\n\n              if (params.has(\"zoom\")) {\n                const zoomArgs = params.get(\"zoom\").split(\",\");\n                const zoomArg = zoomArgs[0];\n                const zoomArgNumber = parseFloat(zoomArg);\n\n                if (!zoomArg.includes(\"Fit\")) {\n                  dest = [null, {\n                    name: \"XYZ\"\n                  }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n                } else {\n                  if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n                    dest = [null, {\n                      name: zoomArg\n                    }];\n                  } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n                    dest = [null, {\n                      name: zoomArg\n                    }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n                  } else if (zoomArg === \"FitR\") {\n                    if (zoomArgs.length !== 5) {\n                      console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n                    } else {\n                      dest = [null, {\n                        name: zoomArg\n                      }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n                    }\n                  } else {\n                    console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not a valid zoom value.`);\n                  }\n                }\n              }\n\n              if (dest) {\n                this.pdfViewer.scrollPageIntoView({\n                  pageNumber: pageNumber || this.page,\n                  destArray: dest,\n                  allowNegativeOffset: true\n                });\n              } else if (pageNumber) {\n                this.page = pageNumber;\n              }\n\n              if (params.has(\"pagemode\")) {\n                this.eventBus.dispatch(\"pagemode\", {\n                  source: this,\n                  mode: params.get(\"pagemode\")\n                });\n              }\n\n              if (params.has(\"nameddest\")) {\n                this.goToDestination(params.get(\"nameddest\"));\n              }\n            } else {\n              dest = unescape(hash);\n\n              try {\n                dest = JSON.parse(dest);\n\n                if (!Array.isArray(dest)) {\n                  dest = dest.toString();\n                }\n              } catch (ex) {}\n\n              if (typeof dest === \"string\" || PDFLinkService.#isValidExplicitDestination(dest)) {\n                this.goToDestination(dest);\n                return;\n              }\n\n              console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not a valid destination.`);\n            }\n          }\n\n          executeNamedAction(action) {\n            switch (action) {\n              case \"GoBack\":\n                this.pdfHistory?.back();\n                break;\n\n              case \"GoForward\":\n                this.pdfHistory?.forward();\n                break;\n\n              case \"NextPage\":\n                this.pdfViewer.nextPage();\n                break;\n\n              case \"PrevPage\":\n                this.pdfViewer.previousPage();\n                break;\n\n              case \"LastPage\":\n                this.page = this.pagesCount;\n                break;\n\n              case \"FirstPage\":\n                this.page = 1;\n                break;\n\n              default:\n                break;\n            }\n\n            this.eventBus.dispatch(\"namedaction\", {\n              source: this,\n              action\n            });\n          }\n\n          cachePageRef(pageNum, pageRef) {\n            if (!pageRef) {\n              return;\n            }\n\n            const refStr = pageRef.gen === 0 ? `${pageRef.num}R` : `${pageRef.num}R${pageRef.gen}`;\n            this.#pagesRefCache.set(refStr, pageNum);\n          }\n\n          _cachedPageNumber(pageRef) {\n            if (!pageRef) {\n              return null;\n            }\n\n            const refStr = pageRef.gen === 0 ? `${pageRef.num}R` : `${pageRef.num}R${pageRef.gen}`;\n            return this.#pagesRefCache.get(refStr) || null;\n          }\n\n          isPageVisible(pageNumber) {\n            return this.pdfViewer.isPageVisible(pageNumber);\n          }\n\n          isPageCached(pageNumber) {\n            return this.pdfViewer.isPageCached(pageNumber);\n          }\n\n          static #isValidExplicitDestination(dest) {\n            if (!Array.isArray(dest)) {\n              return false;\n            }\n\n            const destLength = dest.length;\n\n            if (destLength < 2) {\n              return false;\n            }\n\n            const page = dest[0];\n\n            if (!(typeof page === \"object\" && Number.isInteger(page.num) && Number.isInteger(page.gen)) && !(Number.isInteger(page) && page >= 0)) {\n              return false;\n            }\n\n            const zoom = dest[1];\n\n            if (!(typeof zoom === \"object\" && typeof zoom.name === \"string\")) {\n              return false;\n            }\n\n            let allowNull = true;\n\n            switch (zoom.name) {\n              case \"XYZ\":\n                if (destLength !== 5) {\n                  return false;\n                }\n\n                break;\n\n              case \"Fit\":\n              case \"FitB\":\n                return destLength === 2;\n\n              case \"FitH\":\n              case \"FitBH\":\n              case \"FitV\":\n              case \"FitBV\":\n                if (destLength !== 3) {\n                  return false;\n                }\n\n                break;\n\n              case \"FitR\":\n                if (destLength !== 6) {\n                  return false;\n                }\n\n                allowNull = false;\n                break;\n\n              default:\n                return false;\n            }\n\n            for (let i = 2; i < destLength; i++) {\n              const param = dest[i];\n\n              if (!(typeof param === \"number\" || allowNull && param === null)) {\n                return false;\n              }\n            }\n\n            return true;\n          }\n\n        }\n\n        exports.PDFLinkService = PDFLinkService;\n\n        class SimpleLinkService {\n          constructor() {\n            this.externalLinkEnabled = true;\n          }\n\n          get pagesCount() {\n            return 0;\n          }\n\n          get page() {\n            return 0;\n          }\n\n          set page(value) {}\n\n          get rotation() {\n            return 0;\n          }\n\n          set rotation(value) {}\n\n          goToDestination(dest) {\n            return _asyncToGenerator(function* () {})();\n          }\n\n          goToPage(val) {}\n\n          addLinkAttributes(link, url, newWindow = false) {\n            addLinkAttributes(link, {\n              url,\n              enabled: this.externalLinkEnabled\n            });\n          }\n\n          getDestinationHash(dest) {\n            return \"#\";\n          }\n\n          getAnchorUrl(hash) {\n            return \"#\";\n          }\n\n          setHash(hash) {}\n\n          executeNamedAction(action) {}\n\n          cachePageRef(pageNum, pageRef) {}\n\n          isPageVisible(pageNumber) {\n            return true;\n          }\n\n          isPageCached(pageNumber) {\n            return true;\n          }\n\n        }\n\n        exports.SimpleLinkService = SimpleLinkService;\n        /***/\n      },\n      /* 7 */\n\n      /***/\n      (__unused_webpack_module, exports) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.animationStarted = exports.VERTICAL_PADDING = exports.UNKNOWN_SCALE = exports.TextLayerMode = exports.SpreadMode = exports.SidebarView = exports.ScrollMode = exports.SCROLLBAR_PADDING = exports.RenderingStates = exports.RendererType = exports.ProgressBar = exports.PresentationModeState = exports.OutputScale = exports.MIN_SCALE = exports.MAX_SCALE = exports.MAX_AUTO_SCALE = exports.DEFAULT_SCALE_VALUE = exports.DEFAULT_SCALE_DELTA = exports.DEFAULT_SCALE = exports.AutoPrintRegExp = void 0;\n        exports.apiPageLayoutToViewerModes = apiPageLayoutToViewerModes;\n        exports.apiPageModeToSidebarView = apiPageModeToSidebarView;\n        exports.approximateFraction = approximateFraction;\n        exports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\n        exports.binarySearchFirstItem = binarySearchFirstItem;\n        exports.docStyle = void 0;\n        exports.getActiveOrFocusedElement = getActiveOrFocusedElement;\n        exports.getPageSizeInches = getPageSizeInches;\n        exports.getVisibleElements = getVisibleElements;\n        exports.isPortraitOrientation = isPortraitOrientation;\n        exports.isValidRotation = isValidRotation;\n        exports.isValidScrollMode = isValidScrollMode;\n        exports.isValidSpreadMode = isValidSpreadMode;\n        exports.noContextMenuHandler = noContextMenuHandler;\n        exports.normalizeWheelEventDelta = normalizeWheelEventDelta;\n        exports.normalizeWheelEventDirection = normalizeWheelEventDirection;\n        exports.parseQueryString = parseQueryString;\n        exports.removeNullCharacters = removeNullCharacters;\n        exports.roundToDivide = roundToDivide;\n        exports.scrollIntoView = scrollIntoView;\n        exports.watchScroll = watchScroll;\n        const DEFAULT_SCALE_VALUE = \"auto\";\n        exports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\n        const DEFAULT_SCALE = 1.0;\n        exports.DEFAULT_SCALE = DEFAULT_SCALE;\n        const DEFAULT_SCALE_DELTA = 1.1;\n        exports.DEFAULT_SCALE_DELTA = DEFAULT_SCALE_DELTA;\n        const MIN_SCALE = 0.1;\n        exports.MIN_SCALE = MIN_SCALE;\n        const MAX_SCALE = 10.0;\n        exports.MAX_SCALE = MAX_SCALE;\n        const UNKNOWN_SCALE = 0;\n        exports.UNKNOWN_SCALE = UNKNOWN_SCALE;\n        const MAX_AUTO_SCALE = 1.25;\n        exports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\n        const SCROLLBAR_PADDING = 40;\n        exports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\n        const VERTICAL_PADDING = 5;\n        exports.VERTICAL_PADDING = VERTICAL_PADDING;\n        const RenderingStates = {\n          INITIAL: 0,\n          RUNNING: 1,\n          PAUSED: 2,\n          FINISHED: 3\n        };\n        exports.RenderingStates = RenderingStates;\n        const PresentationModeState = {\n          UNKNOWN: 0,\n          NORMAL: 1,\n          CHANGING: 2,\n          FULLSCREEN: 3\n        };\n        exports.PresentationModeState = PresentationModeState;\n        const SidebarView = {\n          UNKNOWN: -1,\n          NONE: 0,\n          THUMBS: 1,\n          OUTLINE: 2,\n          ATTACHMENTS: 3,\n          LAYERS: 4\n        };\n        exports.SidebarView = SidebarView;\n        const RendererType = {\n          CANVAS: \"canvas\",\n          SVG: \"svg\"\n        };\n        exports.RendererType = RendererType;\n        const TextLayerMode = {\n          DISABLE: 0,\n          ENABLE: 1,\n          ENABLE_ENHANCE: 2\n        };\n        exports.TextLayerMode = TextLayerMode;\n        const ScrollMode = {\n          UNKNOWN: -1,\n          VERTICAL: 0,\n          HORIZONTAL: 1,\n          WRAPPED: 2,\n          PAGE: 3\n        };\n        exports.ScrollMode = ScrollMode;\n        const SpreadMode = {\n          UNKNOWN: -1,\n          NONE: 0,\n          ODD: 1,\n          EVEN: 2\n        };\n        exports.SpreadMode = SpreadMode;\n        const AutoPrintRegExp = /\\bprint\\s*\\(/;\n        exports.AutoPrintRegExp = AutoPrintRegExp;\n\n        class OutputScale {\n          constructor() {\n            const pixelRatio = window.devicePixelRatio || 1;\n            this.sx = pixelRatio;\n            this.sy = pixelRatio;\n          }\n\n          get scaled() {\n            return this.sx !== 1 || this.sy !== 1;\n          }\n\n        }\n\n        exports.OutputScale = OutputScale;\n\n        function scrollIntoView(element, spot, scrollMatches = false) {\n          let parent = element.offsetParent;\n\n          if (!parent) {\n            console.error(\"offsetParent is not set -- cannot scroll\");\n            return;\n          }\n\n          let offsetY = element.offsetTop + element.clientTop;\n          let offsetX = element.offsetLeft + element.clientLeft;\n\n          while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || scrollMatches && (parent.classList.contains(\"markedContent\") || getComputedStyle(parent).overflow === \"hidden\")) {\n            offsetY += parent.offsetTop;\n            offsetX += parent.offsetLeft;\n            parent = parent.offsetParent;\n\n            if (!parent) {\n              return;\n            }\n          }\n\n          if (spot) {\n            if (spot.top !== undefined) {\n              offsetY += spot.top;\n            }\n\n            if (spot.left !== undefined) {\n              offsetX += spot.left;\n              parent.scrollLeft = offsetX;\n            }\n          }\n\n          parent.scrollTop = offsetY;\n        }\n\n        function watchScroll(viewAreaElement, callback) {\n          const debounceScroll = function (evt) {\n            if (rAF) {\n              return;\n            }\n\n            rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n              rAF = null;\n              const currentX = viewAreaElement.scrollLeft;\n              const lastX = state.lastX;\n\n              if (currentX !== lastX) {\n                state.right = currentX > lastX;\n              }\n\n              state.lastX = currentX;\n              const currentY = viewAreaElement.scrollTop;\n              const lastY = state.lastY;\n\n              if (currentY !== lastY) {\n                state.down = currentY > lastY;\n              }\n\n              state.lastY = currentY;\n              callback(state);\n            });\n          };\n\n          const state = {\n            right: true,\n            down: true,\n            lastX: viewAreaElement.scrollLeft,\n            lastY: viewAreaElement.scrollTop,\n            _eventHandler: debounceScroll\n          };\n          let rAF = null;\n          viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n          return state;\n        }\n\n        function parseQueryString(query) {\n          const params = new Map();\n\n          for (const [key, value] of new URLSearchParams(query)) {\n            params.set(key.toLowerCase(), value);\n          }\n\n          return params;\n        }\n\n        const NullCharactersRegExp = /\\x00/g;\n        const InvisibleCharactersRegExp = /[\\x01-\\x1F]/g;\n\n        function removeNullCharacters(str, replaceInvisible = false) {\n          if (typeof str !== \"string\") {\n            console.error(`The argument must be a string.`);\n            return str;\n          }\n\n          if (replaceInvisible) {\n            str = str.replace(InvisibleCharactersRegExp, \" \");\n          }\n\n          return str.replace(NullCharactersRegExp, \"\");\n        }\n\n        function binarySearchFirstItem(items, condition, start = 0) {\n          let minIndex = start;\n          let maxIndex = items.length - 1;\n\n          if (maxIndex < 0 || !condition(items[maxIndex])) {\n            return items.length;\n          }\n\n          if (condition(items[minIndex])) {\n            return minIndex;\n          }\n\n          while (minIndex < maxIndex) {\n            const currentIndex = minIndex + maxIndex >> 1;\n            const currentItem = items[currentIndex];\n\n            if (condition(currentItem)) {\n              maxIndex = currentIndex;\n            } else {\n              minIndex = currentIndex + 1;\n            }\n          }\n\n          return minIndex;\n        }\n\n        function approximateFraction(x) {\n          if (Math.floor(x) === x) {\n            return [x, 1];\n          }\n\n          const xinv = 1 / x;\n          const limit = 8;\n\n          if (xinv > limit) {\n            return [1, limit];\n          } else if (Math.floor(xinv) === xinv) {\n            return [1, xinv];\n          }\n\n          const x_ = x > 1 ? xinv : x;\n          let a = 0,\n              b = 1,\n              c = 1,\n              d = 1;\n\n          while (true) {\n            const p = a + c,\n                  q = b + d;\n\n            if (q > limit) {\n              break;\n            }\n\n            if (x_ <= p / q) {\n              c = p;\n              d = q;\n            } else {\n              a = p;\n              b = q;\n            }\n          }\n\n          let result;\n\n          if (x_ - a / b < c / d - x_) {\n            result = x_ === x ? [a, b] : [b, a];\n          } else {\n            result = x_ === x ? [c, d] : [d, c];\n          }\n\n          return result;\n        }\n\n        function roundToDivide(x, div) {\n          const r = x % div;\n          return r === 0 ? x : Math.round(x - r + div);\n        }\n\n        function getPageSizeInches({\n          view,\n          userUnit,\n          rotate\n        }) {\n          const [x1, y1, x2, y2] = view;\n          const changeOrientation = rotate % 180 !== 0;\n          const width = (x2 - x1) / 72 * userUnit;\n          const height = (y2 - y1) / 72 * userUnit;\n          return {\n            width: changeOrientation ? height : width,\n            height: changeOrientation ? width : height\n          };\n        }\n\n        function backtrackBeforeAllVisibleElements(index, views, top) {\n          if (index < 2) {\n            return index;\n          }\n\n          let elt = views[index].div;\n          let pageTop = elt.offsetTop + elt.clientTop;\n\n          if (pageTop >= top) {\n            elt = views[index - 1].div;\n            pageTop = elt.offsetTop + elt.clientTop;\n          }\n\n          for (let i = index - 2; i >= 0; --i) {\n            elt = views[i].div;\n\n            if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n              break;\n            }\n\n            index = i;\n          }\n\n          return index;\n        }\n\n        function getVisibleElements({\n          scrollEl,\n          views,\n          sortByVisibility = false,\n          horizontal = false,\n          rtl = false\n        }) {\n          const top = scrollEl.scrollTop,\n                bottom = top + scrollEl.clientHeight;\n          const left = scrollEl.scrollLeft,\n                right = left + scrollEl.clientWidth;\n\n          function isElementBottomAfterViewTop(view) {\n            const element = view.div;\n            const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n            return elementBottom > top;\n          }\n\n          function isElementNextAfterViewHorizontally(view) {\n            const element = view.div;\n            const elementLeft = element.offsetLeft + element.clientLeft;\n            const elementRight = elementLeft + element.clientWidth;\n            return rtl ? elementLeft < right : elementRight > left;\n          }\n\n          const visible = [],\n                ids = new Set(),\n                numViews = views.length;\n          let firstVisibleElementInd = binarySearchFirstItem(views, horizontal ? isElementNextAfterViewHorizontally : isElementBottomAfterViewTop);\n\n          if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n            firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n          }\n\n          let lastEdge = horizontal ? right : -1;\n\n          for (let i = firstVisibleElementInd; i < numViews; i++) {\n            const view = views[i],\n                  element = view.div;\n            const currentWidth = element.offsetLeft + element.clientLeft;\n            const currentHeight = element.offsetTop + element.clientTop;\n            const viewWidth = element.clientWidth,\n                  viewHeight = element.clientHeight;\n            const viewRight = currentWidth + viewWidth;\n            const viewBottom = currentHeight + viewHeight;\n\n            if (lastEdge === -1) {\n              if (viewBottom >= bottom) {\n                lastEdge = viewBottom;\n              }\n            } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n              break;\n            }\n\n            if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n              continue;\n            }\n\n            const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n            const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n            const fractionHeight = (viewHeight - hiddenHeight) / viewHeight,\n                  fractionWidth = (viewWidth - hiddenWidth) / viewWidth;\n            const percent = fractionHeight * fractionWidth * 100 | 0;\n            visible.push({\n              id: view.id,\n              x: currentWidth,\n              y: currentHeight,\n              view,\n              percent,\n              widthPercent: fractionWidth * 100 | 0\n            });\n            ids.add(view.id);\n          }\n\n          const first = visible[0],\n                last = visible.at(-1);\n\n          if (sortByVisibility) {\n            visible.sort(function (a, b) {\n              const pc = a.percent - b.percent;\n\n              if (Math.abs(pc) > 0.001) {\n                return -pc;\n              }\n\n              return a.id - b.id;\n            });\n          }\n\n          return {\n            first,\n            last,\n            views: visible,\n            ids\n          };\n        }\n\n        function noContextMenuHandler(evt) {\n          evt.preventDefault();\n        }\n\n        function normalizeWheelEventDirection(evt) {\n          let delta = Math.hypot(evt.deltaX, evt.deltaY);\n          const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n          if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n            delta = -delta;\n          }\n\n          return delta;\n        }\n\n        function normalizeWheelEventDelta(evt) {\n          let delta = normalizeWheelEventDirection(evt);\n          const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n          const MOUSE_DOM_DELTA_LINE_MODE = 1;\n          const MOUSE_PIXELS_PER_LINE = 30;\n          const MOUSE_LINES_PER_PAGE = 30;\n\n          if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n            delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n          } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n            delta /= MOUSE_LINES_PER_PAGE;\n          }\n\n          return delta;\n        }\n\n        function isValidRotation(angle) {\n          return Number.isInteger(angle) && angle % 90 === 0;\n        }\n\n        function isValidScrollMode(mode) {\n          return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n        }\n\n        function isValidSpreadMode(mode) {\n          return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n        }\n\n        function isPortraitOrientation(size) {\n          return size.width <= size.height;\n        }\n\n        const animationStarted = new Promise(function (resolve) {\n          window.requestAnimationFrame(resolve);\n        });\n        exports.animationStarted = animationStarted;\n        const docStyle = document.documentElement.style;\n        exports.docStyle = docStyle;\n\n        function clamp(v, min, max) {\n          return Math.min(Math.max(v, min), max);\n        }\n\n        class ProgressBar {\n          #classList = null;\n          #percent = 0;\n          #visible = true;\n\n          constructor(id) {\n            if (arguments.length > 1) {\n              throw new Error(\"ProgressBar no longer accepts any additional options, \" + \"please use CSS rules to modify its appearance instead.\");\n            }\n\n            const bar = document.getElementById(id);\n            this.#classList = bar.classList;\n          }\n\n          get percent() {\n            return this.#percent;\n          }\n\n          set percent(val) {\n            this.#percent = clamp(val, 0, 100);\n\n            if (isNaN(val)) {\n              this.#classList.add(\"indeterminate\");\n              return;\n            }\n\n            this.#classList.remove(\"indeterminate\");\n            docStyle.setProperty(\"--progressBar-percent\", `${this.#percent}%`);\n          }\n\n          setWidth(viewer) {\n            if (!viewer) {\n              return;\n            }\n\n            const container = viewer.parentNode;\n            const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n            if (scrollbarWidth > 0) {\n              docStyle.setProperty(\"--progressBar-end-offset\", `${scrollbarWidth}px`);\n            }\n          }\n\n          hide() {\n            if (!this.#visible) {\n              return;\n            }\n\n            this.#visible = false;\n            this.#classList.add(\"hidden\");\n          }\n\n          show() {\n            if (this.#visible) {\n              return;\n            }\n\n            this.#visible = true;\n            this.#classList.remove(\"hidden\");\n          }\n\n        }\n\n        exports.ProgressBar = ProgressBar;\n\n        function getActiveOrFocusedElement() {\n          let curRoot = document;\n          let curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n\n          while (curActiveOrFocused?.shadowRoot) {\n            curRoot = curActiveOrFocused.shadowRoot;\n            curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n          }\n\n          return curActiveOrFocused;\n        }\n\n        function apiPageLayoutToViewerModes(layout) {\n          let scrollMode = ScrollMode.VERTICAL,\n              spreadMode = SpreadMode.NONE;\n\n          switch (layout) {\n            case \"SinglePage\":\n              scrollMode = ScrollMode.PAGE;\n              break;\n\n            case \"OneColumn\":\n              break;\n\n            case \"TwoPageLeft\":\n              scrollMode = ScrollMode.PAGE;\n\n            case \"TwoColumnLeft\":\n              spreadMode = SpreadMode.ODD;\n              break;\n\n            case \"TwoPageRight\":\n              scrollMode = ScrollMode.PAGE;\n\n            case \"TwoColumnRight\":\n              spreadMode = SpreadMode.EVEN;\n              break;\n          }\n\n          return {\n            scrollMode,\n            spreadMode\n          };\n        }\n\n        function apiPageModeToSidebarView(mode) {\n          switch (mode) {\n            case \"UseNone\":\n              return SidebarView.NONE;\n\n            case \"UseThumbs\":\n              return SidebarView.THUMBS;\n\n            case \"UseOutlines\":\n              return SidebarView.OUTLINE;\n\n            case \"UseAttachments\":\n              return SidebarView.ATTACHMENTS;\n\n            case \"UseOC\":\n              return SidebarView.LAYERS;\n          }\n\n          return SidebarView.NONE;\n        }\n        /***/\n\n      },\n      /* 8 */\n\n      /***/\n      (__unused_webpack_module, exports) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.StructTreeLayerBuilder = void 0;\n        const PDF_ROLE_TO_HTML_ROLE = {\n          Document: null,\n          DocumentFragment: null,\n          Part: \"group\",\n          Sect: \"group\",\n          Div: \"group\",\n          Aside: \"note\",\n          NonStruct: \"none\",\n          P: null,\n          H: \"heading\",\n          Title: null,\n          FENote: \"note\",\n          Sub: \"group\",\n          Lbl: null,\n          Span: null,\n          Em: null,\n          Strong: null,\n          Link: \"link\",\n          Annot: \"note\",\n          Form: \"form\",\n          Ruby: null,\n          RB: null,\n          RT: null,\n          RP: null,\n          Warichu: null,\n          WT: null,\n          WP: null,\n          L: \"list\",\n          LI: \"listitem\",\n          LBody: null,\n          Table: \"table\",\n          TR: \"row\",\n          TH: \"columnheader\",\n          TD: \"cell\",\n          THead: \"columnheader\",\n          TBody: null,\n          TFoot: null,\n          Caption: null,\n          Figure: \"figure\",\n          Formula: null,\n          Artifact: null\n        };\n        const HEADING_PATTERN = /^H(\\d+)$/;\n\n        class StructTreeLayerBuilder {\n          constructor({\n            pdfPage\n          }) {\n            this.pdfPage = pdfPage;\n          }\n\n          render(structTree) {\n            return this._walk(structTree);\n          }\n\n          _setAttributes(structElement, htmlElement) {\n            if (structElement.alt !== undefined) {\n              htmlElement.setAttribute(\"aria-label\", structElement.alt);\n            }\n\n            if (structElement.id !== undefined) {\n              htmlElement.setAttribute(\"aria-owns\", structElement.id);\n            }\n\n            if (structElement.lang !== undefined) {\n              htmlElement.setAttribute(\"lang\", structElement.lang);\n            }\n          }\n\n          _walk(node) {\n            if (!node) {\n              return null;\n            }\n\n            const element = document.createElement(\"span\");\n\n            if (\"role\" in node) {\n              const {\n                role\n              } = node;\n              const match = role.match(HEADING_PATTERN);\n\n              if (match) {\n                element.setAttribute(\"role\", \"heading\");\n                element.setAttribute(\"aria-level\", match[1]);\n              } else if (PDF_ROLE_TO_HTML_ROLE[role]) {\n                element.setAttribute(\"role\", PDF_ROLE_TO_HTML_ROLE[role]);\n              }\n            }\n\n            this._setAttributes(node, element);\n\n            if (node.children) {\n              if (node.children.length === 1 && \"id\" in node.children[0]) {\n                this._setAttributes(node.children[0], element);\n              } else {\n                for (const kid of node.children) {\n                  element.append(this._walk(kid));\n                }\n              }\n            }\n\n            return element;\n          }\n\n        }\n\n        exports.StructTreeLayerBuilder = StructTreeLayerBuilder;\n        /***/\n      },\n      /* 9 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.TextLayerBuilder = void 0;\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        const EXPAND_DIVS_TIMEOUT = 300;\n\n        class TextLayerBuilder {\n          constructor({\n            textLayerDiv,\n            eventBus,\n            pageIndex,\n            viewport,\n            highlighter = null,\n            enhanceTextSelection = false,\n            accessibilityManager = null\n          }) {\n            this.textLayerDiv = textLayerDiv;\n            this.eventBus = eventBus;\n            this.textContent = null;\n            this.textContentItemsStr = [];\n            this.textContentStream = null;\n            this.renderingDone = false;\n            this.pageNumber = pageIndex + 1;\n            this.viewport = viewport;\n            this.textDivs = [];\n            this.textLayerRenderTask = null;\n            this.highlighter = highlighter;\n            this.enhanceTextSelection = enhanceTextSelection;\n            this.accessibilityManager = accessibilityManager;\n\n            this._bindMouse();\n          }\n\n          _finishRendering() {\n            this.renderingDone = true;\n\n            if (!this.enhanceTextSelection) {\n              const endOfContent = document.createElement(\"div\");\n              endOfContent.className = \"endOfContent\";\n              this.textLayerDiv.append(endOfContent);\n            }\n\n            this.eventBus.dispatch(\"textlayerrendered\", {\n              source: this,\n              pageNumber: this.pageNumber,\n              numTextDivs: this.textDivs.length\n            });\n          }\n\n          render(timeout = 0) {\n            if (!(this.textContent || this.textContentStream) || this.renderingDone) {\n              return;\n            }\n\n            this.cancel();\n            this.textDivs.length = 0;\n            this.highlighter?.setTextMapping(this.textDivs, this.textContentItemsStr);\n            this.accessibilityManager?.setTextMapping(this.textDivs);\n            const textLayerFrag = document.createDocumentFragment();\n            this.textLayerRenderTask = (0, _pdfjsLib.renderTextLayer)({\n              textContent: this.textContent,\n              textContentStream: this.textContentStream,\n              container: textLayerFrag,\n              viewport: this.viewport,\n              textDivs: this.textDivs,\n              textContentItemsStr: this.textContentItemsStr,\n              timeout,\n              enhanceTextSelection: this.enhanceTextSelection\n            });\n            this.textLayerRenderTask.promise.then(() => {\n              this.textLayerDiv.append(textLayerFrag);\n\n              this._finishRendering();\n\n              this.highlighter?.enable();\n              this.accessibilityManager?.enable();\n            }, function (reason) {});\n          }\n\n          cancel() {\n            if (this.textLayerRenderTask) {\n              this.textLayerRenderTask.cancel();\n              this.textLayerRenderTask = null;\n            }\n\n            this.highlighter?.disable();\n            this.accessibilityManager?.disable();\n          }\n\n          setTextContentStream(readableStream) {\n            this.cancel();\n            this.textContentStream = readableStream;\n          }\n\n          setTextContent(textContent) {\n            this.cancel();\n            this.textContent = textContent;\n          }\n\n          _bindMouse() {\n            const div = this.textLayerDiv;\n            let expandDivsTimer = null;\n            div.addEventListener(\"mousedown\", evt => {\n              if (this.enhanceTextSelection && this.textLayerRenderTask) {\n                this.textLayerRenderTask.expandTextDivs(true);\n\n                if (expandDivsTimer) {\n                  clearTimeout(expandDivsTimer);\n                  expandDivsTimer = null;\n                }\n\n                return;\n              }\n\n              const end = div.querySelector(\".endOfContent\");\n\n              if (!end) {\n                return;\n              }\n\n              let adjustTop = evt.target !== div;\n              adjustTop = adjustTop && window.getComputedStyle(end).getPropertyValue(\"-moz-user-select\") !== \"none\";\n\n              if (adjustTop) {\n                const divBounds = div.getBoundingClientRect();\n                const r = Math.max(0, (evt.pageY - divBounds.top) / divBounds.height);\n                end.style.top = (r * 100).toFixed(2) + \"%\";\n              }\n\n              end.classList.add(\"active\");\n            });\n            div.addEventListener(\"mouseup\", () => {\n              if (this.enhanceTextSelection && this.textLayerRenderTask) {\n                expandDivsTimer = setTimeout(() => {\n                  if (this.textLayerRenderTask) {\n                    this.textLayerRenderTask.expandTextDivs(false);\n                  }\n\n                  expandDivsTimer = null;\n                }, EXPAND_DIVS_TIMEOUT);\n                return;\n              }\n\n              const end = div.querySelector(\".endOfContent\");\n\n              if (!end) {\n                return;\n              }\n\n              end.style.top = \"\";\n              end.classList.remove(\"active\");\n            });\n          }\n\n        }\n\n        exports.TextLayerBuilder = TextLayerBuilder;\n        /***/\n      },\n      /* 10 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.XfaLayerBuilder = void 0;\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        class XfaLayerBuilder {\n          constructor({\n            pageDiv,\n            pdfPage,\n            annotationStorage = null,\n            linkService,\n            xfaHtml = null\n          }) {\n            this.pageDiv = pageDiv;\n            this.pdfPage = pdfPage;\n            this.annotationStorage = annotationStorage;\n            this.linkService = linkService;\n            this.xfaHtml = xfaHtml;\n            this.div = null;\n            this._cancelled = false;\n          }\n\n          render(viewport, intent = \"display\") {\n            if (intent === \"print\") {\n              const parameters = {\n                viewport: viewport.clone({\n                  dontFlip: true\n                }),\n                div: this.div,\n                xfaHtml: this.xfaHtml,\n                annotationStorage: this.annotationStorage,\n                linkService: this.linkService,\n                intent\n              };\n              const div = document.createElement(\"div\");\n              this.pageDiv.append(div);\n              parameters.div = div;\n\n              const result = _pdfjsLib.XfaLayer.render(parameters);\n\n              return Promise.resolve(result);\n            }\n\n            return this.pdfPage.getXfa().then(xfaHtml => {\n              if (this._cancelled || !xfaHtml) {\n                return {\n                  textDivs: []\n                };\n              }\n\n              const parameters = {\n                viewport: viewport.clone({\n                  dontFlip: true\n                }),\n                div: this.div,\n                xfaHtml,\n                annotationStorage: this.annotationStorage,\n                linkService: this.linkService,\n                intent\n              };\n\n              if (this.div) {\n                return _pdfjsLib.XfaLayer.update(parameters);\n              }\n\n              this.div = document.createElement(\"div\");\n              this.pageDiv.append(this.div);\n              parameters.div = this.div;\n              return _pdfjsLib.XfaLayer.render(parameters);\n            }).catch(error => {\n              console.error(error);\n            });\n          }\n\n          cancel() {\n            this._cancelled = true;\n          }\n\n          hide() {\n            if (!this.div) {\n              return;\n            }\n\n            this.div.hidden = true;\n          }\n\n        }\n\n        exports.XfaLayerBuilder = XfaLayerBuilder;\n        /***/\n      },\n      /* 11 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.PDFViewer = exports.PDFSinglePageViewer = void 0;\n\n        var _ui_utils = __w_pdfjs_require__(7);\n\n        var _base_viewer = __w_pdfjs_require__(12);\n\n        class PDFViewer extends _base_viewer.BaseViewer {}\n\n        exports.PDFViewer = PDFViewer;\n\n        class PDFSinglePageViewer extends _base_viewer.BaseViewer {\n          _resetView() {\n            super._resetView();\n\n            this._scrollMode = _ui_utils.ScrollMode.PAGE;\n            this._spreadMode = _ui_utils.SpreadMode.NONE;\n          }\n\n          set scrollMode(mode) {}\n\n          _updateScrollMode() {}\n\n          set spreadMode(mode) {}\n\n          _updateSpreadMode() {}\n\n        }\n\n        exports.PDFSinglePageViewer = PDFSinglePageViewer;\n        /***/\n      },\n      /* 12 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.PagesCountLimit = exports.PDFPageViewBuffer = exports.BaseViewer = void 0;\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        var _ui_utils = __w_pdfjs_require__(7);\n\n        var _annotation_editor_layer_builder = __w_pdfjs_require__(2);\n\n        var _annotation_layer_builder = __w_pdfjs_require__(5);\n\n        var _l10n_utils = __w_pdfjs_require__(4);\n\n        var _pdf_page_view = __w_pdfjs_require__(13);\n\n        var _pdf_rendering_queue = __w_pdfjs_require__(16);\n\n        var _pdf_link_service = __w_pdfjs_require__(6);\n\n        var _struct_tree_layer_builder = __w_pdfjs_require__(8);\n\n        var _text_highlighter = __w_pdfjs_require__(17);\n\n        var _text_layer_builder = __w_pdfjs_require__(9);\n\n        var _xfa_layer_builder = __w_pdfjs_require__(10);\n\n        const DEFAULT_CACHE_SIZE = 10;\n        const ENABLE_PERMISSIONS_CLASS = \"enablePermissions\";\n        const PagesCountLimit = {\n          FORCE_SCROLL_MODE_PAGE: 15000,\n          FORCE_LAZY_PAGE_INIT: 7500,\n          PAUSE_EAGER_PAGE_INIT: 250\n        };\n        exports.PagesCountLimit = PagesCountLimit;\n\n        function isValidAnnotationEditorMode(mode) {\n          return Object.values(_pdfjsLib.AnnotationEditorType).includes(mode) && mode !== _pdfjsLib.AnnotationEditorType.DISABLE;\n        }\n\n        class PDFPageViewBuffer {\n          #buf = new Set();\n          #size = 0;\n\n          constructor(size) {\n            this.#size = size;\n          }\n\n          push(view) {\n            const buf = this.#buf;\n\n            if (buf.has(view)) {\n              buf.delete(view);\n            }\n\n            buf.add(view);\n\n            if (buf.size > this.#size) {\n              this.#destroyFirstView();\n            }\n          }\n\n          resize(newSize, idsToKeep = null) {\n            this.#size = newSize;\n            const buf = this.#buf;\n\n            if (idsToKeep) {\n              const ii = buf.size;\n              let i = 1;\n\n              for (const view of buf) {\n                if (idsToKeep.has(view.id)) {\n                  buf.delete(view);\n                  buf.add(view);\n                }\n\n                if (++i > ii) {\n                  break;\n                }\n              }\n            }\n\n            while (buf.size > this.#size) {\n              this.#destroyFirstView();\n            }\n          }\n\n          has(view) {\n            return this.#buf.has(view);\n          }\n\n          [Symbol.iterator]() {\n            return this.#buf.keys();\n          }\n\n          #destroyFirstView() {\n            const firstView = this.#buf.keys().next().value;\n            firstView?.destroy();\n            this.#buf.delete(firstView);\n          }\n\n        }\n\n        exports.PDFPageViewBuffer = PDFPageViewBuffer;\n\n        class BaseViewer {\n          #buffer = null;\n          #annotationEditorMode = _pdfjsLib.AnnotationEditorType.DISABLE;\n          #annotationEditorUIManager = null;\n          #annotationMode = _pdfjsLib.AnnotationMode.ENABLE_FORMS;\n          #enablePermissions = false;\n          #previousContainerHeight = 0;\n          #scrollModePageState = null;\n          #onVisibilityChange = null;\n\n          constructor(options) {\n            if (this.constructor === BaseViewer) {\n              throw new Error(\"Cannot initialize BaseViewer.\");\n            }\n\n            const viewerVersion = '2.16.105';\n\n            if (_pdfjsLib.version !== viewerVersion) {\n              throw new Error(`The API version \"${_pdfjsLib.version}\" does not match the Viewer version \"${viewerVersion}\".`);\n            }\n\n            this.container = options.container;\n            this.viewer = options.viewer || options.container.firstElementChild;\n\n            if (!(this.container?.tagName.toUpperCase() === \"DIV\" && this.viewer?.tagName.toUpperCase() === \"DIV\")) {\n              throw new Error(\"Invalid `container` and/or `viewer` option.\");\n            }\n\n            if (this.container.offsetParent && getComputedStyle(this.container).position !== \"absolute\") {\n              throw new Error(\"The `container` must be absolutely positioned.\");\n            }\n\n            this.eventBus = options.eventBus;\n            this.linkService = options.linkService || new _pdf_link_service.SimpleLinkService();\n            this.downloadManager = options.downloadManager || null;\n            this.findController = options.findController || null;\n            this._scriptingManager = options.scriptingManager || null;\n            this.removePageBorders = options.removePageBorders || false;\n            this.textLayerMode = options.textLayerMode ?? _ui_utils.TextLayerMode.ENABLE;\n            this.#annotationMode = options.annotationMode ?? _pdfjsLib.AnnotationMode.ENABLE_FORMS;\n            this.#annotationEditorMode = options.annotationEditorMode ?? _pdfjsLib.AnnotationEditorType.DISABLE;\n            this.imageResourcesPath = options.imageResourcesPath || \"\";\n            this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n            this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n            this.useOnlyCssZoom = options.useOnlyCssZoom || false;\n            this.maxCanvasPixels = options.maxCanvasPixels;\n            this.l10n = options.l10n || _l10n_utils.NullL10n;\n            this.#enablePermissions = options.enablePermissions || false;\n            this.pageColors = options.pageColors || null;\n\n            if (this.pageColors && !(CSS.supports(\"color\", this.pageColors.background) && CSS.supports(\"color\", this.pageColors.foreground))) {\n              if (this.pageColors.background || this.pageColors.foreground) {\n                console.warn(\"BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used.\");\n              }\n\n              this.pageColors = null;\n            }\n\n            this.defaultRenderingQueue = !options.renderingQueue;\n\n            if (this.defaultRenderingQueue) {\n              this.renderingQueue = new _pdf_rendering_queue.PDFRenderingQueue();\n              this.renderingQueue.setViewer(this);\n            } else {\n              this.renderingQueue = options.renderingQueue;\n            }\n\n            this.scroll = (0, _ui_utils.watchScroll)(this.container, this._scrollUpdate.bind(this));\n            this.presentationModeState = _ui_utils.PresentationModeState.UNKNOWN;\n            this._onBeforeDraw = this._onAfterDraw = null;\n\n            this._resetView();\n\n            if (this.removePageBorders) {\n              this.viewer.classList.add(\"removePageBorders\");\n            }\n\n            this.updateContainerHeightCss();\n          }\n\n          get pagesCount() {\n            return this._pages.length;\n          }\n\n          getPageView(index) {\n            return this._pages[index];\n          }\n\n          get pageViewsReady() {\n            if (!this._pagesCapability.settled) {\n              return false;\n            }\n\n            return this._pages.every(function (pageView) {\n              return pageView?.pdfPage;\n            });\n          }\n\n          get renderForms() {\n            return this.#annotationMode === _pdfjsLib.AnnotationMode.ENABLE_FORMS;\n          }\n\n          get enableScripting() {\n            return !!this._scriptingManager;\n          }\n\n          get currentPageNumber() {\n            return this._currentPageNumber;\n          }\n\n          set currentPageNumber(val) {\n            if (!Number.isInteger(val)) {\n              throw new Error(\"Invalid page number.\");\n            }\n\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            if (!this._setCurrentPageNumber(val, true)) {\n              console.error(`currentPageNumber: \"${val}\" is not a valid page.`);\n            }\n          }\n\n          _setCurrentPageNumber(val, resetCurrentPageView = false) {\n            if (this._currentPageNumber === val) {\n              if (resetCurrentPageView) {\n                this.#resetCurrentPageView();\n              }\n\n              return true;\n            }\n\n            if (!(0 < val && val <= this.pagesCount)) {\n              return false;\n            }\n\n            const previous = this._currentPageNumber;\n            this._currentPageNumber = val;\n            this.eventBus.dispatch(\"pagechanging\", {\n              source: this,\n              pageNumber: val,\n              pageLabel: this._pageLabels?.[val - 1] ?? null,\n              previous\n            });\n\n            if (resetCurrentPageView) {\n              this.#resetCurrentPageView();\n            }\n\n            return true;\n          }\n\n          get currentPageLabel() {\n            return this._pageLabels?.[this._currentPageNumber - 1] ?? null;\n          }\n\n          set currentPageLabel(val) {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            let page = val | 0;\n\n            if (this._pageLabels) {\n              const i = this._pageLabels.indexOf(val);\n\n              if (i >= 0) {\n                page = i + 1;\n              }\n            }\n\n            if (!this._setCurrentPageNumber(page, true)) {\n              console.error(`currentPageLabel: \"${val}\" is not a valid page.`);\n            }\n          }\n\n          get currentScale() {\n            return this._currentScale !== _ui_utils.UNKNOWN_SCALE ? this._currentScale : _ui_utils.DEFAULT_SCALE;\n          }\n\n          set currentScale(val) {\n            if (isNaN(val)) {\n              throw new Error(\"Invalid numeric scale.\");\n            }\n\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            this._setScale(val, false);\n          }\n\n          get currentScaleValue() {\n            return this._currentScaleValue;\n          }\n\n          set currentScaleValue(val) {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            this._setScale(val, false);\n          }\n\n          get pagesRotation() {\n            return this._pagesRotation;\n          }\n\n          set pagesRotation(rotation) {\n            if (!(0, _ui_utils.isValidRotation)(rotation)) {\n              throw new Error(\"Invalid pages rotation angle.\");\n            }\n\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            rotation %= 360;\n\n            if (rotation < 0) {\n              rotation += 360;\n            }\n\n            if (this._pagesRotation === rotation) {\n              return;\n            }\n\n            this._pagesRotation = rotation;\n            const pageNumber = this._currentPageNumber;\n            const updateArgs = {\n              rotation\n            };\n\n            for (const pageView of this._pages) {\n              pageView.update(updateArgs);\n            }\n\n            if (this._currentScaleValue) {\n              this._setScale(this._currentScaleValue, true);\n            }\n\n            this.eventBus.dispatch(\"rotationchanging\", {\n              source: this,\n              pagesRotation: rotation,\n              pageNumber\n            });\n\n            if (this.defaultRenderingQueue) {\n              this.update();\n            }\n          }\n\n          get firstPagePromise() {\n            return this.pdfDocument ? this._firstPageCapability.promise : null;\n          }\n\n          get onePageRendered() {\n            return this.pdfDocument ? this._onePageRenderedCapability.promise : null;\n          }\n\n          get pagesPromise() {\n            return this.pdfDocument ? this._pagesCapability.promise : null;\n          }\n\n          #initializePermissions(permissions) {\n            const params = {\n              annotationEditorMode: this.#annotationEditorMode,\n              annotationMode: this.#annotationMode,\n              textLayerMode: this.textLayerMode\n            };\n\n            if (!permissions) {\n              return params;\n            }\n\n            if (!permissions.includes(_pdfjsLib.PermissionFlag.COPY)) {\n              this.viewer.classList.add(ENABLE_PERMISSIONS_CLASS);\n            }\n\n            if (!permissions.includes(_pdfjsLib.PermissionFlag.MODIFY_CONTENTS)) {\n              params.annotationEditorMode = _pdfjsLib.AnnotationEditorType.DISABLE;\n            }\n\n            if (!permissions.includes(_pdfjsLib.PermissionFlag.MODIFY_ANNOTATIONS) && !permissions.includes(_pdfjsLib.PermissionFlag.FILL_INTERACTIVE_FORMS) && this.#annotationMode === _pdfjsLib.AnnotationMode.ENABLE_FORMS) {\n              params.annotationMode = _pdfjsLib.AnnotationMode.ENABLE;\n            }\n\n            return params;\n          }\n\n          #onePageRenderedOrForceFetch() {\n            if (document.visibilityState === \"hidden\" || !this.container.offsetParent || this._getVisiblePages().views.length === 0) {\n              return Promise.resolve();\n            }\n\n            const visibilityChangePromise = new Promise(resolve => {\n              this.#onVisibilityChange = () => {\n                if (document.visibilityState !== \"hidden\") {\n                  return;\n                }\n\n                resolve();\n                document.removeEventListener(\"visibilitychange\", this.#onVisibilityChange);\n                this.#onVisibilityChange = null;\n              };\n\n              document.addEventListener(\"visibilitychange\", this.#onVisibilityChange);\n            });\n            return Promise.race([this._onePageRenderedCapability.promise, visibilityChangePromise]);\n          }\n\n          setDocument(pdfDocument) {\n            var _this4 = this;\n\n            if (this.pdfDocument) {\n              this.eventBus.dispatch(\"pagesdestroy\", {\n                source: this\n              });\n\n              this._cancelRendering();\n\n              this._resetView();\n\n              if (this.findController) {\n                this.findController.setDocument(null);\n              }\n\n              if (this._scriptingManager) {\n                this._scriptingManager.setDocument(null);\n              }\n\n              if (this.#annotationEditorUIManager) {\n                this.#annotationEditorUIManager.destroy();\n                this.#annotationEditorUIManager = null;\n              }\n            }\n\n            this.pdfDocument = pdfDocument;\n\n            if (!pdfDocument) {\n              return;\n            }\n\n            const isPureXfa = pdfDocument.isPureXfa;\n            const pagesCount = pdfDocument.numPages;\n            const firstPagePromise = pdfDocument.getPage(1);\n            const optionalContentConfigPromise = pdfDocument.getOptionalContentConfig();\n            const permissionsPromise = this.#enablePermissions ? pdfDocument.getPermissions() : Promise.resolve();\n\n            if (pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n              console.warn(\"Forcing PAGE-scrolling for performance reasons, given the length of the document.\");\n              const mode = this._scrollMode = _ui_utils.ScrollMode.PAGE;\n              this.eventBus.dispatch(\"scrollmodechanged\", {\n                source: this,\n                mode\n              });\n            }\n\n            this._pagesCapability.promise.then(() => {\n              this.eventBus.dispatch(\"pagesloaded\", {\n                source: this,\n                pagesCount\n              });\n            }, () => {});\n\n            this._onBeforeDraw = evt => {\n              const pageView = this._pages[evt.pageNumber - 1];\n\n              if (!pageView) {\n                return;\n              }\n\n              this.#buffer.push(pageView);\n            };\n\n            this.eventBus._on(\"pagerender\", this._onBeforeDraw);\n\n            this._onAfterDraw = evt => {\n              if (evt.cssTransform || this._onePageRenderedCapability.settled) {\n                return;\n              }\n\n              this._onePageRenderedCapability.resolve({\n                timestamp: evt.timestamp\n              });\n\n              this.eventBus._off(\"pagerendered\", this._onAfterDraw);\n\n              this._onAfterDraw = null;\n\n              if (this.#onVisibilityChange) {\n                document.removeEventListener(\"visibilitychange\", this.#onVisibilityChange);\n                this.#onVisibilityChange = null;\n              }\n            };\n\n            this.eventBus._on(\"pagerendered\", this._onAfterDraw);\n\n            Promise.all([firstPagePromise, permissionsPromise]).then(([firstPdfPage, permissions]) => {\n              if (pdfDocument !== this.pdfDocument) {\n                return;\n              }\n\n              this._firstPageCapability.resolve(firstPdfPage);\n\n              this._optionalContentConfigPromise = optionalContentConfigPromise;\n              const {\n                annotationEditorMode,\n                annotationMode,\n                textLayerMode\n              } = this.#initializePermissions(permissions);\n\n              if (annotationEditorMode !== _pdfjsLib.AnnotationEditorType.DISABLE) {\n                const mode = annotationEditorMode;\n\n                if (isPureXfa) {\n                  console.warn(\"Warning: XFA-editing is not implemented.\");\n                } else if (isValidAnnotationEditorMode(mode)) {\n                  this.#annotationEditorUIManager = new _pdfjsLib.AnnotationEditorUIManager(this.container, this.eventBus);\n\n                  if (mode !== _pdfjsLib.AnnotationEditorType.NONE) {\n                    this.#annotationEditorUIManager.updateMode(mode);\n                  }\n                } else {\n                  console.error(`Invalid AnnotationEditor mode: ${mode}`);\n                }\n              }\n\n              const viewerElement = this._scrollMode === _ui_utils.ScrollMode.PAGE ? null : this.viewer;\n              const scale = this.currentScale;\n              const viewport = firstPdfPage.getViewport({\n                scale: scale * _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS\n              });\n              const textLayerFactory = textLayerMode !== _ui_utils.TextLayerMode.DISABLE && !isPureXfa ? this : null;\n              const annotationLayerFactory = annotationMode !== _pdfjsLib.AnnotationMode.DISABLE ? this : null;\n              const xfaLayerFactory = isPureXfa ? this : null;\n              const annotationEditorLayerFactory = this.#annotationEditorUIManager ? this : null;\n\n              for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n                const pageView = new _pdf_page_view.PDFPageView({\n                  container: viewerElement,\n                  eventBus: this.eventBus,\n                  id: pageNum,\n                  scale,\n                  defaultViewport: viewport.clone(),\n                  optionalContentConfigPromise,\n                  renderingQueue: this.renderingQueue,\n                  textLayerFactory,\n                  textLayerMode,\n                  annotationLayerFactory,\n                  annotationMode,\n                  xfaLayerFactory,\n                  annotationEditorLayerFactory,\n                  textHighlighterFactory: this,\n                  structTreeLayerFactory: this,\n                  imageResourcesPath: this.imageResourcesPath,\n                  renderer: this.renderer,\n                  useOnlyCssZoom: this.useOnlyCssZoom,\n                  maxCanvasPixels: this.maxCanvasPixels,\n                  pageColors: this.pageColors,\n                  l10n: this.l10n\n                });\n\n                this._pages.push(pageView);\n              }\n\n              const firstPageView = this._pages[0];\n\n              if (firstPageView) {\n                firstPageView.setPdfPage(firstPdfPage);\n                this.linkService.cachePageRef(1, firstPdfPage.ref);\n              }\n\n              if (this._scrollMode === _ui_utils.ScrollMode.PAGE) {\n                this.#ensurePageViewVisible();\n              } else if (this._spreadMode !== _ui_utils.SpreadMode.NONE) {\n                this._updateSpreadMode();\n              }\n\n              this.#onePageRenderedOrForceFetch().then( /*#__PURE__*/_asyncToGenerator(function* () {\n                if (_this4.findController) {\n                  _this4.findController.setDocument(pdfDocument);\n                }\n\n                if (_this4._scriptingManager) {\n                  _this4._scriptingManager.setDocument(pdfDocument);\n                }\n\n                if (_this4.#annotationEditorUIManager) {\n                  _this4.eventBus.dispatch(\"annotationeditormodechanged\", {\n                    source: _this4,\n                    mode: _this4.#annotationEditorMode\n                  });\n                }\n\n                if (pdfDocument.loadingParams.disableAutoFetch || pagesCount > PagesCountLimit.FORCE_LAZY_PAGE_INIT) {\n                  _this4._pagesCapability.resolve();\n\n                  return;\n                }\n\n                let getPagesLeft = pagesCount - 1;\n\n                if (getPagesLeft <= 0) {\n                  _this4._pagesCapability.resolve();\n\n                  return;\n                }\n\n                for (let pageNum = 2; pageNum <= pagesCount; ++pageNum) {\n                  const promise = pdfDocument.getPage(pageNum).then(pdfPage => {\n                    const pageView = _this4._pages[pageNum - 1];\n\n                    if (!pageView.pdfPage) {\n                      pageView.setPdfPage(pdfPage);\n                    }\n\n                    _this4.linkService.cachePageRef(pageNum, pdfPage.ref);\n\n                    if (--getPagesLeft === 0) {\n                      _this4._pagesCapability.resolve();\n                    }\n                  }, reason => {\n                    console.error(`Unable to get page ${pageNum} to initialize viewer`, reason);\n\n                    if (--getPagesLeft === 0) {\n                      _this4._pagesCapability.resolve();\n                    }\n                  });\n\n                  if (pageNum % PagesCountLimit.PAUSE_EAGER_PAGE_INIT === 0) {\n                    yield promise;\n                  }\n                }\n              }));\n              this.eventBus.dispatch(\"pagesinit\", {\n                source: this\n              });\n              pdfDocument.getMetadata().then(({\n                info\n              }) => {\n                if (pdfDocument !== this.pdfDocument) {\n                  return;\n                }\n\n                if (info.Language) {\n                  this.viewer.lang = info.Language;\n                }\n              });\n\n              if (this.defaultRenderingQueue) {\n                this.update();\n              }\n            }).catch(reason => {\n              console.error(\"Unable to initialize viewer\", reason);\n\n              this._pagesCapability.reject(reason);\n            });\n          }\n\n          setPageLabels(labels) {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            if (!labels) {\n              this._pageLabels = null;\n            } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n              this._pageLabels = null;\n              console.error(`setPageLabels: Invalid page labels.`);\n            } else {\n              this._pageLabels = labels;\n            }\n\n            for (let i = 0, ii = this._pages.length; i < ii; i++) {\n              this._pages[i].setPageLabel(this._pageLabels?.[i] ?? null);\n            }\n          }\n\n          _resetView() {\n            this._pages = [];\n            this._currentPageNumber = 1;\n            this._currentScale = _ui_utils.UNKNOWN_SCALE;\n            this._currentScaleValue = null;\n            this._pageLabels = null;\n            this.#buffer = new PDFPageViewBuffer(DEFAULT_CACHE_SIZE);\n            this._location = null;\n            this._pagesRotation = 0;\n            this._optionalContentConfigPromise = null;\n            this._firstPageCapability = (0, _pdfjsLib.createPromiseCapability)();\n            this._onePageRenderedCapability = (0, _pdfjsLib.createPromiseCapability)();\n            this._pagesCapability = (0, _pdfjsLib.createPromiseCapability)();\n            this._scrollMode = _ui_utils.ScrollMode.VERTICAL;\n            this._previousScrollMode = _ui_utils.ScrollMode.UNKNOWN;\n            this._spreadMode = _ui_utils.SpreadMode.NONE;\n            this.#scrollModePageState = {\n              previousPageNumber: 1,\n              scrollDown: true,\n              pages: []\n            };\n\n            if (this._onBeforeDraw) {\n              this.eventBus._off(\"pagerender\", this._onBeforeDraw);\n\n              this._onBeforeDraw = null;\n            }\n\n            if (this._onAfterDraw) {\n              this.eventBus._off(\"pagerendered\", this._onAfterDraw);\n\n              this._onAfterDraw = null;\n            }\n\n            if (this.#onVisibilityChange) {\n              document.removeEventListener(\"visibilitychange\", this.#onVisibilityChange);\n              this.#onVisibilityChange = null;\n            }\n\n            this.viewer.textContent = \"\";\n\n            this._updateScrollMode();\n\n            this.viewer.removeAttribute(\"lang\");\n            this.viewer.classList.remove(ENABLE_PERMISSIONS_CLASS);\n          }\n\n          #ensurePageViewVisible() {\n            if (this._scrollMode !== _ui_utils.ScrollMode.PAGE) {\n              throw new Error(\"#ensurePageViewVisible: Invalid scrollMode value.\");\n            }\n\n            const pageNumber = this._currentPageNumber,\n                  state = this.#scrollModePageState,\n                  viewer = this.viewer;\n            viewer.textContent = \"\";\n            state.pages.length = 0;\n\n            if (this._spreadMode === _ui_utils.SpreadMode.NONE && !this.isInPresentationMode) {\n              const pageView = this._pages[pageNumber - 1];\n              viewer.append(pageView.div);\n              state.pages.push(pageView);\n            } else {\n              const pageIndexSet = new Set(),\n                    parity = this._spreadMode - 1;\n\n              if (parity === -1) {\n                pageIndexSet.add(pageNumber - 1);\n              } else if (pageNumber % 2 !== parity) {\n                pageIndexSet.add(pageNumber - 1);\n                pageIndexSet.add(pageNumber);\n              } else {\n                pageIndexSet.add(pageNumber - 2);\n                pageIndexSet.add(pageNumber - 1);\n              }\n\n              const spread = document.createElement(\"div\");\n              spread.className = \"spread\";\n\n              if (this.isInPresentationMode) {\n                const dummyPage = document.createElement(\"div\");\n                dummyPage.className = \"dummyPage\";\n                spread.append(dummyPage);\n              }\n\n              for (const i of pageIndexSet) {\n                const pageView = this._pages[i];\n\n                if (!pageView) {\n                  continue;\n                }\n\n                spread.append(pageView.div);\n                state.pages.push(pageView);\n              }\n\n              viewer.append(spread);\n            }\n\n            state.scrollDown = pageNumber >= state.previousPageNumber;\n            state.previousPageNumber = pageNumber;\n          }\n\n          _scrollUpdate() {\n            if (this.pagesCount === 0) {\n              return;\n            }\n\n            this.update();\n          }\n\n          #scrollIntoView(pageView, pageSpot = null) {\n            const {\n              div,\n              id\n            } = pageView;\n\n            if (this._scrollMode === _ui_utils.ScrollMode.PAGE) {\n              this._setCurrentPageNumber(id);\n\n              this.#ensurePageViewVisible();\n              this.update();\n            }\n\n            if (!pageSpot && !this.isInPresentationMode) {\n              const left = div.offsetLeft + div.clientLeft,\n                    right = left + div.clientWidth;\n              const {\n                scrollLeft,\n                clientWidth\n              } = this.container;\n\n              if (this._scrollMode === _ui_utils.ScrollMode.HORIZONTAL || left < scrollLeft || right > scrollLeft + clientWidth) {\n                pageSpot = {\n                  left: 0,\n                  top: 0\n                };\n              }\n            }\n\n            (0, _ui_utils.scrollIntoView)(div, pageSpot);\n          }\n\n          #isSameScale(newScale) {\n            return newScale === this._currentScale || Math.abs(newScale - this._currentScale) < 1e-15;\n          }\n\n          _setScaleUpdatePages(newScale, newValue, noScroll = false, preset = false) {\n            this._currentScaleValue = newValue.toString();\n\n            if (this.#isSameScale(newScale)) {\n              if (preset) {\n                this.eventBus.dispatch(\"scalechanging\", {\n                  source: this,\n                  scale: newScale,\n                  presetValue: newValue\n                });\n              }\n\n              return;\n            }\n\n            _ui_utils.docStyle.setProperty(\"--scale-factor\", newScale * _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS);\n\n            const updateArgs = {\n              scale: newScale\n            };\n\n            for (const pageView of this._pages) {\n              pageView.update(updateArgs);\n            }\n\n            this._currentScale = newScale;\n\n            if (!noScroll) {\n              let page = this._currentPageNumber,\n                  dest;\n\n              if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n                page = this._location.pageNumber;\n                dest = [null, {\n                  name: \"XYZ\"\n                }, this._location.left, this._location.top, null];\n              }\n\n              this.scrollPageIntoView({\n                pageNumber: page,\n                destArray: dest,\n                allowNegativeOffset: true\n              });\n            }\n\n            this.eventBus.dispatch(\"scalechanging\", {\n              source: this,\n              scale: newScale,\n              presetValue: preset ? newValue : undefined\n            });\n\n            if (this.defaultRenderingQueue) {\n              this.update();\n            }\n\n            this.updateContainerHeightCss();\n          }\n\n          get _pageWidthScaleFactor() {\n            if (this._spreadMode !== _ui_utils.SpreadMode.NONE && this._scrollMode !== _ui_utils.ScrollMode.HORIZONTAL) {\n              return 2;\n            }\n\n            return 1;\n          }\n\n          _setScale(value, noScroll = false) {\n            let scale = parseFloat(value);\n\n            if (scale > 0) {\n              this._setScaleUpdatePages(scale, value, noScroll, false);\n            } else {\n              const currentPage = this._pages[this._currentPageNumber - 1];\n\n              if (!currentPage) {\n                return;\n              }\n\n              let hPadding = _ui_utils.SCROLLBAR_PADDING,\n                  vPadding = _ui_utils.VERTICAL_PADDING;\n\n              if (this.isInPresentationMode) {\n                hPadding = vPadding = 4;\n              } else if (this.removePageBorders) {\n                hPadding = vPadding = 0;\n              } else if (this._scrollMode === _ui_utils.ScrollMode.HORIZONTAL) {\n                [hPadding, vPadding] = [vPadding, hPadding];\n              }\n\n              const pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale / this._pageWidthScaleFactor;\n              const pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n\n              switch (value) {\n                case \"page-actual\":\n                  scale = 1;\n                  break;\n\n                case \"page-width\":\n                  scale = pageWidthScale;\n                  break;\n\n                case \"page-height\":\n                  scale = pageHeightScale;\n                  break;\n\n                case \"page-fit\":\n                  scale = Math.min(pageWidthScale, pageHeightScale);\n                  break;\n\n                case \"auto\":\n                  const horizontalScale = (0, _ui_utils.isPortraitOrientation)(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n                  scale = Math.min(_ui_utils.MAX_AUTO_SCALE, horizontalScale);\n                  break;\n\n                default:\n                  console.error(`_setScale: \"${value}\" is an unknown zoom value.`);\n                  return;\n              }\n\n              this._setScaleUpdatePages(scale, value, noScroll, true);\n            }\n          }\n\n          #resetCurrentPageView() {\n            const pageView = this._pages[this._currentPageNumber - 1];\n\n            if (this.isInPresentationMode) {\n              this._setScale(this._currentScaleValue, true);\n            }\n\n            this.#scrollIntoView(pageView);\n          }\n\n          pageLabelToPageNumber(label) {\n            if (!this._pageLabels) {\n              return null;\n            }\n\n            const i = this._pageLabels.indexOf(label);\n\n            if (i < 0) {\n              return null;\n            }\n\n            return i + 1;\n          }\n\n          scrollPageIntoView({\n            pageNumber,\n            destArray = null,\n            allowNegativeOffset = false,\n            ignoreDestinationZoom = false\n          }) {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            const pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n\n            if (!pageView) {\n              console.error(`scrollPageIntoView: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n              return;\n            }\n\n            if (this.isInPresentationMode || !destArray) {\n              this._setCurrentPageNumber(pageNumber, true);\n\n              return;\n            }\n\n            let x = 0,\n                y = 0;\n            let width = 0,\n                height = 0,\n                widthScale,\n                heightScale;\n            const changeOrientation = pageView.rotation % 180 !== 0;\n            const pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS;\n            const pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS;\n            let scale = 0;\n\n            switch (destArray[1].name) {\n              case \"XYZ\":\n                x = destArray[2];\n                y = destArray[3];\n                scale = destArray[4];\n                x = x !== null ? x : 0;\n                y = y !== null ? y : pageHeight;\n                break;\n\n              case \"Fit\":\n              case \"FitB\":\n                scale = \"page-fit\";\n                break;\n\n              case \"FitH\":\n              case \"FitBH\":\n                y = destArray[2];\n                scale = \"page-width\";\n\n                if (y === null && this._location) {\n                  x = this._location.left;\n                  y = this._location.top;\n                } else if (typeof y !== \"number\" || y < 0) {\n                  y = pageHeight;\n                }\n\n                break;\n\n              case \"FitV\":\n              case \"FitBV\":\n                x = destArray[2];\n                width = pageWidth;\n                height = pageHeight;\n                scale = \"page-height\";\n                break;\n\n              case \"FitR\":\n                x = destArray[2];\n                y = destArray[3];\n                width = destArray[4] - x;\n                height = destArray[5] - y;\n                const hPadding = this.removePageBorders ? 0 : _ui_utils.SCROLLBAR_PADDING;\n                const vPadding = this.removePageBorders ? 0 : _ui_utils.VERTICAL_PADDING;\n                widthScale = (this.container.clientWidth - hPadding) / width / _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS;\n                heightScale = (this.container.clientHeight - vPadding) / height / _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS;\n                scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n                break;\n\n              default:\n                console.error(`scrollPageIntoView: \"${destArray[1].name}\" is not a valid destination type.`);\n                return;\n            }\n\n            if (!ignoreDestinationZoom) {\n              if (scale && scale !== this._currentScale) {\n                this.currentScaleValue = scale;\n              } else if (this._currentScale === _ui_utils.UNKNOWN_SCALE) {\n                this.currentScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n              }\n            }\n\n            if (scale === \"page-fit\" && !destArray[4]) {\n              this.#scrollIntoView(pageView);\n              return;\n            }\n\n            const boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n            let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n            let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n\n            if (!allowNegativeOffset) {\n              left = Math.max(left, 0);\n              top = Math.max(top, 0);\n            }\n\n            this.#scrollIntoView(pageView, {\n              left,\n              top\n            });\n          }\n\n          _updateLocation(firstPage) {\n            const currentScale = this._currentScale;\n            const currentScaleValue = this._currentScaleValue;\n            const normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 10000) / 100 : currentScaleValue;\n            const pageNumber = firstPage.id;\n            const currentPageView = this._pages[pageNumber - 1];\n            const container = this.container;\n            const topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n            const intLeft = Math.round(topLeft[0]);\n            const intTop = Math.round(topLeft[1]);\n            let pdfOpenParams = `#page=${pageNumber}`;\n\n            if (!this.isInPresentationMode) {\n              pdfOpenParams += `&zoom=${normalizedScaleValue},${intLeft},${intTop}`;\n            }\n\n            this._location = {\n              pageNumber,\n              scale: normalizedScaleValue,\n              top: intTop,\n              left: intLeft,\n              rotation: this._pagesRotation,\n              pdfOpenParams\n            };\n          }\n\n          update() {\n            const visible = this._getVisiblePages();\n\n            const visiblePages = visible.views,\n                  numVisiblePages = visiblePages.length;\n\n            if (numVisiblePages === 0) {\n              return;\n            }\n\n            const newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n            this.#buffer.resize(newCacheSize, visible.ids);\n            this.renderingQueue.renderHighestPriority(visible);\n            const isSimpleLayout = this._spreadMode === _ui_utils.SpreadMode.NONE && (this._scrollMode === _ui_utils.ScrollMode.PAGE || this._scrollMode === _ui_utils.ScrollMode.VERTICAL);\n            const currentId = this._currentPageNumber;\n            let stillFullyVisible = false;\n\n            for (const page of visiblePages) {\n              if (page.percent < 100) {\n                break;\n              }\n\n              if (page.id === currentId && isSimpleLayout) {\n                stillFullyVisible = true;\n                break;\n              }\n            }\n\n            this._setCurrentPageNumber(stillFullyVisible ? currentId : visiblePages[0].id);\n\n            this._updateLocation(visible.first);\n\n            this.eventBus.dispatch(\"updateviewarea\", {\n              source: this,\n              location: this._location\n            });\n          }\n\n          containsElement(element) {\n            return this.container.contains(element);\n          }\n\n          focus() {\n            this.container.focus();\n          }\n\n          get _isContainerRtl() {\n            return getComputedStyle(this.container).direction === \"rtl\";\n          }\n\n          get isInPresentationMode() {\n            return this.presentationModeState === _ui_utils.PresentationModeState.FULLSCREEN;\n          }\n\n          get isChangingPresentationMode() {\n            return this.presentationModeState === _ui_utils.PresentationModeState.CHANGING;\n          }\n\n          get isHorizontalScrollbarEnabled() {\n            return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n          }\n\n          get isVerticalScrollbarEnabled() {\n            return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n          }\n\n          _getVisiblePages() {\n            const views = this._scrollMode === _ui_utils.ScrollMode.PAGE ? this.#scrollModePageState.pages : this._pages,\n                  horizontal = this._scrollMode === _ui_utils.ScrollMode.HORIZONTAL,\n                  rtl = horizontal && this._isContainerRtl;\n            return (0, _ui_utils.getVisibleElements)({\n              scrollEl: this.container,\n              views,\n              sortByVisibility: true,\n              horizontal,\n              rtl\n            });\n          }\n\n          isPageVisible(pageNumber) {\n            if (!this.pdfDocument) {\n              return false;\n            }\n\n            if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n              console.error(`isPageVisible: \"${pageNumber}\" is not a valid page.`);\n              return false;\n            }\n\n            return this._getVisiblePages().ids.has(pageNumber);\n          }\n\n          isPageCached(pageNumber) {\n            if (!this.pdfDocument) {\n              return false;\n            }\n\n            if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n              console.error(`isPageCached: \"${pageNumber}\" is not a valid page.`);\n              return false;\n            }\n\n            const pageView = this._pages[pageNumber - 1];\n            return this.#buffer.has(pageView);\n          }\n\n          cleanup() {\n            for (const pageView of this._pages) {\n              if (pageView.renderingState !== _ui_utils.RenderingStates.FINISHED) {\n                pageView.reset();\n              }\n            }\n          }\n\n          _cancelRendering() {\n            for (const pageView of this._pages) {\n              pageView.cancelRendering();\n            }\n          }\n\n          #ensurePdfPageLoaded(pageView) {\n            var _this5 = this;\n\n            return _asyncToGenerator(function* () {\n              if (pageView.pdfPage) {\n                return pageView.pdfPage;\n              }\n\n              try {\n                const pdfPage = yield _this5.pdfDocument.getPage(pageView.id);\n\n                if (!pageView.pdfPage) {\n                  pageView.setPdfPage(pdfPage);\n                }\n\n                if (!_this5.linkService._cachedPageNumber?.(pdfPage.ref)) {\n                  _this5.linkService.cachePageRef(pageView.id, pdfPage.ref);\n                }\n\n                return pdfPage;\n              } catch (reason) {\n                console.error(\"Unable to get page for page view\", reason);\n                return null;\n              }\n            })();\n          }\n\n          #getScrollAhead(visible) {\n            if (visible.first?.id === 1) {\n              return true;\n            } else if (visible.last?.id === this.pagesCount) {\n              return false;\n            }\n\n            switch (this._scrollMode) {\n              case _ui_utils.ScrollMode.PAGE:\n                return this.#scrollModePageState.scrollDown;\n\n              case _ui_utils.ScrollMode.HORIZONTAL:\n                return this.scroll.right;\n            }\n\n            return this.scroll.down;\n          }\n\n          #toggleLoadingIconSpinner(visibleIds) {\n            for (const id of visibleIds) {\n              const pageView = this._pages[id - 1];\n              pageView?.toggleLoadingIconSpinner(true);\n            }\n\n            for (const pageView of this.#buffer) {\n              if (visibleIds.has(pageView.id)) {\n                continue;\n              }\n\n              pageView.toggleLoadingIconSpinner(false);\n            }\n          }\n\n          forceRendering(currentlyVisiblePages) {\n            const visiblePages = currentlyVisiblePages || this._getVisiblePages();\n\n            const scrollAhead = this.#getScrollAhead(visiblePages);\n            const preRenderExtra = this._spreadMode !== _ui_utils.SpreadMode.NONE && this._scrollMode !== _ui_utils.ScrollMode.HORIZONTAL;\n            const pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead, preRenderExtra);\n            this.#toggleLoadingIconSpinner(visiblePages.ids);\n\n            if (pageView) {\n              this.#ensurePdfPageLoaded(pageView).then(() => {\n                this.renderingQueue.renderView(pageView);\n              });\n              return true;\n            }\n\n            return false;\n          }\n\n          createTextLayerBuilder({\n            textLayerDiv,\n            pageIndex,\n            viewport,\n            enhanceTextSelection = false,\n            eventBus,\n            highlighter,\n            accessibilityManager = null\n          }) {\n            return new _text_layer_builder.TextLayerBuilder({\n              textLayerDiv,\n              eventBus,\n              pageIndex,\n              viewport,\n              enhanceTextSelection: this.isInPresentationMode ? false : enhanceTextSelection,\n              highlighter,\n              accessibilityManager\n            });\n          }\n\n          createTextHighlighter({\n            pageIndex,\n            eventBus\n          }) {\n            return new _text_highlighter.TextHighlighter({\n              eventBus,\n              pageIndex,\n              findController: this.isInPresentationMode ? null : this.findController\n            });\n          }\n\n          createAnnotationLayerBuilder({\n            pageDiv,\n            pdfPage,\n            annotationStorage = this.pdfDocument?.annotationStorage,\n            imageResourcesPath = \"\",\n            renderForms = true,\n            l10n = _l10n_utils.NullL10n,\n            enableScripting = this.enableScripting,\n            hasJSActionsPromise = this.pdfDocument?.hasJSActions(),\n            mouseState = this._scriptingManager?.mouseState,\n            fieldObjectsPromise = this.pdfDocument?.getFieldObjects(),\n            annotationCanvasMap = null,\n            accessibilityManager = null\n          }) {\n            return new _annotation_layer_builder.AnnotationLayerBuilder({\n              pageDiv,\n              pdfPage,\n              annotationStorage,\n              imageResourcesPath,\n              renderForms,\n              linkService: this.linkService,\n              downloadManager: this.downloadManager,\n              l10n,\n              enableScripting,\n              hasJSActionsPromise,\n              mouseState,\n              fieldObjectsPromise,\n              annotationCanvasMap,\n              accessibilityManager\n            });\n          }\n\n          createAnnotationEditorLayerBuilder({\n            uiManager = this.#annotationEditorUIManager,\n            pageDiv,\n            pdfPage,\n            accessibilityManager = null,\n            l10n,\n            annotationStorage = this.pdfDocument?.annotationStorage\n          }) {\n            return new _annotation_editor_layer_builder.AnnotationEditorLayerBuilder({\n              uiManager,\n              pageDiv,\n              pdfPage,\n              annotationStorage,\n              accessibilityManager,\n              l10n\n            });\n          }\n\n          createXfaLayerBuilder({\n            pageDiv,\n            pdfPage,\n            annotationStorage = this.pdfDocument?.annotationStorage\n          }) {\n            return new _xfa_layer_builder.XfaLayerBuilder({\n              pageDiv,\n              pdfPage,\n              annotationStorage,\n              linkService: this.linkService\n            });\n          }\n\n          createStructTreeLayerBuilder({\n            pdfPage\n          }) {\n            return new _struct_tree_layer_builder.StructTreeLayerBuilder({\n              pdfPage\n            });\n          }\n\n          get hasEqualPageSizes() {\n            const firstPageView = this._pages[0];\n\n            for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n              const pageView = this._pages[i];\n\n              if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n                return false;\n              }\n            }\n\n            return true;\n          }\n\n          getPagesOverview() {\n            return this._pages.map(pageView => {\n              const viewport = pageView.pdfPage.getViewport({\n                scale: 1\n              });\n\n              if (!this.enablePrintAutoRotate || (0, _ui_utils.isPortraitOrientation)(viewport)) {\n                return {\n                  width: viewport.width,\n                  height: viewport.height,\n                  rotation: viewport.rotation\n                };\n              }\n\n              return {\n                width: viewport.height,\n                height: viewport.width,\n                rotation: (viewport.rotation - 90) % 360\n              };\n            });\n          }\n\n          get optionalContentConfigPromise() {\n            if (!this.pdfDocument) {\n              return Promise.resolve(null);\n            }\n\n            if (!this._optionalContentConfigPromise) {\n              console.error(\"optionalContentConfigPromise: Not initialized yet.\");\n              return this.pdfDocument.getOptionalContentConfig();\n            }\n\n            return this._optionalContentConfigPromise;\n          }\n\n          set optionalContentConfigPromise(promise) {\n            if (!(promise instanceof Promise)) {\n              throw new Error(`Invalid optionalContentConfigPromise: ${promise}`);\n            }\n\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            if (!this._optionalContentConfigPromise) {\n              return;\n            }\n\n            this._optionalContentConfigPromise = promise;\n            const updateArgs = {\n              optionalContentConfigPromise: promise\n            };\n\n            for (const pageView of this._pages) {\n              pageView.update(updateArgs);\n            }\n\n            this.update();\n            this.eventBus.dispatch(\"optionalcontentconfigchanged\", {\n              source: this,\n              promise\n            });\n          }\n\n          get scrollMode() {\n            return this._scrollMode;\n          }\n\n          set scrollMode(mode) {\n            if (this._scrollMode === mode) {\n              return;\n            }\n\n            if (!(0, _ui_utils.isValidScrollMode)(mode)) {\n              throw new Error(`Invalid scroll mode: ${mode}`);\n            }\n\n            if (this.pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n              return;\n            }\n\n            this._previousScrollMode = this._scrollMode;\n            this._scrollMode = mode;\n            this.eventBus.dispatch(\"scrollmodechanged\", {\n              source: this,\n              mode\n            });\n\n            this._updateScrollMode(this._currentPageNumber);\n          }\n\n          _updateScrollMode(pageNumber = null) {\n            const scrollMode = this._scrollMode,\n                  viewer = this.viewer;\n            viewer.classList.toggle(\"scrollHorizontal\", scrollMode === _ui_utils.ScrollMode.HORIZONTAL);\n            viewer.classList.toggle(\"scrollWrapped\", scrollMode === _ui_utils.ScrollMode.WRAPPED);\n\n            if (!this.pdfDocument || !pageNumber) {\n              return;\n            }\n\n            if (scrollMode === _ui_utils.ScrollMode.PAGE) {\n              this.#ensurePageViewVisible();\n            } else if (this._previousScrollMode === _ui_utils.ScrollMode.PAGE) {\n              this._updateSpreadMode();\n            }\n\n            if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n              this._setScale(this._currentScaleValue, true);\n            }\n\n            this._setCurrentPageNumber(pageNumber, true);\n\n            this.update();\n          }\n\n          get spreadMode() {\n            return this._spreadMode;\n          }\n\n          set spreadMode(mode) {\n            if (this._spreadMode === mode) {\n              return;\n            }\n\n            if (!(0, _ui_utils.isValidSpreadMode)(mode)) {\n              throw new Error(`Invalid spread mode: ${mode}`);\n            }\n\n            this._spreadMode = mode;\n            this.eventBus.dispatch(\"spreadmodechanged\", {\n              source: this,\n              mode\n            });\n\n            this._updateSpreadMode(this._currentPageNumber);\n          }\n\n          _updateSpreadMode(pageNumber = null) {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            const viewer = this.viewer,\n                  pages = this._pages;\n\n            if (this._scrollMode === _ui_utils.ScrollMode.PAGE) {\n              this.#ensurePageViewVisible();\n            } else {\n              viewer.textContent = \"\";\n\n              if (this._spreadMode === _ui_utils.SpreadMode.NONE) {\n                for (const pageView of this._pages) {\n                  viewer.append(pageView.div);\n                }\n              } else {\n                const parity = this._spreadMode - 1;\n                let spread = null;\n\n                for (let i = 0, ii = pages.length; i < ii; ++i) {\n                  if (spread === null) {\n                    spread = document.createElement(\"div\");\n                    spread.className = \"spread\";\n                    viewer.append(spread);\n                  } else if (i % 2 === parity) {\n                    spread = spread.cloneNode(false);\n                    viewer.append(spread);\n                  }\n\n                  spread.append(pages[i].div);\n                }\n              }\n            }\n\n            if (!pageNumber) {\n              return;\n            }\n\n            if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n              this._setScale(this._currentScaleValue, true);\n            }\n\n            this._setCurrentPageNumber(pageNumber, true);\n\n            this.update();\n          }\n\n          _getPageAdvance(currentPageNumber, previous = false) {\n            switch (this._scrollMode) {\n              case _ui_utils.ScrollMode.WRAPPED:\n                {\n                  const {\n                    views\n                  } = this._getVisiblePages(),\n                        pageLayout = new Map();\n\n                  for (const {\n                    id,\n                    y,\n                    percent,\n                    widthPercent\n                  } of views) {\n                    if (percent === 0 || widthPercent < 100) {\n                      continue;\n                    }\n\n                    let yArray = pageLayout.get(y);\n\n                    if (!yArray) {\n                      pageLayout.set(y, yArray ||= []);\n                    }\n\n                    yArray.push(id);\n                  }\n\n                  for (const yArray of pageLayout.values()) {\n                    const currentIndex = yArray.indexOf(currentPageNumber);\n\n                    if (currentIndex === -1) {\n                      continue;\n                    }\n\n                    const numPages = yArray.length;\n\n                    if (numPages === 1) {\n                      break;\n                    }\n\n                    if (previous) {\n                      for (let i = currentIndex - 1, ii = 0; i >= ii; i--) {\n                        const currentId = yArray[i],\n                              expectedId = yArray[i + 1] - 1;\n\n                        if (currentId < expectedId) {\n                          return currentPageNumber - expectedId;\n                        }\n                      }\n                    } else {\n                      for (let i = currentIndex + 1, ii = numPages; i < ii; i++) {\n                        const currentId = yArray[i],\n                              expectedId = yArray[i - 1] + 1;\n\n                        if (currentId > expectedId) {\n                          return expectedId - currentPageNumber;\n                        }\n                      }\n                    }\n\n                    if (previous) {\n                      const firstId = yArray[0];\n\n                      if (firstId < currentPageNumber) {\n                        return currentPageNumber - firstId + 1;\n                      }\n                    } else {\n                      const lastId = yArray[numPages - 1];\n\n                      if (lastId > currentPageNumber) {\n                        return lastId - currentPageNumber + 1;\n                      }\n                    }\n\n                    break;\n                  }\n\n                  break;\n                }\n\n              case _ui_utils.ScrollMode.HORIZONTAL:\n                {\n                  break;\n                }\n\n              case _ui_utils.ScrollMode.PAGE:\n              case _ui_utils.ScrollMode.VERTICAL:\n                {\n                  if (this._spreadMode === _ui_utils.SpreadMode.NONE) {\n                    break;\n                  }\n\n                  const parity = this._spreadMode - 1;\n\n                  if (previous && currentPageNumber % 2 !== parity) {\n                    break;\n                  } else if (!previous && currentPageNumber % 2 === parity) {\n                    break;\n                  }\n\n                  const {\n                    views\n                  } = this._getVisiblePages(),\n                        expectedId = previous ? currentPageNumber - 1 : currentPageNumber + 1;\n\n                  for (const {\n                    id,\n                    percent,\n                    widthPercent\n                  } of views) {\n                    if (id !== expectedId) {\n                      continue;\n                    }\n\n                    if (percent > 0 && widthPercent === 100) {\n                      return 2;\n                    }\n\n                    break;\n                  }\n\n                  break;\n                }\n            }\n\n            return 1;\n          }\n\n          nextPage() {\n            const currentPageNumber = this._currentPageNumber,\n                  pagesCount = this.pagesCount;\n\n            if (currentPageNumber >= pagesCount) {\n              return false;\n            }\n\n            const advance = this._getPageAdvance(currentPageNumber, false) || 1;\n            this.currentPageNumber = Math.min(currentPageNumber + advance, pagesCount);\n            return true;\n          }\n\n          previousPage() {\n            const currentPageNumber = this._currentPageNumber;\n\n            if (currentPageNumber <= 1) {\n              return false;\n            }\n\n            const advance = this._getPageAdvance(currentPageNumber, true) || 1;\n            this.currentPageNumber = Math.max(currentPageNumber - advance, 1);\n            return true;\n          }\n\n          increaseScale(steps = 1) {\n            let newScale = this._currentScale;\n\n            do {\n              newScale = (newScale * _ui_utils.DEFAULT_SCALE_DELTA).toFixed(2);\n              newScale = Math.ceil(newScale * 10) / 10;\n              newScale = Math.min(_ui_utils.MAX_SCALE, newScale);\n            } while (--steps > 0 && newScale < _ui_utils.MAX_SCALE);\n\n            this.currentScaleValue = newScale;\n          }\n\n          decreaseScale(steps = 1) {\n            let newScale = this._currentScale;\n\n            do {\n              newScale = (newScale / _ui_utils.DEFAULT_SCALE_DELTA).toFixed(2);\n              newScale = Math.floor(newScale * 10) / 10;\n              newScale = Math.max(_ui_utils.MIN_SCALE, newScale);\n            } while (--steps > 0 && newScale > _ui_utils.MIN_SCALE);\n\n            this.currentScaleValue = newScale;\n          }\n\n          updateContainerHeightCss() {\n            const height = this.container.clientHeight;\n\n            if (height !== this.#previousContainerHeight) {\n              this.#previousContainerHeight = height;\n\n              _ui_utils.docStyle.setProperty(\"--viewer-container-height\", `${height}px`);\n            }\n          }\n\n          get annotationEditorMode() {\n            return this.#annotationEditorUIManager ? this.#annotationEditorMode : _pdfjsLib.AnnotationEditorType.DISABLE;\n          }\n\n          set annotationEditorMode(mode) {\n            if (!this.#annotationEditorUIManager) {\n              throw new Error(`The AnnotationEditor is not enabled.`);\n            }\n\n            if (this.#annotationEditorMode === mode) {\n              return;\n            }\n\n            if (!isValidAnnotationEditorMode(mode)) {\n              throw new Error(`Invalid AnnotationEditor mode: ${mode}`);\n            }\n\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            this.#annotationEditorMode = mode;\n            this.eventBus.dispatch(\"annotationeditormodechanged\", {\n              source: this,\n              mode\n            });\n            this.#annotationEditorUIManager.updateMode(mode);\n          }\n\n          set annotationEditorParams({\n            type,\n            value\n          }) {\n            if (!this.#annotationEditorUIManager) {\n              throw new Error(`The AnnotationEditor is not enabled.`);\n            }\n\n            this.#annotationEditorUIManager.updateParams(type, value);\n          }\n\n          refresh() {\n            if (!this.pdfDocument) {\n              return;\n            }\n\n            const updateArgs = {};\n\n            for (const pageView of this._pages) {\n              pageView.update(updateArgs);\n            }\n\n            this.update();\n          }\n\n        }\n\n        exports.BaseViewer = BaseViewer;\n        /***/\n      },\n      /* 13 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.PDFPageView = void 0;\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        var _ui_utils = __w_pdfjs_require__(7);\n\n        var _app_options = __w_pdfjs_require__(14);\n\n        var _l10n_utils = __w_pdfjs_require__(4);\n\n        var _text_accessibility = __w_pdfjs_require__(15);\n\n        const MAX_CANVAS_PIXELS = _app_options.compatibilityParams.maxCanvasPixels || 16777216;\n\n        class PDFPageView {\n          #annotationMode = _pdfjsLib.AnnotationMode.ENABLE_FORMS;\n          #useThumbnailCanvas = {\n            initialOptionalContent: true,\n            regularAnnotations: true\n          };\n\n          constructor(options) {\n            const container = options.container;\n            const defaultViewport = options.defaultViewport;\n            this.id = options.id;\n            this.renderingId = \"page\" + this.id;\n            this.pdfPage = null;\n            this.pageLabel = null;\n            this.rotation = 0;\n            this.scale = options.scale || _ui_utils.DEFAULT_SCALE;\n            this.viewport = defaultViewport;\n            this.pdfPageRotate = defaultViewport.rotation;\n            this._optionalContentConfigPromise = options.optionalContentConfigPromise || null;\n            this.hasRestrictedScaling = false;\n            this.textLayerMode = options.textLayerMode ?? _ui_utils.TextLayerMode.ENABLE;\n            this.#annotationMode = options.annotationMode ?? _pdfjsLib.AnnotationMode.ENABLE_FORMS;\n            this.imageResourcesPath = options.imageResourcesPath || \"\";\n            this.useOnlyCssZoom = options.useOnlyCssZoom || false;\n            this.maxCanvasPixels = options.maxCanvasPixels || MAX_CANVAS_PIXELS;\n            this.pageColors = options.pageColors || null;\n            this.eventBus = options.eventBus;\n            this.renderingQueue = options.renderingQueue;\n            this.textLayerFactory = options.textLayerFactory;\n            this.annotationLayerFactory = options.annotationLayerFactory;\n            this.annotationEditorLayerFactory = options.annotationEditorLayerFactory;\n            this.xfaLayerFactory = options.xfaLayerFactory;\n            this.textHighlighter = options.textHighlighterFactory?.createTextHighlighter({\n              pageIndex: this.id - 1,\n              eventBus: this.eventBus\n            });\n            this.structTreeLayerFactory = options.structTreeLayerFactory;\n            this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n            this.l10n = options.l10n || _l10n_utils.NullL10n;\n            this.paintTask = null;\n            this.paintedViewportMap = new WeakMap();\n            this.renderingState = _ui_utils.RenderingStates.INITIAL;\n            this.resume = null;\n            this._renderError = null;\n            this._isStandalone = !this.renderingQueue?.hasViewer();\n            this._annotationCanvasMap = null;\n            this.annotationLayer = null;\n            this.annotationEditorLayer = null;\n            this.textLayer = null;\n            this.zoomLayer = null;\n            this.xfaLayer = null;\n            this.structTreeLayer = null;\n            const div = document.createElement(\"div\");\n            div.className = \"page\";\n            div.style.width = Math.floor(this.viewport.width) + \"px\";\n            div.style.height = Math.floor(this.viewport.height) + \"px\";\n            div.setAttribute(\"data-page-number\", this.id);\n            div.setAttribute(\"role\", \"region\");\n            this.l10n.get(\"page_landmark\", {\n              page: this.id\n            }).then(msg => {\n              div.setAttribute(\"aria-label\", msg);\n            });\n            this.div = div;\n            container?.append(div);\n\n            if (this._isStandalone) {\n              const {\n                optionalContentConfigPromise\n              } = options;\n\n              if (optionalContentConfigPromise) {\n                optionalContentConfigPromise.then(optionalContentConfig => {\n                  if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n                    return;\n                  }\n\n                  this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n                });\n              }\n            }\n          }\n\n          setPdfPage(pdfPage) {\n            this.pdfPage = pdfPage;\n            this.pdfPageRotate = pdfPage.rotate;\n            const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n            this.viewport = pdfPage.getViewport({\n              scale: this.scale * _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS,\n              rotation: totalRotation\n            });\n            this.reset();\n          }\n\n          destroy() {\n            this.reset();\n\n            if (this.pdfPage) {\n              this.pdfPage.cleanup();\n            }\n          }\n\n          _renderAnnotationLayer() {\n            var _this6 = this;\n\n            return _asyncToGenerator(function* () {\n              let error = null;\n\n              try {\n                yield _this6.annotationLayer.render(_this6.viewport, \"display\");\n              } catch (ex) {\n                console.error(`_renderAnnotationLayer: \"${ex}\".`);\n                error = ex;\n              } finally {\n                _this6.eventBus.dispatch(\"annotationlayerrendered\", {\n                  source: _this6,\n                  pageNumber: _this6.id,\n                  error\n                });\n              }\n            })();\n          }\n\n          _renderAnnotationEditorLayer() {\n            var _this7 = this;\n\n            return _asyncToGenerator(function* () {\n              let error = null;\n\n              try {\n                yield _this7.annotationEditorLayer.render(_this7.viewport, \"display\");\n              } catch (ex) {\n                console.error(`_renderAnnotationEditorLayer: \"${ex}\".`);\n                error = ex;\n              } finally {\n                _this7.eventBus.dispatch(\"annotationeditorlayerrendered\", {\n                  source: _this7,\n                  pageNumber: _this7.id,\n                  error\n                });\n              }\n            })();\n          }\n\n          _renderXfaLayer() {\n            var _this8 = this;\n\n            return _asyncToGenerator(function* () {\n              let error = null;\n\n              try {\n                const result = yield _this8.xfaLayer.render(_this8.viewport, \"display\");\n\n                if (_this8.textHighlighter) {\n                  _this8._buildXfaTextContentItems(result.textDivs);\n                }\n              } catch (ex) {\n                console.error(`_renderXfaLayer: \"${ex}\".`);\n                error = ex;\n              } finally {\n                _this8.eventBus.dispatch(\"xfalayerrendered\", {\n                  source: _this8,\n                  pageNumber: _this8.id,\n                  error\n                });\n              }\n            })();\n          }\n\n          _buildXfaTextContentItems(textDivs) {\n            var _this9 = this;\n\n            return _asyncToGenerator(function* () {\n              const text = yield _this9.pdfPage.getTextContent();\n              const items = [];\n\n              for (const item of text.items) {\n                items.push(item.str);\n              }\n\n              _this9.textHighlighter.setTextMapping(textDivs, items);\n\n              _this9.textHighlighter.enable();\n            })();\n          }\n\n          _resetZoomLayer(removeFromDOM = false) {\n            if (!this.zoomLayer) {\n              return;\n            }\n\n            const zoomLayerCanvas = this.zoomLayer.firstChild;\n            this.paintedViewportMap.delete(zoomLayerCanvas);\n            zoomLayerCanvas.width = 0;\n            zoomLayerCanvas.height = 0;\n\n            if (removeFromDOM) {\n              this.zoomLayer.remove();\n            }\n\n            this.zoomLayer = null;\n          }\n\n          reset({\n            keepZoomLayer = false,\n            keepAnnotationLayer = false,\n            keepAnnotationEditorLayer = false,\n            keepXfaLayer = false\n          } = {}) {\n            this.cancelRendering({\n              keepAnnotationLayer,\n              keepAnnotationEditorLayer,\n              keepXfaLayer\n            });\n            this.renderingState = _ui_utils.RenderingStates.INITIAL;\n            const div = this.div;\n            div.style.width = Math.floor(this.viewport.width) + \"px\";\n            div.style.height = Math.floor(this.viewport.height) + \"px\";\n            const childNodes = div.childNodes,\n                  zoomLayerNode = keepZoomLayer && this.zoomLayer || null,\n                  annotationLayerNode = keepAnnotationLayer && this.annotationLayer?.div || null,\n                  annotationEditorLayerNode = keepAnnotationEditorLayer && this.annotationEditorLayer?.div || null,\n                  xfaLayerNode = keepXfaLayer && this.xfaLayer?.div || null;\n\n            for (let i = childNodes.length - 1; i >= 0; i--) {\n              const node = childNodes[i];\n\n              switch (node) {\n                case zoomLayerNode:\n                case annotationLayerNode:\n                case annotationEditorLayerNode:\n                case xfaLayerNode:\n                  continue;\n              }\n\n              node.remove();\n            }\n\n            div.removeAttribute(\"data-loaded\");\n\n            if (annotationLayerNode) {\n              this.annotationLayer.hide();\n            }\n\n            if (annotationEditorLayerNode) {\n              this.annotationEditorLayer.hide();\n            } else {\n              this.annotationEditorLayer?.destroy();\n            }\n\n            if (xfaLayerNode) {\n              this.xfaLayer.hide();\n            }\n\n            if (!zoomLayerNode) {\n              if (this.canvas) {\n                this.paintedViewportMap.delete(this.canvas);\n                this.canvas.width = 0;\n                this.canvas.height = 0;\n                delete this.canvas;\n              }\n\n              this._resetZoomLayer();\n            }\n\n            if (this.svg) {\n              this.paintedViewportMap.delete(this.svg);\n              delete this.svg;\n            }\n\n            this.loadingIconDiv = document.createElement(\"div\");\n            this.loadingIconDiv.className = \"loadingIcon notVisible\";\n\n            if (this._isStandalone) {\n              this.toggleLoadingIconSpinner(true);\n            }\n\n            this.loadingIconDiv.setAttribute(\"role\", \"img\");\n            this.l10n.get(\"loading\").then(msg => {\n              this.loadingIconDiv?.setAttribute(\"aria-label\", msg);\n            });\n            div.append(this.loadingIconDiv);\n          }\n\n          update({\n            scale = 0,\n            rotation = null,\n            optionalContentConfigPromise = null\n          }) {\n            this.scale = scale || this.scale;\n\n            if (typeof rotation === \"number\") {\n              this.rotation = rotation;\n            }\n\n            if (optionalContentConfigPromise instanceof Promise) {\n              this._optionalContentConfigPromise = optionalContentConfigPromise;\n              optionalContentConfigPromise.then(optionalContentConfig => {\n                if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n                  return;\n                }\n\n                this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n              });\n            }\n\n            const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n            this.viewport = this.viewport.clone({\n              scale: this.scale * _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS,\n              rotation: totalRotation\n            });\n\n            if (this._isStandalone) {\n              _ui_utils.docStyle.setProperty(\"--scale-factor\", this.viewport.scale);\n            }\n\n            if (this.svg) {\n              this.cssTransform({\n                target: this.svg,\n                redrawAnnotationLayer: true,\n                redrawAnnotationEditorLayer: true,\n                redrawXfaLayer: true\n              });\n              this.eventBus.dispatch(\"pagerendered\", {\n                source: this,\n                pageNumber: this.id,\n                cssTransform: true,\n                timestamp: performance.now(),\n                error: this._renderError\n              });\n              return;\n            }\n\n            let isScalingRestricted = false;\n\n            if (this.canvas && this.maxCanvasPixels > 0) {\n              const outputScale = this.outputScale;\n\n              if ((Math.floor(this.viewport.width) * outputScale.sx | 0) * (Math.floor(this.viewport.height) * outputScale.sy | 0) > this.maxCanvasPixels) {\n                isScalingRestricted = true;\n              }\n            }\n\n            if (this.canvas) {\n              if (this.useOnlyCssZoom || this.hasRestrictedScaling && isScalingRestricted) {\n                this.cssTransform({\n                  target: this.canvas,\n                  redrawAnnotationLayer: true,\n                  redrawAnnotationEditorLayer: true,\n                  redrawXfaLayer: true\n                });\n                this.eventBus.dispatch(\"pagerendered\", {\n                  source: this,\n                  pageNumber: this.id,\n                  cssTransform: true,\n                  timestamp: performance.now(),\n                  error: this._renderError\n                });\n                return;\n              }\n\n              if (!this.zoomLayer && !this.canvas.hidden) {\n                this.zoomLayer = this.canvas.parentNode;\n                this.zoomLayer.style.position = \"absolute\";\n              }\n            }\n\n            if (this.zoomLayer) {\n              this.cssTransform({\n                target: this.zoomLayer.firstChild\n              });\n            }\n\n            this.reset({\n              keepZoomLayer: true,\n              keepAnnotationLayer: true,\n              keepAnnotationEditorLayer: true,\n              keepXfaLayer: true\n            });\n          }\n\n          cancelRendering({\n            keepAnnotationLayer = false,\n            keepAnnotationEditorLayer = false,\n            keepXfaLayer = false\n          } = {}) {\n            if (this.paintTask) {\n              this.paintTask.cancel();\n              this.paintTask = null;\n            }\n\n            this.resume = null;\n\n            if (this.textLayer) {\n              this.textLayer.cancel();\n              this.textLayer = null;\n            }\n\n            if (this.annotationLayer && (!keepAnnotationLayer || !this.annotationLayer.div)) {\n              this.annotationLayer.cancel();\n              this.annotationLayer = null;\n              this._annotationCanvasMap = null;\n            }\n\n            if (this.annotationEditorLayer && (!keepAnnotationEditorLayer || !this.annotationEditorLayer.div)) {\n              this.annotationEditorLayer.cancel();\n              this.annotationEditorLayer = null;\n            }\n\n            if (this.xfaLayer && (!keepXfaLayer || !this.xfaLayer.div)) {\n              this.xfaLayer.cancel();\n              this.xfaLayer = null;\n              this.textHighlighter?.disable();\n            }\n\n            if (this._onTextLayerRendered) {\n              this.eventBus._off(\"textlayerrendered\", this._onTextLayerRendered);\n\n              this._onTextLayerRendered = null;\n            }\n          }\n\n          cssTransform({\n            target,\n            redrawAnnotationLayer = false,\n            redrawAnnotationEditorLayer = false,\n            redrawXfaLayer = false\n          }) {\n            const width = this.viewport.width;\n            const height = this.viewport.height;\n            const div = this.div;\n            target.style.width = target.parentNode.style.width = div.style.width = Math.floor(width) + \"px\";\n            target.style.height = target.parentNode.style.height = div.style.height = Math.floor(height) + \"px\";\n            const relativeRotation = this.viewport.rotation - this.paintedViewportMap.get(target).rotation;\n            const absRotation = Math.abs(relativeRotation);\n            let scaleX = 1,\n                scaleY = 1;\n\n            if (absRotation === 90 || absRotation === 270) {\n              scaleX = height / width;\n              scaleY = width / height;\n            }\n\n            target.style.transform = `rotate(${relativeRotation}deg) scale(${scaleX}, ${scaleY})`;\n\n            if (this.textLayer) {\n              const textLayerViewport = this.textLayer.viewport;\n              const textRelativeRotation = this.viewport.rotation - textLayerViewport.rotation;\n              const textAbsRotation = Math.abs(textRelativeRotation);\n              let scale = width / textLayerViewport.width;\n\n              if (textAbsRotation === 90 || textAbsRotation === 270) {\n                scale = width / textLayerViewport.height;\n              }\n\n              const textLayerDiv = this.textLayer.textLayerDiv;\n              let transX, transY;\n\n              switch (textAbsRotation) {\n                case 0:\n                  transX = transY = 0;\n                  break;\n\n                case 90:\n                  transX = 0;\n                  transY = \"-\" + textLayerDiv.style.height;\n                  break;\n\n                case 180:\n                  transX = \"-\" + textLayerDiv.style.width;\n                  transY = \"-\" + textLayerDiv.style.height;\n                  break;\n\n                case 270:\n                  transX = \"-\" + textLayerDiv.style.width;\n                  transY = 0;\n                  break;\n\n                default:\n                  console.error(\"Bad rotation value.\");\n                  break;\n              }\n\n              textLayerDiv.style.transform = `rotate(${textAbsRotation}deg) ` + `scale(${scale}) ` + `translate(${transX}, ${transY})`;\n              textLayerDiv.style.transformOrigin = \"0% 0%\";\n            }\n\n            if (redrawAnnotationLayer && this.annotationLayer) {\n              this._renderAnnotationLayer();\n            }\n\n            if (redrawAnnotationEditorLayer && this.annotationEditorLayer) {\n              this._renderAnnotationEditorLayer();\n            }\n\n            if (redrawXfaLayer && this.xfaLayer) {\n              this._renderXfaLayer();\n            }\n          }\n\n          get width() {\n            return this.viewport.width;\n          }\n\n          get height() {\n            return this.viewport.height;\n          }\n\n          getPagePoint(x, y) {\n            return this.viewport.convertToPdfPoint(x, y);\n          }\n\n          toggleLoadingIconSpinner(viewVisible = false) {\n            this.loadingIconDiv?.classList.toggle(\"notVisible\", !viewVisible);\n          }\n\n          draw() {\n            var _this10 = this;\n\n            if (this.renderingState !== _ui_utils.RenderingStates.INITIAL) {\n              console.error(\"Must be in new state before drawing\");\n              this.reset();\n            }\n\n            const {\n              div,\n              pdfPage\n            } = this;\n\n            if (!pdfPage) {\n              this.renderingState = _ui_utils.RenderingStates.FINISHED;\n\n              if (this.loadingIconDiv) {\n                this.loadingIconDiv.remove();\n                delete this.loadingIconDiv;\n              }\n\n              return Promise.reject(new Error(\"pdfPage is not loaded\"));\n            }\n\n            this.renderingState = _ui_utils.RenderingStates.RUNNING;\n            const canvasWrapper = document.createElement(\"div\");\n            canvasWrapper.style.width = div.style.width;\n            canvasWrapper.style.height = div.style.height;\n            canvasWrapper.classList.add(\"canvasWrapper\");\n            const lastDivBeforeTextDiv = this.annotationLayer?.div || this.annotationEditorLayer?.div;\n\n            if (lastDivBeforeTextDiv) {\n              lastDivBeforeTextDiv.before(canvasWrapper);\n            } else {\n              div.append(canvasWrapper);\n            }\n\n            let textLayer = null;\n\n            if (this.textLayerMode !== _ui_utils.TextLayerMode.DISABLE && this.textLayerFactory) {\n              this._accessibilityManager ||= new _text_accessibility.TextAccessibilityManager();\n              const textLayerDiv = document.createElement(\"div\");\n              textLayerDiv.className = \"textLayer\";\n              textLayerDiv.style.width = canvasWrapper.style.width;\n              textLayerDiv.style.height = canvasWrapper.style.height;\n\n              if (lastDivBeforeTextDiv) {\n                lastDivBeforeTextDiv.before(textLayerDiv);\n              } else {\n                div.append(textLayerDiv);\n              }\n\n              textLayer = this.textLayerFactory.createTextLayerBuilder({\n                textLayerDiv,\n                pageIndex: this.id - 1,\n                viewport: this.viewport,\n                enhanceTextSelection: this.textLayerMode === _ui_utils.TextLayerMode.ENABLE_ENHANCE,\n                eventBus: this.eventBus,\n                highlighter: this.textHighlighter,\n                accessibilityManager: this._accessibilityManager\n              });\n            }\n\n            this.textLayer = textLayer;\n\n            if (this.#annotationMode !== _pdfjsLib.AnnotationMode.DISABLE && this.annotationLayerFactory) {\n              this._annotationCanvasMap ||= new Map();\n              this.annotationLayer ||= this.annotationLayerFactory.createAnnotationLayerBuilder({\n                pageDiv: div,\n                pdfPage,\n                imageResourcesPath: this.imageResourcesPath,\n                renderForms: this.#annotationMode === _pdfjsLib.AnnotationMode.ENABLE_FORMS,\n                l10n: this.l10n,\n                annotationCanvasMap: this._annotationCanvasMap,\n                accessibilityManager: this._accessibilityManager\n              });\n            }\n\n            if (this.xfaLayer?.div) {\n              div.append(this.xfaLayer.div);\n            }\n\n            let renderContinueCallback = null;\n\n            if (this.renderingQueue) {\n              renderContinueCallback = cont => {\n                if (!this.renderingQueue.isHighestPriority(this)) {\n                  this.renderingState = _ui_utils.RenderingStates.PAUSED;\n\n                  this.resume = () => {\n                    this.renderingState = _ui_utils.RenderingStates.RUNNING;\n                    cont();\n                  };\n\n                  return;\n                }\n\n                cont();\n              };\n            }\n\n            const finishPaintTask = /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator(function* (error = null) {\n                if (paintTask === _this10.paintTask) {\n                  _this10.paintTask = null;\n                }\n\n                if (error instanceof _pdfjsLib.RenderingCancelledException) {\n                  _this10._renderError = null;\n                  return;\n                }\n\n                _this10._renderError = error;\n                _this10.renderingState = _ui_utils.RenderingStates.FINISHED;\n\n                if (_this10.loadingIconDiv) {\n                  _this10.loadingIconDiv.remove();\n\n                  delete _this10.loadingIconDiv;\n                }\n\n                _this10._resetZoomLayer(true);\n\n                _this10.#useThumbnailCanvas.regularAnnotations = !paintTask.separateAnnots;\n\n                _this10.eventBus.dispatch(\"pagerendered\", {\n                  source: _this10,\n                  pageNumber: _this10.id,\n                  cssTransform: false,\n                  timestamp: performance.now(),\n                  error: _this10._renderError\n                });\n\n                if (error) {\n                  throw error;\n                }\n              });\n\n              return function finishPaintTask() {\n                return _ref2.apply(this, arguments);\n              };\n            }();\n\n            const paintTask = this.renderer === _ui_utils.RendererType.SVG ? this.paintOnSvg(canvasWrapper) : this.paintOnCanvas(canvasWrapper);\n            paintTask.onRenderContinue = renderContinueCallback;\n            this.paintTask = paintTask;\n            const resultPromise = paintTask.promise.then(() => {\n              return finishPaintTask(null).then(() => {\n                if (textLayer) {\n                  const readableStream = pdfPage.streamTextContent({\n                    includeMarkedContent: true\n                  });\n                  textLayer.setTextContentStream(readableStream);\n                  textLayer.render();\n                }\n\n                if (this.annotationLayer) {\n                  this._renderAnnotationLayer().then(() => {\n                    if (this.annotationEditorLayerFactory) {\n                      this.annotationEditorLayer ||= this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({\n                        pageDiv: div,\n                        pdfPage,\n                        l10n: this.l10n,\n                        accessibilityManager: this._accessibilityManager\n                      });\n\n                      this._renderAnnotationEditorLayer();\n                    }\n                  });\n                }\n              });\n            }, function (reason) {\n              return finishPaintTask(reason);\n            });\n\n            if (this.xfaLayerFactory) {\n              this.xfaLayer ||= this.xfaLayerFactory.createXfaLayerBuilder({\n                pageDiv: div,\n                pdfPage\n              });\n\n              this._renderXfaLayer();\n            }\n\n            if (this.structTreeLayerFactory && this.textLayer && this.canvas) {\n              this._onTextLayerRendered = event => {\n                if (event.pageNumber !== this.id) {\n                  return;\n                }\n\n                this.eventBus._off(\"textlayerrendered\", this._onTextLayerRendered);\n\n                this._onTextLayerRendered = null;\n\n                if (!this.canvas) {\n                  return;\n                }\n\n                this.pdfPage.getStructTree().then(tree => {\n                  if (!tree) {\n                    return;\n                  }\n\n                  if (!this.canvas) {\n                    return;\n                  }\n\n                  const treeDom = this.structTreeLayer.render(tree);\n                  treeDom.classList.add(\"structTree\");\n                  this.canvas.append(treeDom);\n                });\n              };\n\n              this.eventBus._on(\"textlayerrendered\", this._onTextLayerRendered);\n\n              this.structTreeLayer = this.structTreeLayerFactory.createStructTreeLayerBuilder({\n                pdfPage\n              });\n            }\n\n            div.setAttribute(\"data-loaded\", true);\n            this.eventBus.dispatch(\"pagerender\", {\n              source: this,\n              pageNumber: this.id\n            });\n            return resultPromise;\n          }\n\n          paintOnCanvas(canvasWrapper) {\n            const renderCapability = (0, _pdfjsLib.createPromiseCapability)();\n            const result = {\n              promise: renderCapability.promise,\n\n              onRenderContinue(cont) {\n                cont();\n              },\n\n              cancel() {\n                renderTask.cancel();\n              },\n\n              get separateAnnots() {\n                return renderTask.separateAnnots;\n              }\n\n            };\n            const viewport = this.viewport;\n            const canvas = document.createElement(\"canvas\");\n            canvas.setAttribute(\"role\", \"presentation\");\n            canvas.hidden = true;\n            let isCanvasHidden = true;\n\n            const showCanvas = function () {\n              if (isCanvasHidden) {\n                canvas.hidden = false;\n                isCanvasHidden = false;\n              }\n            };\n\n            canvasWrapper.append(canvas);\n            this.canvas = canvas;\n            const ctx = canvas.getContext(\"2d\", {\n              alpha: false\n            });\n            const outputScale = this.outputScale = new _ui_utils.OutputScale();\n\n            if (this.useOnlyCssZoom) {\n              const actualSizeViewport = viewport.clone({\n                scale: _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS\n              });\n              outputScale.sx *= actualSizeViewport.width / viewport.width;\n              outputScale.sy *= actualSizeViewport.height / viewport.height;\n            }\n\n            if (this.maxCanvasPixels > 0) {\n              const pixelsInViewport = viewport.width * viewport.height;\n              const maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n\n              if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n                outputScale.sx = maxScale;\n                outputScale.sy = maxScale;\n                this.hasRestrictedScaling = true;\n              } else {\n                this.hasRestrictedScaling = false;\n              }\n            }\n\n            const sfx = (0, _ui_utils.approximateFraction)(outputScale.sx);\n            const sfy = (0, _ui_utils.approximateFraction)(outputScale.sy);\n            canvas.width = (0, _ui_utils.roundToDivide)(viewport.width * outputScale.sx, sfx[0]);\n            canvas.height = (0, _ui_utils.roundToDivide)(viewport.height * outputScale.sy, sfy[0]);\n            canvas.style.width = (0, _ui_utils.roundToDivide)(viewport.width, sfx[1]) + \"px\";\n            canvas.style.height = (0, _ui_utils.roundToDivide)(viewport.height, sfy[1]) + \"px\";\n            this.paintedViewportMap.set(canvas, viewport);\n            const transform = outputScale.scaled ? [outputScale.sx, 0, 0, outputScale.sy, 0, 0] : null;\n            const renderContext = {\n              canvasContext: ctx,\n              transform,\n              viewport: this.viewport,\n              annotationMode: this.#annotationMode,\n              optionalContentConfigPromise: this._optionalContentConfigPromise,\n              annotationCanvasMap: this._annotationCanvasMap,\n              pageColors: this.pageColors\n            };\n            const renderTask = this.pdfPage.render(renderContext);\n\n            renderTask.onContinue = function (cont) {\n              showCanvas();\n\n              if (result.onRenderContinue) {\n                result.onRenderContinue(cont);\n              } else {\n                cont();\n              }\n            };\n\n            renderTask.promise.then(function () {\n              showCanvas();\n              renderCapability.resolve();\n            }, function (error) {\n              showCanvas();\n              renderCapability.reject(error);\n            });\n            return result;\n          }\n\n          paintOnSvg(wrapper) {\n            let cancelled = false;\n\n            const ensureNotCancelled = () => {\n              if (cancelled) {\n                throw new _pdfjsLib.RenderingCancelledException(`Rendering cancelled, page ${this.id}`, \"svg\");\n              }\n            };\n\n            const pdfPage = this.pdfPage;\n            const actualSizeViewport = this.viewport.clone({\n              scale: _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS\n            });\n            const promise = pdfPage.getOperatorList({\n              annotationMode: this.#annotationMode\n            }).then(opList => {\n              ensureNotCancelled();\n              const svgGfx = new _pdfjsLib.SVGGraphics(pdfPage.commonObjs, pdfPage.objs);\n              return svgGfx.getSVG(opList, actualSizeViewport).then(svg => {\n                ensureNotCancelled();\n                this.svg = svg;\n                this.paintedViewportMap.set(svg, actualSizeViewport);\n                svg.style.width = wrapper.style.width;\n                svg.style.height = wrapper.style.height;\n                this.renderingState = _ui_utils.RenderingStates.FINISHED;\n                wrapper.append(svg);\n              });\n            });\n            return {\n              promise,\n\n              onRenderContinue(cont) {\n                cont();\n              },\n\n              cancel() {\n                cancelled = true;\n              },\n\n              get separateAnnots() {\n                return false;\n              }\n\n            };\n          }\n\n          setPageLabel(label) {\n            this.pageLabel = typeof label === \"string\" ? label : null;\n\n            if (this.pageLabel !== null) {\n              this.div.setAttribute(\"data-page-label\", this.pageLabel);\n            } else {\n              this.div.removeAttribute(\"data-page-label\");\n            }\n          }\n\n          get thumbnailCanvas() {\n            const {\n              initialOptionalContent,\n              regularAnnotations\n            } = this.#useThumbnailCanvas;\n            return initialOptionalContent && regularAnnotations ? this.canvas : null;\n          }\n\n        }\n\n        exports.PDFPageView = PDFPageView;\n        /***/\n      },\n      /* 14 */\n\n      /***/\n      (__unused_webpack_module, exports) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.compatibilityParams = exports.OptionKind = exports.AppOptions = void 0;\n        const compatibilityParams = Object.create(null);\n        exports.compatibilityParams = compatibilityParams;\n        {\n          const userAgent = navigator.userAgent || \"\";\n          const platform = navigator.platform || \"\";\n          const maxTouchPoints = navigator.maxTouchPoints || 1;\n          const isAndroid = /Android/.test(userAgent);\n          const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n\n          (function checkCanvasSizeLimitation() {\n            if (isIOS || isAndroid) {\n              compatibilityParams.maxCanvasPixels = 5242880;\n            }\n          })();\n        }\n        const OptionKind = {\n          VIEWER: 0x02,\n          API: 0x04,\n          WORKER: 0x08,\n          PREFERENCE: 0x80\n        };\n        exports.OptionKind = OptionKind;\n        const defaultOptions = {\n          annotationEditorMode: {\n            value: -1,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          annotationMode: {\n            value: 2,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          cursorToolOnLoad: {\n            value: 0,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          defaultZoomValue: {\n            value: \"\",\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          disableHistory: {\n            value: false,\n            kind: OptionKind.VIEWER\n          },\n          disablePageLabels: {\n            value: false,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          enablePermissions: {\n            value: false,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          enablePrintAutoRotate: {\n            value: true,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          enableScripting: {\n            value: true,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          externalLinkRel: {\n            value: \"noopener noreferrer nofollow\",\n            kind: OptionKind.VIEWER\n          },\n          externalLinkTarget: {\n            value: 0,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          historyUpdateUrl: {\n            value: false,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          ignoreDestinationZoom: {\n            value: false,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          imageResourcesPath: {\n            value: \"./images/\",\n            kind: OptionKind.VIEWER\n          },\n          maxCanvasPixels: {\n            value: 16777216,\n            kind: OptionKind.VIEWER\n          },\n          forcePageColors: {\n            value: false,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          pageColorsBackground: {\n            value: \"Canvas\",\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          pageColorsForeground: {\n            value: \"CanvasText\",\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          pdfBugEnabled: {\n            value: false,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          printResolution: {\n            value: 150,\n            kind: OptionKind.VIEWER\n          },\n          sidebarViewOnLoad: {\n            value: -1,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          scrollModeOnLoad: {\n            value: -1,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          spreadModeOnLoad: {\n            value: -1,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          textLayerMode: {\n            value: 1,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          useOnlyCssZoom: {\n            value: false,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          viewerCssTheme: {\n            value: 0,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          viewOnLoad: {\n            value: 0,\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          },\n          cMapPacked: {\n            value: true,\n            kind: OptionKind.API\n          },\n          cMapUrl: {\n            value: \"../web/cmaps/\",\n            kind: OptionKind.API\n          },\n          disableAutoFetch: {\n            value: false,\n            kind: OptionKind.API + OptionKind.PREFERENCE\n          },\n          disableFontFace: {\n            value: false,\n            kind: OptionKind.API + OptionKind.PREFERENCE\n          },\n          disableRange: {\n            value: false,\n            kind: OptionKind.API + OptionKind.PREFERENCE\n          },\n          disableStream: {\n            value: false,\n            kind: OptionKind.API + OptionKind.PREFERENCE\n          },\n          docBaseUrl: {\n            value: \"\",\n            kind: OptionKind.API\n          },\n          enableXfa: {\n            value: true,\n            kind: OptionKind.API + OptionKind.PREFERENCE\n          },\n          fontExtraProperties: {\n            value: false,\n            kind: OptionKind.API\n          },\n          isEvalSupported: {\n            value: true,\n            kind: OptionKind.API\n          },\n          maxImageSize: {\n            value: -1,\n            kind: OptionKind.API\n          },\n          pdfBug: {\n            value: false,\n            kind: OptionKind.API\n          },\n          standardFontDataUrl: {\n            value: \"../web/standard_fonts/\",\n            kind: OptionKind.API\n          },\n          verbosity: {\n            value: 1,\n            kind: OptionKind.API\n          },\n          workerPort: {\n            value: null,\n            kind: OptionKind.WORKER\n          },\n          workerSrc: {\n            value: \"../build/pdf.worker.js\",\n            kind: OptionKind.WORKER\n          }\n        };\n        {\n          defaultOptions.defaultUrl = {\n            value: \"compressed.tracemonkey-pldi-09.pdf\",\n            kind: OptionKind.VIEWER\n          };\n          defaultOptions.disablePreferences = {\n            value: false,\n            kind: OptionKind.VIEWER\n          };\n          defaultOptions.locale = {\n            value: navigator.language || \"en-US\",\n            kind: OptionKind.VIEWER\n          };\n          defaultOptions.renderer = {\n            value: \"canvas\",\n            kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n          };\n          defaultOptions.sandboxBundleSrc = {\n            value: \"../build/pdf.sandbox.js\",\n            kind: OptionKind.VIEWER\n          };\n        }\n        const userOptions = Object.create(null);\n\n        class AppOptions {\n          constructor() {\n            throw new Error(\"Cannot initialize AppOptions.\");\n          }\n\n          static get(name) {\n            const userOption = userOptions[name];\n\n            if (userOption !== undefined) {\n              return userOption;\n            }\n\n            const defaultOption = defaultOptions[name];\n\n            if (defaultOption !== undefined) {\n              return compatibilityParams[name] ?? defaultOption.value;\n            }\n\n            return undefined;\n          }\n\n          static getAll(kind = null) {\n            const options = Object.create(null);\n\n            for (const name in defaultOptions) {\n              const defaultOption = defaultOptions[name];\n\n              if (kind) {\n                if ((kind & defaultOption.kind) === 0) {\n                  continue;\n                }\n\n                if (kind === OptionKind.PREFERENCE) {\n                  const value = defaultOption.value,\n                        valueType = typeof value;\n\n                  if (valueType === \"boolean\" || valueType === \"string\" || valueType === \"number\" && Number.isInteger(value)) {\n                    options[name] = value;\n                    continue;\n                  }\n\n                  throw new Error(`Invalid type for preference: ${name}`);\n                }\n              }\n\n              const userOption = userOptions[name];\n              options[name] = userOption !== undefined ? userOption : compatibilityParams[name] ?? defaultOption.value;\n            }\n\n            return options;\n          }\n\n          static set(name, value) {\n            userOptions[name] = value;\n          }\n\n          static setAll(options) {\n            for (const name in options) {\n              userOptions[name] = options[name];\n            }\n          }\n\n          static remove(name) {\n            delete userOptions[name];\n          }\n\n          static _hasUserOptions() {\n            return Object.keys(userOptions).length > 0;\n          }\n\n        }\n\n        exports.AppOptions = AppOptions;\n        /***/\n      },\n      /* 15 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.TextAccessibilityManager = void 0;\n\n        var _ui_utils = __w_pdfjs_require__(7);\n\n        class TextAccessibilityManager {\n          #enabled = false;\n          #textChildren = null;\n          #textNodes = new Map();\n          #waitingElements = new Map();\n\n          setTextMapping(textDivs) {\n            this.#textChildren = textDivs;\n          }\n\n          static #compareElementPositions(e1, e2) {\n            const rect1 = e1.getBoundingClientRect();\n            const rect2 = e2.getBoundingClientRect();\n\n            if (rect1.width === 0 && rect1.height === 0) {\n              return +1;\n            }\n\n            if (rect2.width === 0 && rect2.height === 0) {\n              return -1;\n            }\n\n            const top1 = rect1.y;\n            const bot1 = rect1.y + rect1.height;\n            const mid1 = rect1.y + rect1.height / 2;\n            const top2 = rect2.y;\n            const bot2 = rect2.y + rect2.height;\n            const mid2 = rect2.y + rect2.height / 2;\n\n            if (mid1 <= top2 && mid2 >= bot1) {\n              return -1;\n            }\n\n            if (mid2 <= top1 && mid1 >= bot2) {\n              return +1;\n            }\n\n            const centerX1 = rect1.x + rect1.width / 2;\n            const centerX2 = rect2.x + rect2.width / 2;\n            return centerX1 - centerX2;\n          }\n\n          enable() {\n            if (this.#enabled) {\n              throw new Error(\"TextAccessibilityManager is already enabled.\");\n            }\n\n            if (!this.#textChildren) {\n              throw new Error(\"Text divs and strings have not been set.\");\n            }\n\n            this.#enabled = true;\n            this.#textChildren = this.#textChildren.slice();\n            this.#textChildren.sort(TextAccessibilityManager.#compareElementPositions);\n\n            if (this.#textNodes.size > 0) {\n              const textChildren = this.#textChildren;\n\n              for (const [id, nodeIndex] of this.#textNodes) {\n                const element = document.getElementById(id);\n\n                if (!element) {\n                  this.#textNodes.delete(id);\n                  continue;\n                }\n\n                this.#addIdToAriaOwns(id, textChildren[nodeIndex]);\n              }\n            }\n\n            for (const [element, isRemovable] of this.#waitingElements) {\n              this.addPointerInTextLayer(element, isRemovable);\n            }\n\n            this.#waitingElements.clear();\n          }\n\n          disable() {\n            if (!this.#enabled) {\n              return;\n            }\n\n            this.#waitingElements.clear();\n            this.#textChildren = null;\n            this.#enabled = false;\n          }\n\n          removePointerInTextLayer(element) {\n            if (!this.#enabled) {\n              this.#waitingElements.delete(element);\n              return;\n            }\n\n            const children = this.#textChildren;\n\n            if (!children || children.length === 0) {\n              return;\n            }\n\n            const {\n              id\n            } = element;\n            const nodeIndex = this.#textNodes.get(id);\n\n            if (nodeIndex === undefined) {\n              return;\n            }\n\n            const node = children[nodeIndex];\n            this.#textNodes.delete(id);\n            let owns = node.getAttribute(\"aria-owns\");\n\n            if (owns?.includes(id)) {\n              owns = owns.split(\" \").filter(x => x !== id).join(\" \");\n\n              if (owns) {\n                node.setAttribute(\"aria-owns\", owns);\n              } else {\n                node.removeAttribute(\"aria-owns\");\n                node.setAttribute(\"role\", \"presentation\");\n              }\n            }\n          }\n\n          #addIdToAriaOwns(id, node) {\n            const owns = node.getAttribute(\"aria-owns\");\n\n            if (!owns?.includes(id)) {\n              node.setAttribute(\"aria-owns\", owns ? `${owns} ${id}` : id);\n            }\n\n            node.removeAttribute(\"role\");\n          }\n\n          addPointerInTextLayer(element, isRemovable) {\n            const {\n              id\n            } = element;\n\n            if (!id) {\n              return;\n            }\n\n            if (!this.#enabled) {\n              this.#waitingElements.set(element, isRemovable);\n              return;\n            }\n\n            if (isRemovable) {\n              this.removePointerInTextLayer(element);\n            }\n\n            const children = this.#textChildren;\n\n            if (!children || children.length === 0) {\n              return;\n            }\n\n            const index = (0, _ui_utils.binarySearchFirstItem)(children, node => TextAccessibilityManager.#compareElementPositions(element, node) < 0);\n            const nodeIndex = Math.max(0, index - 1);\n            this.#addIdToAriaOwns(id, children[nodeIndex]);\n            this.#textNodes.set(id, nodeIndex);\n          }\n\n          moveElementInDOM(container, element, contentElement, isRemovable) {\n            this.addPointerInTextLayer(contentElement, isRemovable);\n\n            if (!container.hasChildNodes()) {\n              container.append(element);\n              return;\n            }\n\n            const children = Array.from(container.childNodes).filter(node => node !== element);\n\n            if (children.length === 0) {\n              return;\n            }\n\n            const elementToCompare = contentElement || element;\n            const index = (0, _ui_utils.binarySearchFirstItem)(children, node => TextAccessibilityManager.#compareElementPositions(elementToCompare, node) < 0);\n\n            if (index === 0) {\n              children[0].before(element);\n            } else {\n              children[index - 1].after(element);\n            }\n          }\n\n        }\n\n        exports.TextAccessibilityManager = TextAccessibilityManager;\n        /***/\n      },\n      /* 16 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.PDFRenderingQueue = void 0;\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        var _ui_utils = __w_pdfjs_require__(7);\n\n        const CLEANUP_TIMEOUT = 30000;\n\n        class PDFRenderingQueue {\n          constructor() {\n            this.pdfViewer = null;\n            this.pdfThumbnailViewer = null;\n            this.onIdle = null;\n            this.highestPriorityPage = null;\n            this.idleTimeout = null;\n            this.printing = false;\n            this.isThumbnailViewEnabled = false;\n          }\n\n          setViewer(pdfViewer) {\n            this.pdfViewer = pdfViewer;\n          }\n\n          setThumbnailViewer(pdfThumbnailViewer) {\n            this.pdfThumbnailViewer = pdfThumbnailViewer;\n          }\n\n          isHighestPriority(view) {\n            return this.highestPriorityPage === view.renderingId;\n          }\n\n          hasViewer() {\n            return !!this.pdfViewer;\n          }\n\n          renderHighestPriority(currentlyVisiblePages) {\n            if (this.idleTimeout) {\n              clearTimeout(this.idleTimeout);\n              this.idleTimeout = null;\n            }\n\n            if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n              return;\n            }\n\n            if (this.isThumbnailViewEnabled && this.pdfThumbnailViewer?.forceRendering()) {\n              return;\n            }\n\n            if (this.printing) {\n              return;\n            }\n\n            if (this.onIdle) {\n              this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n            }\n          }\n\n          getHighestPriority(visible, views, scrolledDown, preRenderExtra = false) {\n            const visibleViews = visible.views,\n                  numVisible = visibleViews.length;\n\n            if (numVisible === 0) {\n              return null;\n            }\n\n            for (let i = 0; i < numVisible; i++) {\n              const view = visibleViews[i].view;\n\n              if (!this.isViewFinished(view)) {\n                return view;\n              }\n            }\n\n            const firstId = visible.first.id,\n                  lastId = visible.last.id;\n\n            if (lastId - firstId + 1 > numVisible) {\n              const visibleIds = visible.ids;\n\n              for (let i = 1, ii = lastId - firstId; i < ii; i++) {\n                const holeId = scrolledDown ? firstId + i : lastId - i;\n\n                if (visibleIds.has(holeId)) {\n                  continue;\n                }\n\n                const holeView = views[holeId - 1];\n\n                if (!this.isViewFinished(holeView)) {\n                  return holeView;\n                }\n              }\n            }\n\n            let preRenderIndex = scrolledDown ? lastId : firstId - 2;\n            let preRenderView = views[preRenderIndex];\n\n            if (preRenderView && !this.isViewFinished(preRenderView)) {\n              return preRenderView;\n            }\n\n            if (preRenderExtra) {\n              preRenderIndex += scrolledDown ? 1 : -1;\n              preRenderView = views[preRenderIndex];\n\n              if (preRenderView && !this.isViewFinished(preRenderView)) {\n                return preRenderView;\n              }\n            }\n\n            return null;\n          }\n\n          isViewFinished(view) {\n            return view.renderingState === _ui_utils.RenderingStates.FINISHED;\n          }\n\n          renderView(view) {\n            switch (view.renderingState) {\n              case _ui_utils.RenderingStates.FINISHED:\n                return false;\n\n              case _ui_utils.RenderingStates.PAUSED:\n                this.highestPriorityPage = view.renderingId;\n                view.resume();\n                break;\n\n              case _ui_utils.RenderingStates.RUNNING:\n                this.highestPriorityPage = view.renderingId;\n                break;\n\n              case _ui_utils.RenderingStates.INITIAL:\n                this.highestPriorityPage = view.renderingId;\n                view.draw().finally(() => {\n                  this.renderHighestPriority();\n                }).catch(reason => {\n                  if (reason instanceof _pdfjsLib.RenderingCancelledException) {\n                    return;\n                  }\n\n                  console.error(`renderView: \"${reason}\"`);\n                });\n                break;\n            }\n\n            return true;\n          }\n\n        }\n\n        exports.PDFRenderingQueue = PDFRenderingQueue;\n        /***/\n      },\n      /* 17 */\n\n      /***/\n      (__unused_webpack_module, exports) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.TextHighlighter = void 0;\n\n        class TextHighlighter {\n          constructor({\n            findController,\n            eventBus,\n            pageIndex\n          }) {\n            this.findController = findController;\n            this.matches = [];\n            this.eventBus = eventBus;\n            this.pageIdx = pageIndex;\n            this._onUpdateTextLayerMatches = null;\n            this.textDivs = null;\n            this.textContentItemsStr = null;\n            this.enabled = false;\n          }\n\n          setTextMapping(divs, texts) {\n            this.textDivs = divs;\n            this.textContentItemsStr = texts;\n          }\n\n          enable() {\n            if (!this.textDivs || !this.textContentItemsStr) {\n              throw new Error(\"Text divs and strings have not been set.\");\n            }\n\n            if (this.enabled) {\n              throw new Error(\"TextHighlighter is already enabled.\");\n            }\n\n            this.enabled = true;\n\n            if (!this._onUpdateTextLayerMatches) {\n              this._onUpdateTextLayerMatches = evt => {\n                if (evt.pageIndex === this.pageIdx || evt.pageIndex === -1) {\n                  this._updateMatches();\n                }\n              };\n\n              this.eventBus._on(\"updatetextlayermatches\", this._onUpdateTextLayerMatches);\n            }\n\n            this._updateMatches();\n          }\n\n          disable() {\n            if (!this.enabled) {\n              return;\n            }\n\n            this.enabled = false;\n\n            if (this._onUpdateTextLayerMatches) {\n              this.eventBus._off(\"updatetextlayermatches\", this._onUpdateTextLayerMatches);\n\n              this._onUpdateTextLayerMatches = null;\n            }\n          }\n\n          _convertMatches(matches, matchesLength) {\n            if (!matches) {\n              return [];\n            }\n\n            const {\n              textContentItemsStr\n            } = this;\n            let i = 0,\n                iIndex = 0;\n            const end = textContentItemsStr.length - 1;\n            const result = [];\n\n            for (let m = 0, mm = matches.length; m < mm; m++) {\n              let matchIdx = matches[m];\n\n              while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n                iIndex += textContentItemsStr[i].length;\n                i++;\n              }\n\n              if (i === textContentItemsStr.length) {\n                console.error(\"Could not find a matching mapping\");\n              }\n\n              const match = {\n                begin: {\n                  divIdx: i,\n                  offset: matchIdx - iIndex\n                }\n              };\n              matchIdx += matchesLength[m];\n\n              while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n                iIndex += textContentItemsStr[i].length;\n                i++;\n              }\n\n              match.end = {\n                divIdx: i,\n                offset: matchIdx - iIndex\n              };\n              result.push(match);\n            }\n\n            return result;\n          }\n\n          _renderMatches(matches) {\n            if (matches.length === 0) {\n              return;\n            }\n\n            const {\n              findController,\n              pageIdx\n            } = this;\n            const {\n              textContentItemsStr,\n              textDivs\n            } = this;\n            const isSelectedPage = pageIdx === findController.selected.pageIdx;\n            const selectedMatchIdx = findController.selected.matchIdx;\n            const highlightAll = findController.state.highlightAll;\n            let prevEnd = null;\n            const infinity = {\n              divIdx: -1,\n              offset: undefined\n            };\n\n            function beginText(begin, className) {\n              const divIdx = begin.divIdx;\n              textDivs[divIdx].textContent = \"\";\n              return appendTextToDiv(divIdx, 0, begin.offset, className);\n            }\n\n            function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n              let div = textDivs[divIdx];\n\n              if (div.nodeType === Node.TEXT_NODE) {\n                const span = document.createElement(\"span\");\n                div.before(span);\n                span.append(div);\n                textDivs[divIdx] = span;\n                div = span;\n              }\n\n              const content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n              const node = document.createTextNode(content);\n\n              if (className) {\n                const span = document.createElement(\"span\");\n                span.className = `${className} appended`;\n                span.append(node);\n                div.append(span);\n                return className.includes(\"selected\") ? span.offsetLeft : 0;\n              }\n\n              div.append(node);\n              return 0;\n            }\n\n            let i0 = selectedMatchIdx,\n                i1 = i0 + 1;\n\n            if (highlightAll) {\n              i0 = 0;\n              i1 = matches.length;\n            } else if (!isSelectedPage) {\n              return;\n            }\n\n            for (let i = i0; i < i1; i++) {\n              const match = matches[i];\n              const begin = match.begin;\n              const end = match.end;\n              const isSelected = isSelectedPage && i === selectedMatchIdx;\n              const highlightSuffix = isSelected ? \" selected\" : \"\";\n              let selectedLeft = 0;\n\n              if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n                if (prevEnd !== null) {\n                  appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n                }\n\n                beginText(begin);\n              } else {\n                appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n              }\n\n              if (begin.divIdx === end.divIdx) {\n                selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n              } else {\n                selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n\n                for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n                  textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n                }\n\n                beginText(end, \"highlight end\" + highlightSuffix);\n              }\n\n              prevEnd = end;\n\n              if (isSelected) {\n                findController.scrollMatchIntoView({\n                  element: textDivs[begin.divIdx],\n                  selectedLeft,\n                  pageIndex: pageIdx,\n                  matchIndex: selectedMatchIdx\n                });\n              }\n            }\n\n            if (prevEnd) {\n              appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n            }\n          }\n\n          _updateMatches() {\n            if (!this.enabled) {\n              return;\n            }\n\n            const {\n              findController,\n              matches,\n              pageIdx\n            } = this;\n            const {\n              textContentItemsStr,\n              textDivs\n            } = this;\n            let clearedUntilDivIdx = -1;\n\n            for (let i = 0, ii = matches.length; i < ii; i++) {\n              const match = matches[i];\n              const begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n\n              for (let n = begin, end = match.end.divIdx; n <= end; n++) {\n                const div = textDivs[n];\n                div.textContent = textContentItemsStr[n];\n                div.className = \"\";\n              }\n\n              clearedUntilDivIdx = match.end.divIdx + 1;\n            }\n\n            if (!findController?.highlightMatches) {\n              return;\n            }\n\n            const pageMatches = findController.pageMatches[pageIdx] || null;\n            const pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n            this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n\n            this._renderMatches(this.matches);\n          }\n\n        }\n\n        exports.TextHighlighter = TextHighlighter;\n        /***/\n      },\n      /* 18 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.DownloadManager = void 0;\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        ;\n\n        function download(blobUrl, filename) {\n          const a = document.createElement(\"a\");\n\n          if (!a.click) {\n            throw new Error('DownloadManager: \"a.click()\" is not supported.');\n          }\n\n          a.href = blobUrl;\n          a.target = \"_parent\";\n\n          if (\"download\" in a) {\n            a.download = filename;\n          }\n\n          (document.body || document.documentElement).append(a);\n          a.click();\n          a.remove();\n        }\n\n        class DownloadManager {\n          constructor() {\n            this._openBlobUrls = new WeakMap();\n          }\n\n          downloadUrl(url, filename) {\n            if (!(0, _pdfjsLib.createValidAbsoluteUrl)(url, \"http://example.com\")) {\n              console.error(`downloadUrl - not a valid URL: ${url}`);\n              return;\n            }\n\n            download(url + \"#pdfjs.action=download\", filename);\n          }\n\n          downloadData(data, filename, contentType) {\n            const blobUrl = URL.createObjectURL(new Blob([data], {\n              type: contentType\n            }));\n            download(blobUrl, filename);\n          }\n\n          openOrDownloadData(element, data, filename) {\n            const isPdfData = (0, _pdfjsLib.isPdfFile)(filename);\n            const contentType = isPdfData ? \"application/pdf\" : \"\";\n\n            if (isPdfData) {\n              let blobUrl = this._openBlobUrls.get(element);\n\n              if (!blobUrl) {\n                blobUrl = URL.createObjectURL(new Blob([data], {\n                  type: contentType\n                }));\n\n                this._openBlobUrls.set(element, blobUrl);\n              }\n\n              let viewerUrl;\n              viewerUrl = \"?file=\" + encodeURIComponent(blobUrl + \"#\" + filename);\n\n              try {\n                window.open(viewerUrl);\n                return true;\n              } catch (ex) {\n                console.error(`openOrDownloadData: ${ex}`);\n                URL.revokeObjectURL(blobUrl);\n\n                this._openBlobUrls.delete(element);\n              }\n            }\n\n            this.downloadData(data, filename, contentType);\n            return false;\n          }\n\n          download(blob, url, filename) {\n            const blobUrl = URL.createObjectURL(blob);\n            download(blobUrl, filename);\n          }\n\n        }\n\n        exports.DownloadManager = DownloadManager;\n        /***/\n      },\n      /* 19 */\n\n      /***/\n      (__unused_webpack_module, exports) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.WaitOnType = exports.EventBus = exports.AutomationEventBus = void 0;\n        exports.waitOnEventOrTimeout = waitOnEventOrTimeout;\n        const WaitOnType = {\n          EVENT: \"event\",\n          TIMEOUT: \"timeout\"\n        };\n        exports.WaitOnType = WaitOnType;\n\n        function waitOnEventOrTimeout({\n          target,\n          name,\n          delay = 0\n        }) {\n          return new Promise(function (resolve, reject) {\n            if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n              throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n            }\n\n            function handler(type) {\n              if (target instanceof EventBus) {\n                target._off(name, eventHandler);\n              } else {\n                target.removeEventListener(name, eventHandler);\n              }\n\n              if (timeout) {\n                clearTimeout(timeout);\n              }\n\n              resolve(type);\n            }\n\n            const eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n            if (target instanceof EventBus) {\n              target._on(name, eventHandler);\n            } else {\n              target.addEventListener(name, eventHandler);\n            }\n\n            const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n            const timeout = setTimeout(timeoutHandler, delay);\n          });\n        }\n\n        class EventBus {\n          constructor() {\n            this._listeners = Object.create(null);\n          }\n\n          on(eventName, listener, options = null) {\n            this._on(eventName, listener, {\n              external: true,\n              once: options?.once\n            });\n          }\n\n          off(eventName, listener, options = null) {\n            this._off(eventName, listener, {\n              external: true,\n              once: options?.once\n            });\n          }\n\n          dispatch(eventName, data) {\n            const eventListeners = this._listeners[eventName];\n\n            if (!eventListeners || eventListeners.length === 0) {\n              return;\n            }\n\n            let externalListeners;\n\n            for (const {\n              listener,\n              external,\n              once\n            } of eventListeners.slice(0)) {\n              if (once) {\n                this._off(eventName, listener);\n              }\n\n              if (external) {\n                (externalListeners ||= []).push(listener);\n                continue;\n              }\n\n              listener(data);\n            }\n\n            if (externalListeners) {\n              for (const listener of externalListeners) {\n                listener(data);\n              }\n\n              externalListeners = null;\n            }\n          }\n\n          _on(eventName, listener, options = null) {\n            const eventListeners = this._listeners[eventName] ||= [];\n            eventListeners.push({\n              listener,\n              external: options?.external === true,\n              once: options?.once === true\n            });\n          }\n\n          _off(eventName, listener, options = null) {\n            const eventListeners = this._listeners[eventName];\n\n            if (!eventListeners) {\n              return;\n            }\n\n            for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n              if (eventListeners[i].listener === listener) {\n                eventListeners.splice(i, 1);\n                return;\n              }\n            }\n          }\n\n        }\n\n        exports.EventBus = EventBus;\n\n        class AutomationEventBus extends EventBus {\n          dispatch(eventName, data) {\n            throw new Error(\"Not implemented: AutomationEventBus.dispatch\");\n          }\n\n        }\n\n        exports.AutomationEventBus = AutomationEventBus;\n        /***/\n      },\n      /* 20 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.GenericL10n = void 0;\n\n        __w_pdfjs_require__(21);\n\n        var _l10n_utils = __w_pdfjs_require__(4);\n\n        const webL10n = document.webL10n;\n\n        class GenericL10n {\n          constructor(lang) {\n            this._lang = lang;\n            this._ready = new Promise((resolve, reject) => {\n              webL10n.setLanguage((0, _l10n_utils.fixupLangCode)(lang), () => {\n                resolve(webL10n);\n              });\n            });\n          }\n\n          getLanguage() {\n            var _this11 = this;\n\n            return _asyncToGenerator(function* () {\n              const l10n = yield _this11._ready;\n              return l10n.getLanguage();\n            })();\n          }\n\n          getDirection() {\n            var _this12 = this;\n\n            return _asyncToGenerator(function* () {\n              const l10n = yield _this12._ready;\n              return l10n.getDirection();\n            })();\n          }\n\n          get(key, args = null, fallback = (0, _l10n_utils.getL10nFallback)(key, args)) {\n            var _this13 = this;\n\n            return _asyncToGenerator(function* () {\n              const l10n = yield _this13._ready;\n              return l10n.get(key, args, fallback);\n            })();\n          }\n\n          translate(element) {\n            var _this14 = this;\n\n            return _asyncToGenerator(function* () {\n              const l10n = yield _this14._ready;\n              return l10n.translate(element);\n            })();\n          }\n\n        }\n\n        exports.GenericL10n = GenericL10n;\n        /***/\n      },\n      /* 21 */\n\n      /***/\n      () => {\n        document.webL10n = function (window, document, undefined) {\n          var gL10nData = {};\n          var gTextData = '';\n          var gTextProp = 'textContent';\n          var gLanguage = '';\n          var gMacros = {};\n          var gReadyState = 'loading';\n          var gAsyncResourceLoading = true;\n\n          function getL10nResourceLinks() {\n            return document.querySelectorAll('link[type=\"application/l10n\"]');\n          }\n\n          function getL10nDictionary() {\n            var script = document.querySelector('script[type=\"application/l10n\"]');\n            return script ? JSON.parse(script.innerHTML) : null;\n          }\n\n          function getTranslatableChildren(element) {\n            return element ? element.querySelectorAll('*[data-l10n-id]') : [];\n          }\n\n          function getL10nAttributes(element) {\n            if (!element) return {};\n            var l10nId = element.getAttribute('data-l10n-id');\n            var l10nArgs = element.getAttribute('data-l10n-args');\n            var args = {};\n\n            if (l10nArgs) {\n              try {\n                args = JSON.parse(l10nArgs);\n              } catch (e) {\n                console.warn('could not parse arguments for #' + l10nId);\n              }\n            }\n\n            return {\n              id: l10nId,\n              args: args\n            };\n          }\n\n          function xhrLoadText(url, onSuccess, onFailure) {\n            onSuccess = onSuccess || function _onSuccess(data) {};\n\n            onFailure = onFailure || function _onFailure() {};\n\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url, gAsyncResourceLoading);\n\n            if (xhr.overrideMimeType) {\n              xhr.overrideMimeType('text/plain; charset=utf-8');\n            }\n\n            xhr.onreadystatechange = function () {\n              if (xhr.readyState == 4) {\n                if (xhr.status == 200 || xhr.status === 0) {\n                  onSuccess(xhr.responseText);\n                } else {\n                  onFailure();\n                }\n              }\n            };\n\n            xhr.onerror = onFailure;\n            xhr.ontimeout = onFailure;\n\n            try {\n              xhr.send(null);\n            } catch (e) {\n              onFailure();\n            }\n          }\n\n          function parseResource(href, lang, successCallback, failureCallback) {\n            var baseURL = href.replace(/[^\\/]*$/, '') || './';\n\n            function evalString(text) {\n              if (text.lastIndexOf('\\\\') < 0) return text;\n              return text.replace(/\\\\\\\\/g, '\\\\').replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r').replace(/\\\\t/g, '\\t').replace(/\\\\b/g, '\\b').replace(/\\\\f/g, '\\f').replace(/\\\\{/g, '{').replace(/\\\\}/g, '}').replace(/\\\\\"/g, '\"').replace(/\\\\'/g, \"'\");\n            }\n\n            function parseProperties(text, parsedPropertiesCallback) {\n              var dictionary = {};\n              var reBlank = /^\\s*|\\s*$/;\n              var reComment = /^\\s*#|^\\s*$/;\n              var reSection = /^\\s*\\[(.*)\\]\\s*$/;\n              var reImport = /^\\s*@import\\s+url\\((.*)\\)\\s*$/i;\n              var reSplit = /^([^=\\s]*)\\s*=\\s*(.+)$/;\n\n              function parseRawLines(rawText, extendedSyntax, parsedRawLinesCallback) {\n                var entries = rawText.replace(reBlank, '').split(/[\\r\\n]+/);\n                var currentLang = '*';\n                var genericLang = lang.split('-', 1)[0];\n                var skipLang = false;\n                var match = '';\n\n                function nextEntry() {\n                  while (true) {\n                    if (!entries.length) {\n                      parsedRawLinesCallback();\n                      return;\n                    }\n\n                    var line = entries.shift();\n                    if (reComment.test(line)) continue;\n\n                    if (extendedSyntax) {\n                      match = reSection.exec(line);\n\n                      if (match) {\n                        currentLang = match[1].toLowerCase();\n                        skipLang = currentLang !== '*' && currentLang !== lang && currentLang !== genericLang;\n                        continue;\n                      } else if (skipLang) {\n                        continue;\n                      }\n\n                      match = reImport.exec(line);\n\n                      if (match) {\n                        loadImport(baseURL + match[1], nextEntry);\n                        return;\n                      }\n                    }\n\n                    var tmp = line.match(reSplit);\n\n                    if (tmp && tmp.length == 3) {\n                      dictionary[tmp[1]] = evalString(tmp[2]);\n                    }\n                  }\n                }\n\n                nextEntry();\n              }\n\n              function loadImport(url, callback) {\n                xhrLoadText(url, function (content) {\n                  parseRawLines(content, false, callback);\n                }, function () {\n                  console.warn(url + ' not found.');\n                  callback();\n                });\n              }\n\n              parseRawLines(text, true, function () {\n                parsedPropertiesCallback(dictionary);\n              });\n            }\n\n            xhrLoadText(href, function (response) {\n              gTextData += response;\n              parseProperties(response, function (data) {\n                for (var key in data) {\n                  var id,\n                      prop,\n                      index = key.lastIndexOf('.');\n\n                  if (index > 0) {\n                    id = key.substring(0, index);\n                    prop = key.substring(index + 1);\n                  } else {\n                    id = key;\n                    prop = gTextProp;\n                  }\n\n                  if (!gL10nData[id]) {\n                    gL10nData[id] = {};\n                  }\n\n                  gL10nData[id][prop] = data[key];\n                }\n\n                if (successCallback) {\n                  successCallback();\n                }\n              });\n            }, failureCallback);\n          }\n\n          function loadLocale(lang, callback) {\n            if (lang) {\n              lang = lang.toLowerCase();\n            }\n\n            callback = callback || function _callback() {};\n\n            clear();\n            gLanguage = lang;\n            var langLinks = getL10nResourceLinks();\n            var langCount = langLinks.length;\n\n            if (langCount === 0) {\n              var dict = getL10nDictionary();\n\n              if (dict && dict.locales && dict.default_locale) {\n                console.log('using the embedded JSON directory, early way out');\n                gL10nData = dict.locales[lang];\n\n                if (!gL10nData) {\n                  var defaultLocale = dict.default_locale.toLowerCase();\n\n                  for (var anyCaseLang in dict.locales) {\n                    anyCaseLang = anyCaseLang.toLowerCase();\n\n                    if (anyCaseLang === lang) {\n                      gL10nData = dict.locales[lang];\n                      break;\n                    } else if (anyCaseLang === defaultLocale) {\n                      gL10nData = dict.locales[defaultLocale];\n                    }\n                  }\n                }\n\n                callback();\n              } else {\n                console.log('no resource to load, early way out');\n              }\n\n              gReadyState = 'complete';\n              return;\n            }\n\n            var onResourceLoaded = null;\n            var gResourceCount = 0;\n\n            onResourceLoaded = function () {\n              gResourceCount++;\n\n              if (gResourceCount >= langCount) {\n                callback();\n                gReadyState = 'complete';\n              }\n            };\n\n            function L10nResourceLink(link) {\n              var href = link.href;\n\n              this.load = function (lang, callback) {\n                parseResource(href, lang, callback, function () {\n                  console.warn(href + ' not found.');\n                  console.warn('\"' + lang + '\" resource not found');\n                  gLanguage = '';\n                  callback();\n                });\n              };\n            }\n\n            for (var i = 0; i < langCount; i++) {\n              var resource = new L10nResourceLink(langLinks[i]);\n              resource.load(lang, onResourceLoaded);\n            }\n          }\n\n          function clear() {\n            gL10nData = {};\n            gTextData = '';\n            gLanguage = '';\n          }\n\n          function getPluralRules(lang) {\n            var locales2rules = {\n              'af': 3,\n              'ak': 4,\n              'am': 4,\n              'ar': 1,\n              'asa': 3,\n              'az': 0,\n              'be': 11,\n              'bem': 3,\n              'bez': 3,\n              'bg': 3,\n              'bh': 4,\n              'bm': 0,\n              'bn': 3,\n              'bo': 0,\n              'br': 20,\n              'brx': 3,\n              'bs': 11,\n              'ca': 3,\n              'cgg': 3,\n              'chr': 3,\n              'cs': 12,\n              'cy': 17,\n              'da': 3,\n              'de': 3,\n              'dv': 3,\n              'dz': 0,\n              'ee': 3,\n              'el': 3,\n              'en': 3,\n              'eo': 3,\n              'es': 3,\n              'et': 3,\n              'eu': 3,\n              'fa': 0,\n              'ff': 5,\n              'fi': 3,\n              'fil': 4,\n              'fo': 3,\n              'fr': 5,\n              'fur': 3,\n              'fy': 3,\n              'ga': 8,\n              'gd': 24,\n              'gl': 3,\n              'gsw': 3,\n              'gu': 3,\n              'guw': 4,\n              'gv': 23,\n              'ha': 3,\n              'haw': 3,\n              'he': 2,\n              'hi': 4,\n              'hr': 11,\n              'hu': 0,\n              'id': 0,\n              'ig': 0,\n              'ii': 0,\n              'is': 3,\n              'it': 3,\n              'iu': 7,\n              'ja': 0,\n              'jmc': 3,\n              'jv': 0,\n              'ka': 0,\n              'kab': 5,\n              'kaj': 3,\n              'kcg': 3,\n              'kde': 0,\n              'kea': 0,\n              'kk': 3,\n              'kl': 3,\n              'km': 0,\n              'kn': 0,\n              'ko': 0,\n              'ksb': 3,\n              'ksh': 21,\n              'ku': 3,\n              'kw': 7,\n              'lag': 18,\n              'lb': 3,\n              'lg': 3,\n              'ln': 4,\n              'lo': 0,\n              'lt': 10,\n              'lv': 6,\n              'mas': 3,\n              'mg': 4,\n              'mk': 16,\n              'ml': 3,\n              'mn': 3,\n              'mo': 9,\n              'mr': 3,\n              'ms': 0,\n              'mt': 15,\n              'my': 0,\n              'nah': 3,\n              'naq': 7,\n              'nb': 3,\n              'nd': 3,\n              'ne': 3,\n              'nl': 3,\n              'nn': 3,\n              'no': 3,\n              'nr': 3,\n              'nso': 4,\n              'ny': 3,\n              'nyn': 3,\n              'om': 3,\n              'or': 3,\n              'pa': 3,\n              'pap': 3,\n              'pl': 13,\n              'ps': 3,\n              'pt': 3,\n              'rm': 3,\n              'ro': 9,\n              'rof': 3,\n              'ru': 11,\n              'rwk': 3,\n              'sah': 0,\n              'saq': 3,\n              'se': 7,\n              'seh': 3,\n              'ses': 0,\n              'sg': 0,\n              'sh': 11,\n              'shi': 19,\n              'sk': 12,\n              'sl': 14,\n              'sma': 7,\n              'smi': 7,\n              'smj': 7,\n              'smn': 7,\n              'sms': 7,\n              'sn': 3,\n              'so': 3,\n              'sq': 3,\n              'sr': 11,\n              'ss': 3,\n              'ssy': 3,\n              'st': 3,\n              'sv': 3,\n              'sw': 3,\n              'syr': 3,\n              'ta': 3,\n              'te': 3,\n              'teo': 3,\n              'th': 0,\n              'ti': 4,\n              'tig': 3,\n              'tk': 3,\n              'tl': 4,\n              'tn': 3,\n              'to': 0,\n              'tr': 0,\n              'ts': 3,\n              'tzm': 22,\n              'uk': 11,\n              'ur': 3,\n              've': 3,\n              'vi': 0,\n              'vun': 3,\n              'wa': 4,\n              'wae': 3,\n              'wo': 0,\n              'xh': 3,\n              'xog': 3,\n              'yo': 0,\n              'zh': 0,\n              'zu': 3\n            };\n\n            function isIn(n, list) {\n              return list.indexOf(n) !== -1;\n            }\n\n            function isBetween(n, start, end) {\n              return start <= n && n <= end;\n            }\n\n            var pluralRules = {\n              '0': function (n) {\n                return 'other';\n              },\n              '1': function (n) {\n                if (isBetween(n % 100, 3, 10)) return 'few';\n                if (n === 0) return 'zero';\n                if (isBetween(n % 100, 11, 99)) return 'many';\n                if (n == 2) return 'two';\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '2': function (n) {\n                if (n !== 0 && n % 10 === 0) return 'many';\n                if (n == 2) return 'two';\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '3': function (n) {\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '4': function (n) {\n                if (isBetween(n, 0, 1)) return 'one';\n                return 'other';\n              },\n              '5': function (n) {\n                if (isBetween(n, 0, 2) && n != 2) return 'one';\n                return 'other';\n              },\n              '6': function (n) {\n                if (n === 0) return 'zero';\n                if (n % 10 == 1 && n % 100 != 11) return 'one';\n                return 'other';\n              },\n              '7': function (n) {\n                if (n == 2) return 'two';\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '8': function (n) {\n                if (isBetween(n, 3, 6)) return 'few';\n                if (isBetween(n, 7, 10)) return 'many';\n                if (n == 2) return 'two';\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '9': function (n) {\n                if (n === 0 || n != 1 && isBetween(n % 100, 1, 19)) return 'few';\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '10': function (n) {\n                if (isBetween(n % 10, 2, 9) && !isBetween(n % 100, 11, 19)) return 'few';\n                if (n % 10 == 1 && !isBetween(n % 100, 11, 19)) return 'one';\n                return 'other';\n              },\n              '11': function (n) {\n                if (isBetween(n % 10, 2, 4) && !isBetween(n % 100, 12, 14)) return 'few';\n                if (n % 10 === 0 || isBetween(n % 10, 5, 9) || isBetween(n % 100, 11, 14)) return 'many';\n                if (n % 10 == 1 && n % 100 != 11) return 'one';\n                return 'other';\n              },\n              '12': function (n) {\n                if (isBetween(n, 2, 4)) return 'few';\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '13': function (n) {\n                if (isBetween(n % 10, 2, 4) && !isBetween(n % 100, 12, 14)) return 'few';\n                if (n != 1 && isBetween(n % 10, 0, 1) || isBetween(n % 10, 5, 9) || isBetween(n % 100, 12, 14)) return 'many';\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '14': function (n) {\n                if (isBetween(n % 100, 3, 4)) return 'few';\n                if (n % 100 == 2) return 'two';\n                if (n % 100 == 1) return 'one';\n                return 'other';\n              },\n              '15': function (n) {\n                if (n === 0 || isBetween(n % 100, 2, 10)) return 'few';\n                if (isBetween(n % 100, 11, 19)) return 'many';\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '16': function (n) {\n                if (n % 10 == 1 && n != 11) return 'one';\n                return 'other';\n              },\n              '17': function (n) {\n                if (n == 3) return 'few';\n                if (n === 0) return 'zero';\n                if (n == 6) return 'many';\n                if (n == 2) return 'two';\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '18': function (n) {\n                if (n === 0) return 'zero';\n                if (isBetween(n, 0, 2) && n !== 0 && n != 2) return 'one';\n                return 'other';\n              },\n              '19': function (n) {\n                if (isBetween(n, 2, 10)) return 'few';\n                if (isBetween(n, 0, 1)) return 'one';\n                return 'other';\n              },\n              '20': function (n) {\n                if ((isBetween(n % 10, 3, 4) || n % 10 == 9) && !(isBetween(n % 100, 10, 19) || isBetween(n % 100, 70, 79) || isBetween(n % 100, 90, 99))) return 'few';\n                if (n % 1000000 === 0 && n !== 0) return 'many';\n                if (n % 10 == 2 && !isIn(n % 100, [12, 72, 92])) return 'two';\n                if (n % 10 == 1 && !isIn(n % 100, [11, 71, 91])) return 'one';\n                return 'other';\n              },\n              '21': function (n) {\n                if (n === 0) return 'zero';\n                if (n == 1) return 'one';\n                return 'other';\n              },\n              '22': function (n) {\n                if (isBetween(n, 0, 1) || isBetween(n, 11, 99)) return 'one';\n                return 'other';\n              },\n              '23': function (n) {\n                if (isBetween(n % 10, 1, 2) || n % 20 === 0) return 'one';\n                return 'other';\n              },\n              '24': function (n) {\n                if (isBetween(n, 3, 10) || isBetween(n, 13, 19)) return 'few';\n                if (isIn(n, [2, 12])) return 'two';\n                if (isIn(n, [1, 11])) return 'one';\n                return 'other';\n              }\n            };\n            var index = locales2rules[lang.replace(/-.*$/, '')];\n\n            if (!(index in pluralRules)) {\n              console.warn('plural form unknown for [' + lang + ']');\n              return function () {\n                return 'other';\n              };\n            }\n\n            return pluralRules[index];\n          }\n\n          gMacros.plural = function (str, param, key, prop) {\n            var n = parseFloat(param);\n            if (isNaN(n)) return str;\n            if (prop != gTextProp) return str;\n\n            if (!gMacros._pluralRules) {\n              gMacros._pluralRules = getPluralRules(gLanguage);\n            }\n\n            var index = '[' + gMacros._pluralRules(n) + ']';\n\n            if (n === 0 && key + '[zero]' in gL10nData) {\n              str = gL10nData[key + '[zero]'][prop];\n            } else if (n == 1 && key + '[one]' in gL10nData) {\n              str = gL10nData[key + '[one]'][prop];\n            } else if (n == 2 && key + '[two]' in gL10nData) {\n              str = gL10nData[key + '[two]'][prop];\n            } else if (key + index in gL10nData) {\n              str = gL10nData[key + index][prop];\n            } else if (key + '[other]' in gL10nData) {\n              str = gL10nData[key + '[other]'][prop];\n            }\n\n            return str;\n          };\n\n          function getL10nData(key, args, fallback) {\n            var data = gL10nData[key];\n\n            if (!data) {\n              console.warn('#' + key + ' is undefined.');\n\n              if (!fallback) {\n                return null;\n              }\n\n              data = fallback;\n            }\n\n            var rv = {};\n\n            for (var prop in data) {\n              var str = data[prop];\n              str = substIndexes(str, args, key, prop);\n              str = substArguments(str, args, key);\n              rv[prop] = str;\n            }\n\n            return rv;\n          }\n\n          function substIndexes(str, args, key, prop) {\n            var reIndex = /\\{\\[\\s*([a-zA-Z]+)\\(([a-zA-Z]+)\\)\\s*\\]\\}/;\n            var reMatch = reIndex.exec(str);\n            if (!reMatch || !reMatch.length) return str;\n            var macroName = reMatch[1];\n            var paramName = reMatch[2];\n            var param;\n\n            if (args && paramName in args) {\n              param = args[paramName];\n            } else if (paramName in gL10nData) {\n              param = gL10nData[paramName];\n            }\n\n            if (macroName in gMacros) {\n              var macro = gMacros[macroName];\n              str = macro(str, param, key, prop);\n            }\n\n            return str;\n          }\n\n          function substArguments(str, args, key) {\n            var reArgs = /\\{\\{\\s*(.+?)\\s*\\}\\}/g;\n            return str.replace(reArgs, function (matched_text, arg) {\n              if (args && arg in args) {\n                return args[arg];\n              }\n\n              if (arg in gL10nData) {\n                return gL10nData[arg];\n              }\n\n              console.log('argument {{' + arg + '}} for #' + key + ' is undefined.');\n              return matched_text;\n            });\n          }\n\n          function translateElement(element) {\n            var l10n = getL10nAttributes(element);\n            if (!l10n.id) return;\n            var data = getL10nData(l10n.id, l10n.args);\n\n            if (!data) {\n              console.warn('#' + l10n.id + ' is undefined.');\n              return;\n            }\n\n            if (data[gTextProp]) {\n              if (getChildElementCount(element) === 0) {\n                element[gTextProp] = data[gTextProp];\n              } else {\n                var children = element.childNodes;\n                var found = false;\n\n                for (var i = 0, l = children.length; i < l; i++) {\n                  if (children[i].nodeType === 3 && /\\S/.test(children[i].nodeValue)) {\n                    if (found) {\n                      children[i].nodeValue = '';\n                    } else {\n                      children[i].nodeValue = data[gTextProp];\n                      found = true;\n                    }\n                  }\n                }\n\n                if (!found) {\n                  var textNode = document.createTextNode(data[gTextProp]);\n                  element.prepend(textNode);\n                }\n              }\n\n              delete data[gTextProp];\n            }\n\n            for (var k in data) {\n              element[k] = data[k];\n            }\n          }\n\n          function getChildElementCount(element) {\n            if (element.children) {\n              return element.children.length;\n            }\n\n            if (typeof element.childElementCount !== 'undefined') {\n              return element.childElementCount;\n            }\n\n            var count = 0;\n\n            for (var i = 0; i < element.childNodes.length; i++) {\n              count += element.nodeType === 1 ? 1 : 0;\n            }\n\n            return count;\n          }\n\n          function translateFragment(element) {\n            element = element || document.documentElement;\n            var children = getTranslatableChildren(element);\n            var elementCount = children.length;\n\n            for (var i = 0; i < elementCount; i++) {\n              translateElement(children[i]);\n            }\n\n            translateElement(element);\n          }\n\n          return {\n            get: function (key, args, fallbackString) {\n              var index = key.lastIndexOf('.');\n              var prop = gTextProp;\n\n              if (index > 0) {\n                prop = key.substring(index + 1);\n                key = key.substring(0, index);\n              }\n\n              var fallback;\n\n              if (fallbackString) {\n                fallback = {};\n                fallback[prop] = fallbackString;\n              }\n\n              var data = getL10nData(key, args, fallback);\n\n              if (data && prop in data) {\n                return data[prop];\n              }\n\n              return '{{' + key + '}}';\n            },\n            getData: function () {\n              return gL10nData;\n            },\n            getText: function () {\n              return gTextData;\n            },\n            getLanguage: function () {\n              return gLanguage;\n            },\n            setLanguage: function (lang, callback) {\n              loadLocale(lang, function () {\n                if (callback) callback();\n              });\n            },\n            getDirection: function () {\n              var rtlList = ['ar', 'he', 'fa', 'ps', 'ur'];\n              var shortCode = gLanguage.split('-', 1)[0];\n              return rtlList.indexOf(shortCode) >= 0 ? 'rtl' : 'ltr';\n            },\n            translate: translateFragment,\n            getReadyState: function () {\n              return gReadyState;\n            },\n            ready: function (callback) {\n              if (!callback) {\n                return;\n              } else if (gReadyState == 'complete' || gReadyState == 'interactive') {\n                window.setTimeout(function () {\n                  callback();\n                });\n              } else if (document.addEventListener) {\n                document.addEventListener('localized', function once() {\n                  document.removeEventListener('localized', once);\n                  callback();\n                });\n              }\n            }\n          };\n        }(window, document);\n        /***/\n\n      },\n      /* 22 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.PDFFindController = exports.FindState = void 0;\n\n        var _ui_utils = __w_pdfjs_require__(7);\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        var _pdf_find_utils = __w_pdfjs_require__(23);\n\n        const FindState = {\n          FOUND: 0,\n          NOT_FOUND: 1,\n          WRAPPED: 2,\n          PENDING: 3\n        };\n        exports.FindState = FindState;\n        const FIND_TIMEOUT = 250;\n        const MATCH_SCROLL_OFFSET_TOP = -50;\n        const MATCH_SCROLL_OFFSET_LEFT = -400;\n        const CHARACTERS_TO_NORMALIZE = {\n          \"\\u2010\": \"-\",\n          \"\\u2018\": \"'\",\n          \"\\u2019\": \"'\",\n          \"\\u201A\": \"'\",\n          \"\\u201B\": \"'\",\n          \"\\u201C\": '\"',\n          \"\\u201D\": '\"',\n          \"\\u201E\": '\"',\n          \"\\u201F\": '\"',\n          \"\\u00BC\": \"1/4\",\n          \"\\u00BD\": \"1/2\",\n          \"\\u00BE\": \"3/4\"\n        };\n        const DIACRITICS_EXCEPTION = new Set([0x3099, 0x309a, 0x094d, 0x09cd, 0x0a4d, 0x0acd, 0x0b4d, 0x0bcd, 0x0c4d, 0x0ccd, 0x0d3b, 0x0d3c, 0x0d4d, 0x0dca, 0x0e3a, 0x0eba, 0x0f84, 0x1039, 0x103a, 0x1714, 0x1734, 0x17d2, 0x1a60, 0x1b44, 0x1baa, 0x1bab, 0x1bf2, 0x1bf3, 0x2d7f, 0xa806, 0xa82c, 0xa8c4, 0xa953, 0xa9c0, 0xaaf6, 0xabed, 0x0c56, 0x0f71, 0x0f72, 0x0f7a, 0x0f7b, 0x0f7c, 0x0f7d, 0x0f80, 0x0f74]);\n        const DIACRITICS_EXCEPTION_STR = [...DIACRITICS_EXCEPTION.values()].map(x => String.fromCharCode(x)).join(\"\");\n        const DIACRITICS_REG_EXP = /\\p{M}+/gu;\n        const SPECIAL_CHARS_REG_EXP = /([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})/gu;\n        const NOT_DIACRITIC_FROM_END_REG_EXP = /([^\\p{M}])\\p{M}*$/u;\n        const NOT_DIACRITIC_FROM_START_REG_EXP = /^\\p{M}*([^\\p{M}])/u;\n        const SYLLABLES_REG_EXP = /[\\uAC00-\\uD7AF\\uFA6C\\uFACF-\\uFAD1\\uFAD5-\\uFAD7]+/g;\n        const SYLLABLES_LENGTHS = new Map();\n        const FIRST_CHAR_SYLLABLES_REG_EXP = \"[\\\\u1100-\\\\u1112\\\\ud7a4-\\\\ud7af\\\\ud84a\\\\ud84c\\\\ud850\\\\ud854\\\\ud857\\\\ud85f]\";\n        let noSyllablesRegExp = null;\n        let withSyllablesRegExp = null;\n\n        function normalize(text) {\n          const syllablePositions = [];\n          let m;\n\n          while ((m = SYLLABLES_REG_EXP.exec(text)) !== null) {\n            let {\n              index\n            } = m;\n\n            for (const char of m[0]) {\n              let len = SYLLABLES_LENGTHS.get(char);\n\n              if (!len) {\n                len = char.normalize(\"NFD\").length;\n                SYLLABLES_LENGTHS.set(char, len);\n              }\n\n              syllablePositions.push([len, index++]);\n            }\n          }\n\n          let normalizationRegex;\n\n          if (syllablePositions.length === 0 && noSyllablesRegExp) {\n            normalizationRegex = noSyllablesRegExp;\n          } else if (syllablePositions.length > 0 && withSyllablesRegExp) {\n            normalizationRegex = withSyllablesRegExp;\n          } else {\n            const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n            const regexp = `([${replace}])|(\\\\p{M}+(?:-\\\\n)?)|(\\\\S-\\\\n)|(\\\\n)`;\n\n            if (syllablePositions.length === 0) {\n              normalizationRegex = noSyllablesRegExp = new RegExp(regexp + \"|(\\\\u0000)\", \"gum\");\n            } else {\n              normalizationRegex = withSyllablesRegExp = new RegExp(regexp + `|(${FIRST_CHAR_SYLLABLES_REG_EXP})`, \"gum\");\n            }\n          }\n\n          const rawDiacriticsPositions = [];\n\n          while ((m = DIACRITICS_REG_EXP.exec(text)) !== null) {\n            rawDiacriticsPositions.push([m[0].length, m.index]);\n          }\n\n          let normalized = text.normalize(\"NFD\");\n          const positions = [[0, 0]];\n          let rawDiacriticsIndex = 0;\n          let syllableIndex = 0;\n          let shift = 0;\n          let shiftOrigin = 0;\n          let eol = 0;\n          let hasDiacritics = false;\n          normalized = normalized.replace(normalizationRegex, (match, p1, p2, p3, p4, p5, i) => {\n            i -= shiftOrigin;\n\n            if (p1) {\n              const replacement = CHARACTERS_TO_NORMALIZE[match];\n              const jj = replacement.length;\n\n              for (let j = 1; j < jj; j++) {\n                positions.push([i - shift + j, shift - j]);\n              }\n\n              shift -= jj - 1;\n              return replacement;\n            }\n\n            if (p2) {\n              const hasTrailingDashEOL = p2.endsWith(\"\\n\");\n              const len = hasTrailingDashEOL ? p2.length - 2 : p2.length;\n              hasDiacritics = true;\n              let jj = len;\n\n              if (i + eol === rawDiacriticsPositions[rawDiacriticsIndex]?.[1]) {\n                jj -= rawDiacriticsPositions[rawDiacriticsIndex][0];\n                ++rawDiacriticsIndex;\n              }\n\n              for (let j = 1; j <= jj; j++) {\n                positions.push([i - 1 - shift + j, shift - j]);\n              }\n\n              shift -= jj;\n              shiftOrigin += jj;\n\n              if (hasTrailingDashEOL) {\n                i += len - 1;\n                positions.push([i - shift + 1, 1 + shift]);\n                shift += 1;\n                shiftOrigin += 1;\n                eol += 1;\n                return p2.slice(0, len);\n              }\n\n              return p2;\n            }\n\n            if (p3) {\n              positions.push([i - shift + 1, 1 + shift]);\n              shift += 1;\n              shiftOrigin += 1;\n              eol += 1;\n              return p3.charAt(0);\n            }\n\n            if (p4) {\n              positions.push([i - shift + 1, shift - 1]);\n              shift -= 1;\n              shiftOrigin += 1;\n              eol += 1;\n              return \" \";\n            }\n\n            if (i + eol === syllablePositions[syllableIndex]?.[1]) {\n              const newCharLen = syllablePositions[syllableIndex][0] - 1;\n              ++syllableIndex;\n\n              for (let j = 1; j <= newCharLen; j++) {\n                positions.push([i - (shift - j), shift - j]);\n              }\n\n              shift -= newCharLen;\n              shiftOrigin += newCharLen;\n            }\n\n            return p5;\n          });\n          positions.push([normalized.length, shift]);\n          return [normalized, positions, hasDiacritics];\n        }\n\n        function getOriginalIndex(diffs, pos, len) {\n          if (!diffs) {\n            return [pos, len];\n          }\n\n          const start = pos;\n          const end = pos + len;\n          let i = (0, _ui_utils.binarySearchFirstItem)(diffs, x => x[0] >= start);\n\n          if (diffs[i][0] > start) {\n            --i;\n          }\n\n          let j = (0, _ui_utils.binarySearchFirstItem)(diffs, x => x[0] >= end, i);\n\n          if (diffs[j][0] > end) {\n            --j;\n          }\n\n          return [start + diffs[i][1], len + diffs[j][1] - diffs[i][1]];\n        }\n\n        class PDFFindController {\n          constructor({\n            linkService,\n            eventBus\n          }) {\n            this._linkService = linkService;\n            this._eventBus = eventBus;\n            this.#reset();\n\n            eventBus._on(\"find\", this.#onFind.bind(this));\n\n            eventBus._on(\"findbarclose\", this.#onFindBarClose.bind(this));\n          }\n\n          get highlightMatches() {\n            return this._highlightMatches;\n          }\n\n          get pageMatches() {\n            return this._pageMatches;\n          }\n\n          get pageMatchesLength() {\n            return this._pageMatchesLength;\n          }\n\n          get selected() {\n            return this._selected;\n          }\n\n          get state() {\n            return this._state;\n          }\n\n          setDocument(pdfDocument) {\n            if (this._pdfDocument) {\n              this.#reset();\n            }\n\n            if (!pdfDocument) {\n              return;\n            }\n\n            this._pdfDocument = pdfDocument;\n\n            this._firstPageCapability.resolve();\n          }\n\n          #onFind(state) {\n            if (!state) {\n              return;\n            }\n\n            const pdfDocument = this._pdfDocument;\n            const {\n              type\n            } = state;\n\n            if (this._state === null || this.#shouldDirtyMatch(state)) {\n              this._dirtyMatch = true;\n            }\n\n            this._state = state;\n\n            if (type !== \"highlightallchange\") {\n              this.#updateUIState(FindState.PENDING);\n            }\n\n            this._firstPageCapability.promise.then(() => {\n              if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n                return;\n              }\n\n              this.#extractText();\n              const findbarClosed = !this._highlightMatches;\n              const pendingTimeout = !!this._findTimeout;\n\n              if (this._findTimeout) {\n                clearTimeout(this._findTimeout);\n                this._findTimeout = null;\n              }\n\n              if (!type) {\n                this._findTimeout = setTimeout(() => {\n                  this.#nextMatch();\n                  this._findTimeout = null;\n                }, FIND_TIMEOUT);\n              } else if (this._dirtyMatch) {\n                this.#nextMatch();\n              } else if (type === \"again\") {\n                this.#nextMatch();\n\n                if (findbarClosed && this._state.highlightAll) {\n                  this.#updateAllPages();\n                }\n              } else if (type === \"highlightallchange\") {\n                if (pendingTimeout) {\n                  this.#nextMatch();\n                } else {\n                  this._highlightMatches = true;\n                }\n\n                this.#updateAllPages();\n              } else {\n                this.#nextMatch();\n              }\n            });\n          }\n\n          scrollMatchIntoView({\n            element = null,\n            selectedLeft = 0,\n            pageIndex = -1,\n            matchIndex = -1\n          }) {\n            if (!this._scrollMatches || !element) {\n              return;\n            } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n              return;\n            } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n              return;\n            }\n\n            this._scrollMatches = false;\n            const spot = {\n              top: MATCH_SCROLL_OFFSET_TOP,\n              left: selectedLeft + MATCH_SCROLL_OFFSET_LEFT\n            };\n            (0, _ui_utils.scrollIntoView)(element, spot, true);\n          }\n\n          #reset() {\n            this._highlightMatches = false;\n            this._scrollMatches = false;\n            this._pdfDocument = null;\n            this._pageMatches = [];\n            this._pageMatchesLength = [];\n            this._state = null;\n            this._selected = {\n              pageIdx: -1,\n              matchIdx: -1\n            };\n            this._offset = {\n              pageIdx: null,\n              matchIdx: null,\n              wrapped: false\n            };\n            this._extractTextPromises = [];\n            this._pageContents = [];\n            this._pageDiffs = [];\n            this._hasDiacritics = [];\n            this._matchesCountTotal = 0;\n            this._pagesToSearch = null;\n            this._pendingFindMatches = new Set();\n            this._resumePageIdx = null;\n            this._dirtyMatch = false;\n            clearTimeout(this._findTimeout);\n            this._findTimeout = null;\n            this._firstPageCapability = (0, _pdfjsLib.createPromiseCapability)();\n          }\n\n          get #query() {\n            if (this._state.query !== this._rawQuery) {\n              this._rawQuery = this._state.query;\n              [this._normalizedQuery] = normalize(this._state.query);\n            }\n\n            return this._normalizedQuery;\n          }\n\n          #shouldDirtyMatch(state) {\n            if (state.query !== this._state.query) {\n              return true;\n            }\n\n            switch (state.type) {\n              case \"again\":\n                const pageNumber = this._selected.pageIdx + 1;\n                const linkService = this._linkService;\n\n                if (pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !linkService.isPageVisible(pageNumber)) {\n                  return true;\n                }\n\n                return false;\n\n              case \"highlightallchange\":\n                return false;\n            }\n\n            return true;\n          }\n\n          #isEntireWord(content, startIdx, length) {\n            let match = content.slice(0, startIdx).match(NOT_DIACRITIC_FROM_END_REG_EXP);\n\n            if (match) {\n              const first = content.charCodeAt(startIdx);\n              const limit = match[1].charCodeAt(0);\n\n              if ((0, _pdf_find_utils.getCharacterType)(first) === (0, _pdf_find_utils.getCharacterType)(limit)) {\n                return false;\n              }\n            }\n\n            match = content.slice(startIdx + length).match(NOT_DIACRITIC_FROM_START_REG_EXP);\n\n            if (match) {\n              const last = content.charCodeAt(startIdx + length - 1);\n              const limit = match[1].charCodeAt(0);\n\n              if ((0, _pdf_find_utils.getCharacterType)(last) === (0, _pdf_find_utils.getCharacterType)(limit)) {\n                return false;\n              }\n            }\n\n            return true;\n          }\n\n          #calculateRegExpMatch(query, entireWord, pageIndex, pageContent) {\n            const matches = [],\n                  matchesLength = [];\n            const diffs = this._pageDiffs[pageIndex];\n            let match;\n\n            while ((match = query.exec(pageContent)) !== null) {\n              if (entireWord && !this.#isEntireWord(pageContent, match.index, match[0].length)) {\n                continue;\n              }\n\n              const [matchPos, matchLen] = getOriginalIndex(diffs, match.index, match[0].length);\n\n              if (matchLen) {\n                matches.push(matchPos);\n                matchesLength.push(matchLen);\n              }\n            }\n\n            this._pageMatches[pageIndex] = matches;\n            this._pageMatchesLength[pageIndex] = matchesLength;\n          }\n\n          #convertToRegExpString(query, hasDiacritics) {\n            const {\n              matchDiacritics\n            } = this._state;\n            let isUnicode = false;\n            query = query.replace(SPECIAL_CHARS_REG_EXP, (match, p1, p2, p3, p4, p5) => {\n              if (p1) {\n                return `[ ]*\\\\${p1}[ ]*`;\n              }\n\n              if (p2) {\n                return `[ ]*${p2}[ ]*`;\n              }\n\n              if (p3) {\n                return \"[ ]+\";\n              }\n\n              if (matchDiacritics) {\n                return p4 || p5;\n              }\n\n              if (p4) {\n                return DIACRITICS_EXCEPTION.has(p4.charCodeAt(0)) ? p4 : \"\";\n              }\n\n              if (hasDiacritics) {\n                isUnicode = true;\n                return `${p5}\\\\p{M}*`;\n              }\n\n              return p5;\n            });\n            const trailingSpaces = \"[ ]*\";\n\n            if (query.endsWith(trailingSpaces)) {\n              query = query.slice(0, query.length - trailingSpaces.length);\n            }\n\n            if (matchDiacritics) {\n              if (hasDiacritics) {\n                isUnicode = true;\n                query = `${query}(?=[${DIACRITICS_EXCEPTION_STR}]|[^\\\\p{M}]|$)`;\n              }\n            }\n\n            return [isUnicode, query];\n          }\n\n          #calculateMatch(pageIndex) {\n            let query = this.#query;\n\n            if (query.length === 0) {\n              return;\n            }\n\n            const {\n              caseSensitive,\n              entireWord,\n              phraseSearch\n            } = this._state;\n            const pageContent = this._pageContents[pageIndex];\n            const hasDiacritics = this._hasDiacritics[pageIndex];\n            let isUnicode = false;\n\n            if (phraseSearch) {\n              [isUnicode, query] = this.#convertToRegExpString(query, hasDiacritics);\n            } else {\n              const match = query.match(/\\S+/g);\n\n              if (match) {\n                query = match.sort().reverse().map(q => {\n                  const [isUnicodePart, queryPart] = this.#convertToRegExpString(q, hasDiacritics);\n                  isUnicode ||= isUnicodePart;\n                  return `(${queryPart})`;\n                }).join(\"|\");\n              }\n            }\n\n            const flags = `g${isUnicode ? \"u\" : \"\"}${caseSensitive ? \"\" : \"i\"}`;\n            query = new RegExp(query, flags);\n            this.#calculateRegExpMatch(query, entireWord, pageIndex, pageContent);\n\n            if (this._state.highlightAll) {\n              this.#updatePage(pageIndex);\n            }\n\n            if (this._resumePageIdx === pageIndex) {\n              this._resumePageIdx = null;\n              this.#nextPageMatch();\n            }\n\n            const pageMatchesCount = this._pageMatches[pageIndex].length;\n\n            if (pageMatchesCount > 0) {\n              this._matchesCountTotal += pageMatchesCount;\n              this.#updateUIResultsCount();\n            }\n          }\n\n          #extractText() {\n            if (this._extractTextPromises.length > 0) {\n              return;\n            }\n\n            let promise = Promise.resolve();\n\n            for (let i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n              const extractTextCapability = (0, _pdfjsLib.createPromiseCapability)();\n              this._extractTextPromises[i] = extractTextCapability.promise;\n              promise = promise.then(() => {\n                return this._pdfDocument.getPage(i + 1).then(pdfPage => {\n                  return pdfPage.getTextContent();\n                }).then(textContent => {\n                  const strBuf = [];\n\n                  for (const textItem of textContent.items) {\n                    strBuf.push(textItem.str);\n\n                    if (textItem.hasEOL) {\n                      strBuf.push(\"\\n\");\n                    }\n                  }\n\n                  [this._pageContents[i], this._pageDiffs[i], this._hasDiacritics[i]] = normalize(strBuf.join(\"\"));\n                  extractTextCapability.resolve();\n                }, reason => {\n                  console.error(`Unable to get text content for page ${i + 1}`, reason);\n                  this._pageContents[i] = \"\";\n                  this._pageDiffs[i] = null;\n                  this._hasDiacritics[i] = false;\n                  extractTextCapability.resolve();\n                });\n              });\n            }\n          }\n\n          #updatePage(index) {\n            if (this._scrollMatches && this._selected.pageIdx === index) {\n              this._linkService.page = index + 1;\n            }\n\n            this._eventBus.dispatch(\"updatetextlayermatches\", {\n              source: this,\n              pageIndex: index\n            });\n          }\n\n          #updateAllPages() {\n            this._eventBus.dispatch(\"updatetextlayermatches\", {\n              source: this,\n              pageIndex: -1\n            });\n          }\n\n          #nextMatch() {\n            const previous = this._state.findPrevious;\n            const currentPageIndex = this._linkService.page - 1;\n            const numPages = this._linkService.pagesCount;\n            this._highlightMatches = true;\n\n            if (this._dirtyMatch) {\n              this._dirtyMatch = false;\n              this._selected.pageIdx = this._selected.matchIdx = -1;\n              this._offset.pageIdx = currentPageIndex;\n              this._offset.matchIdx = null;\n              this._offset.wrapped = false;\n              this._resumePageIdx = null;\n              this._pageMatches.length = 0;\n              this._pageMatchesLength.length = 0;\n              this._matchesCountTotal = 0;\n              this.#updateAllPages();\n\n              for (let i = 0; i < numPages; i++) {\n                if (this._pendingFindMatches.has(i)) {\n                  continue;\n                }\n\n                this._pendingFindMatches.add(i);\n\n                this._extractTextPromises[i].then(() => {\n                  this._pendingFindMatches.delete(i);\n\n                  this.#calculateMatch(i);\n                });\n              }\n            }\n\n            if (this.#query === \"\") {\n              this.#updateUIState(FindState.FOUND);\n              return;\n            }\n\n            if (this._resumePageIdx) {\n              return;\n            }\n\n            const offset = this._offset;\n            this._pagesToSearch = numPages;\n\n            if (offset.matchIdx !== null) {\n              const numPageMatches = this._pageMatches[offset.pageIdx].length;\n\n              if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n                offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n                this.#updateMatch(true);\n                return;\n              }\n\n              this.#advanceOffsetPage(previous);\n            }\n\n            this.#nextPageMatch();\n          }\n\n          #matchesReady(matches) {\n            const offset = this._offset;\n            const numMatches = matches.length;\n            const previous = this._state.findPrevious;\n\n            if (numMatches) {\n              offset.matchIdx = previous ? numMatches - 1 : 0;\n              this.#updateMatch(true);\n              return true;\n            }\n\n            this.#advanceOffsetPage(previous);\n\n            if (offset.wrapped) {\n              offset.matchIdx = null;\n\n              if (this._pagesToSearch < 0) {\n                this.#updateMatch(false);\n                return true;\n              }\n            }\n\n            return false;\n          }\n\n          #nextPageMatch() {\n            if (this._resumePageIdx !== null) {\n              console.error(\"There can only be one pending page.\");\n            }\n\n            let matches = null;\n\n            do {\n              const pageIdx = this._offset.pageIdx;\n              matches = this._pageMatches[pageIdx];\n\n              if (!matches) {\n                this._resumePageIdx = pageIdx;\n                break;\n              }\n            } while (!this.#matchesReady(matches));\n          }\n\n          #advanceOffsetPage(previous) {\n            const offset = this._offset;\n            const numPages = this._linkService.pagesCount;\n            offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n            offset.matchIdx = null;\n            this._pagesToSearch--;\n\n            if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n              offset.pageIdx = previous ? numPages - 1 : 0;\n              offset.wrapped = true;\n            }\n          }\n\n          #updateMatch(found = false) {\n            let state = FindState.NOT_FOUND;\n            const wrapped = this._offset.wrapped;\n            this._offset.wrapped = false;\n\n            if (found) {\n              const previousPage = this._selected.pageIdx;\n              this._selected.pageIdx = this._offset.pageIdx;\n              this._selected.matchIdx = this._offset.matchIdx;\n              state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n\n              if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n                this.#updatePage(previousPage);\n              }\n            }\n\n            this.#updateUIState(state, this._state.findPrevious);\n\n            if (this._selected.pageIdx !== -1) {\n              this._scrollMatches = true;\n              this.#updatePage(this._selected.pageIdx);\n            }\n          }\n\n          #onFindBarClose(evt) {\n            const pdfDocument = this._pdfDocument;\n\n            this._firstPageCapability.promise.then(() => {\n              if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n                return;\n              }\n\n              if (this._findTimeout) {\n                clearTimeout(this._findTimeout);\n                this._findTimeout = null;\n              }\n\n              if (this._resumePageIdx) {\n                this._resumePageIdx = null;\n                this._dirtyMatch = true;\n              }\n\n              this.#updateUIState(FindState.FOUND);\n              this._highlightMatches = false;\n              this.#updateAllPages();\n            });\n          }\n\n          #requestMatchesCount() {\n            const {\n              pageIdx,\n              matchIdx\n            } = this._selected;\n            let current = 0,\n                total = this._matchesCountTotal;\n\n            if (matchIdx !== -1) {\n              for (let i = 0; i < pageIdx; i++) {\n                current += this._pageMatches[i]?.length || 0;\n              }\n\n              current += matchIdx + 1;\n            }\n\n            if (current < 1 || current > total) {\n              current = total = 0;\n            }\n\n            return {\n              current,\n              total\n            };\n          }\n\n          #updateUIResultsCount() {\n            this._eventBus.dispatch(\"updatefindmatchescount\", {\n              source: this,\n              matchesCount: this.#requestMatchesCount()\n            });\n          }\n\n          #updateUIState(state, previous = false) {\n            this._eventBus.dispatch(\"updatefindcontrolstate\", {\n              source: this,\n              state,\n              previous,\n              matchesCount: this.#requestMatchesCount(),\n              rawQuery: this._state?.query ?? null\n            });\n          }\n\n        }\n\n        exports.PDFFindController = PDFFindController;\n        /***/\n      },\n      /* 23 */\n\n      /***/\n      (__unused_webpack_module, exports) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.CharacterType = void 0;\n        exports.getCharacterType = getCharacterType;\n        const CharacterType = {\n          SPACE: 0,\n          ALPHA_LETTER: 1,\n          PUNCT: 2,\n          HAN_LETTER: 3,\n          KATAKANA_LETTER: 4,\n          HIRAGANA_LETTER: 5,\n          HALFWIDTH_KATAKANA_LETTER: 6,\n          THAI_LETTER: 7\n        };\n        exports.CharacterType = CharacterType;\n\n        function isAlphabeticalScript(charCode) {\n          return charCode < 0x2e80;\n        }\n\n        function isAscii(charCode) {\n          return (charCode & 0xff80) === 0;\n        }\n\n        function isAsciiAlpha(charCode) {\n          return charCode >= 0x61 && charCode <= 0x7a || charCode >= 0x41 && charCode <= 0x5a;\n        }\n\n        function isAsciiDigit(charCode) {\n          return charCode >= 0x30 && charCode <= 0x39;\n        }\n\n        function isAsciiSpace(charCode) {\n          return charCode === 0x20 || charCode === 0x09 || charCode === 0x0d || charCode === 0x0a;\n        }\n\n        function isHan(charCode) {\n          return charCode >= 0x3400 && charCode <= 0x9fff || charCode >= 0xf900 && charCode <= 0xfaff;\n        }\n\n        function isKatakana(charCode) {\n          return charCode >= 0x30a0 && charCode <= 0x30ff;\n        }\n\n        function isHiragana(charCode) {\n          return charCode >= 0x3040 && charCode <= 0x309f;\n        }\n\n        function isHalfwidthKatakana(charCode) {\n          return charCode >= 0xff60 && charCode <= 0xff9f;\n        }\n\n        function isThai(charCode) {\n          return (charCode & 0xff80) === 0x0e00;\n        }\n\n        function getCharacterType(charCode) {\n          if (isAlphabeticalScript(charCode)) {\n            if (isAscii(charCode)) {\n              if (isAsciiSpace(charCode)) {\n                return CharacterType.SPACE;\n              } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 0x5f) {\n                return CharacterType.ALPHA_LETTER;\n              }\n\n              return CharacterType.PUNCT;\n            } else if (isThai(charCode)) {\n              return CharacterType.THAI_LETTER;\n            } else if (charCode === 0xa0) {\n              return CharacterType.SPACE;\n            }\n\n            return CharacterType.ALPHA_LETTER;\n          }\n\n          if (isHan(charCode)) {\n            return CharacterType.HAN_LETTER;\n          } else if (isKatakana(charCode)) {\n            return CharacterType.KATAKANA_LETTER;\n          } else if (isHiragana(charCode)) {\n            return CharacterType.HIRAGANA_LETTER;\n          } else if (isHalfwidthKatakana(charCode)) {\n            return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n          }\n\n          return CharacterType.ALPHA_LETTER;\n        }\n        /***/\n\n      },\n      /* 24 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.PDFHistory = void 0;\n        exports.isDestArraysEqual = isDestArraysEqual;\n        exports.isDestHashesEqual = isDestHashesEqual;\n\n        var _ui_utils = __w_pdfjs_require__(7);\n\n        var _event_utils = __w_pdfjs_require__(19);\n\n        const HASH_CHANGE_TIMEOUT = 1000;\n        const POSITION_UPDATED_THRESHOLD = 50;\n        const UPDATE_VIEWAREA_TIMEOUT = 1000;\n\n        function getCurrentHash() {\n          return document.location.hash;\n        }\n\n        class PDFHistory {\n          constructor({\n            linkService,\n            eventBus\n          }) {\n            this.linkService = linkService;\n            this.eventBus = eventBus;\n            this._initialized = false;\n            this._fingerprint = \"\";\n            this.reset();\n            this._boundEvents = null;\n\n            this.eventBus._on(\"pagesinit\", () => {\n              this._isPagesLoaded = false;\n\n              this.eventBus._on(\"pagesloaded\", evt => {\n                this._isPagesLoaded = !!evt.pagesCount;\n              }, {\n                once: true\n              });\n            });\n          }\n\n          initialize({\n            fingerprint,\n            resetHistory = false,\n            updateUrl = false\n          }) {\n            if (!fingerprint || typeof fingerprint !== \"string\") {\n              console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n              return;\n            }\n\n            if (this._initialized) {\n              this.reset();\n            }\n\n            const reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n            this._fingerprint = fingerprint;\n            this._updateUrl = updateUrl === true;\n            this._initialized = true;\n\n            this._bindEvents();\n\n            const state = window.history.state;\n            this._popStateInProgress = false;\n            this._blockHashChange = 0;\n            this._currentHash = getCurrentHash();\n            this._numPositionUpdates = 0;\n            this._uid = this._maxUid = 0;\n            this._destination = null;\n            this._position = null;\n\n            if (!this._isValidState(state, true) || resetHistory) {\n              const {\n                hash,\n                page,\n                rotation\n              } = this._parseCurrentHash(true);\n\n              if (!hash || reInitialized || resetHistory) {\n                this._pushOrReplaceState(null, true);\n\n                return;\n              }\n\n              this._pushOrReplaceState({\n                hash,\n                page,\n                rotation\n              }, true);\n\n              return;\n            }\n\n            const destination = state.destination;\n\n            this._updateInternalState(destination, state.uid, true);\n\n            if (destination.rotation !== undefined) {\n              this._initialRotation = destination.rotation;\n            }\n\n            if (destination.dest) {\n              this._initialBookmark = JSON.stringify(destination.dest);\n              this._destination.page = null;\n            } else if (destination.hash) {\n              this._initialBookmark = destination.hash;\n            } else if (destination.page) {\n              this._initialBookmark = `page=${destination.page}`;\n            }\n          }\n\n          reset() {\n            if (this._initialized) {\n              this._pageHide();\n\n              this._initialized = false;\n\n              this._unbindEvents();\n            }\n\n            if (this._updateViewareaTimeout) {\n              clearTimeout(this._updateViewareaTimeout);\n              this._updateViewareaTimeout = null;\n            }\n\n            this._initialBookmark = null;\n            this._initialRotation = null;\n          }\n\n          push({\n            namedDest = null,\n            explicitDest,\n            pageNumber\n          }) {\n            if (!this._initialized) {\n              return;\n            }\n\n            if (namedDest && typeof namedDest !== \"string\") {\n              console.error(\"PDFHistory.push: \" + `\"${namedDest}\" is not a valid namedDest parameter.`);\n              return;\n            } else if (!Array.isArray(explicitDest)) {\n              console.error(\"PDFHistory.push: \" + `\"${explicitDest}\" is not a valid explicitDest parameter.`);\n              return;\n            } else if (!this._isValidPage(pageNumber)) {\n              if (pageNumber !== null || this._destination) {\n                console.error(\"PDFHistory.push: \" + `\"${pageNumber}\" is not a valid pageNumber parameter.`);\n                return;\n              }\n            }\n\n            const hash = namedDest || JSON.stringify(explicitDest);\n\n            if (!hash) {\n              return;\n            }\n\n            let forceReplace = false;\n\n            if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n              if (this._destination.page) {\n                return;\n              }\n\n              forceReplace = true;\n            }\n\n            if (this._popStateInProgress && !forceReplace) {\n              return;\n            }\n\n            this._pushOrReplaceState({\n              dest: explicitDest,\n              hash,\n              page: pageNumber,\n              rotation: this.linkService.rotation\n            }, forceReplace);\n\n            if (!this._popStateInProgress) {\n              this._popStateInProgress = true;\n              Promise.resolve().then(() => {\n                this._popStateInProgress = false;\n              });\n            }\n          }\n\n          pushPage(pageNumber) {\n            if (!this._initialized) {\n              return;\n            }\n\n            if (!this._isValidPage(pageNumber)) {\n              console.error(`PDFHistory.pushPage: \"${pageNumber}\" is not a valid page number.`);\n              return;\n            }\n\n            if (this._destination?.page === pageNumber) {\n              return;\n            }\n\n            if (this._popStateInProgress) {\n              return;\n            }\n\n            this._pushOrReplaceState({\n              dest: null,\n              hash: `page=${pageNumber}`,\n              page: pageNumber,\n              rotation: this.linkService.rotation\n            });\n\n            if (!this._popStateInProgress) {\n              this._popStateInProgress = true;\n              Promise.resolve().then(() => {\n                this._popStateInProgress = false;\n              });\n            }\n          }\n\n          pushCurrentPosition() {\n            if (!this._initialized || this._popStateInProgress) {\n              return;\n            }\n\n            this._tryPushCurrentPosition();\n          }\n\n          back() {\n            if (!this._initialized || this._popStateInProgress) {\n              return;\n            }\n\n            const state = window.history.state;\n\n            if (this._isValidState(state) && state.uid > 0) {\n              window.history.back();\n            }\n          }\n\n          forward() {\n            if (!this._initialized || this._popStateInProgress) {\n              return;\n            }\n\n            const state = window.history.state;\n\n            if (this._isValidState(state) && state.uid < this._maxUid) {\n              window.history.forward();\n            }\n          }\n\n          get popStateInProgress() {\n            return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n          }\n\n          get initialBookmark() {\n            return this._initialized ? this._initialBookmark : null;\n          }\n\n          get initialRotation() {\n            return this._initialized ? this._initialRotation : null;\n          }\n\n          _pushOrReplaceState(destination, forceReplace = false) {\n            const shouldReplace = forceReplace || !this._destination;\n            const newState = {\n              fingerprint: this._fingerprint,\n              uid: shouldReplace ? this._uid : this._uid + 1,\n              destination\n            };\n\n            this._updateInternalState(destination, newState.uid);\n\n            let newUrl;\n\n            if (this._updateUrl && destination?.hash) {\n              const baseUrl = document.location.href.split(\"#\")[0];\n\n              if (!baseUrl.startsWith(\"file://\")) {\n                newUrl = `${baseUrl}#${destination.hash}`;\n              }\n            }\n\n            if (shouldReplace) {\n              window.history.replaceState(newState, \"\", newUrl);\n            } else {\n              window.history.pushState(newState, \"\", newUrl);\n            }\n          }\n\n          _tryPushCurrentPosition(temporary = false) {\n            if (!this._position) {\n              return;\n            }\n\n            let position = this._position;\n\n            if (temporary) {\n              position = Object.assign(Object.create(null), this._position);\n              position.temporary = true;\n            }\n\n            if (!this._destination) {\n              this._pushOrReplaceState(position);\n\n              return;\n            }\n\n            if (this._destination.temporary) {\n              this._pushOrReplaceState(position, true);\n\n              return;\n            }\n\n            if (this._destination.hash === position.hash) {\n              return;\n            }\n\n            if (!this._destination.page && (POSITION_UPDATED_THRESHOLD <= 0 || this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD)) {\n              return;\n            }\n\n            let forceReplace = false;\n\n            if (this._destination.page >= position.first && this._destination.page <= position.page) {\n              if (this._destination.dest !== undefined || !this._destination.first) {\n                return;\n              }\n\n              forceReplace = true;\n            }\n\n            this._pushOrReplaceState(position, forceReplace);\n          }\n\n          _isValidPage(val) {\n            return Number.isInteger(val) && val > 0 && val <= this.linkService.pagesCount;\n          }\n\n          _isValidState(state, checkReload = false) {\n            if (!state) {\n              return false;\n            }\n\n            if (state.fingerprint !== this._fingerprint) {\n              if (checkReload) {\n                if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n                  return false;\n                }\n\n                const [perfEntry] = performance.getEntriesByType(\"navigation\");\n\n                if (perfEntry?.type !== \"reload\") {\n                  return false;\n                }\n              } else {\n                return false;\n              }\n            }\n\n            if (!Number.isInteger(state.uid) || state.uid < 0) {\n              return false;\n            }\n\n            if (state.destination === null || typeof state.destination !== \"object\") {\n              return false;\n            }\n\n            return true;\n          }\n\n          _updateInternalState(destination, uid, removeTemporary = false) {\n            if (this._updateViewareaTimeout) {\n              clearTimeout(this._updateViewareaTimeout);\n              this._updateViewareaTimeout = null;\n            }\n\n            if (removeTemporary && destination?.temporary) {\n              delete destination.temporary;\n            }\n\n            this._destination = destination;\n            this._uid = uid;\n            this._maxUid = Math.max(this._maxUid, uid);\n            this._numPositionUpdates = 0;\n          }\n\n          _parseCurrentHash(checkNameddest = false) {\n            const hash = unescape(getCurrentHash()).substring(1);\n            const params = (0, _ui_utils.parseQueryString)(hash);\n            const nameddest = params.get(\"nameddest\") || \"\";\n            let page = params.get(\"page\") | 0;\n\n            if (!this._isValidPage(page) || checkNameddest && nameddest.length > 0) {\n              page = null;\n            }\n\n            return {\n              hash,\n              page,\n              rotation: this.linkService.rotation\n            };\n          }\n\n          _updateViewarea({\n            location\n          }) {\n            if (this._updateViewareaTimeout) {\n              clearTimeout(this._updateViewareaTimeout);\n              this._updateViewareaTimeout = null;\n            }\n\n            this._position = {\n              hash: location.pdfOpenParams.substring(1),\n              page: this.linkService.page,\n              first: location.pageNumber,\n              rotation: location.rotation\n            };\n\n            if (this._popStateInProgress) {\n              return;\n            }\n\n            if (POSITION_UPDATED_THRESHOLD > 0 && this._isPagesLoaded && this._destination && !this._destination.page) {\n              this._numPositionUpdates++;\n            }\n\n            if (UPDATE_VIEWAREA_TIMEOUT > 0) {\n              this._updateViewareaTimeout = setTimeout(() => {\n                if (!this._popStateInProgress) {\n                  this._tryPushCurrentPosition(true);\n                }\n\n                this._updateViewareaTimeout = null;\n              }, UPDATE_VIEWAREA_TIMEOUT);\n            }\n          }\n\n          _popState({\n            state\n          }) {\n            const newHash = getCurrentHash(),\n                  hashChanged = this._currentHash !== newHash;\n            this._currentHash = newHash;\n\n            if (!state) {\n              this._uid++;\n\n              const {\n                hash,\n                page,\n                rotation\n              } = this._parseCurrentHash();\n\n              this._pushOrReplaceState({\n                hash,\n                page,\n                rotation\n              }, true);\n\n              return;\n            }\n\n            if (!this._isValidState(state)) {\n              return;\n            }\n\n            this._popStateInProgress = true;\n\n            if (hashChanged) {\n              this._blockHashChange++;\n              (0, _event_utils.waitOnEventOrTimeout)({\n                target: window,\n                name: \"hashchange\",\n                delay: HASH_CHANGE_TIMEOUT\n              }).then(() => {\n                this._blockHashChange--;\n              });\n            }\n\n            const destination = state.destination;\n\n            this._updateInternalState(destination, state.uid, true);\n\n            if ((0, _ui_utils.isValidRotation)(destination.rotation)) {\n              this.linkService.rotation = destination.rotation;\n            }\n\n            if (destination.dest) {\n              this.linkService.goToDestination(destination.dest);\n            } else if (destination.hash) {\n              this.linkService.setHash(destination.hash);\n            } else if (destination.page) {\n              this.linkService.page = destination.page;\n            }\n\n            Promise.resolve().then(() => {\n              this._popStateInProgress = false;\n            });\n          }\n\n          _pageHide() {\n            if (!this._destination || this._destination.temporary) {\n              this._tryPushCurrentPosition();\n            }\n          }\n\n          _bindEvents() {\n            if (this._boundEvents) {\n              return;\n            }\n\n            this._boundEvents = {\n              updateViewarea: this._updateViewarea.bind(this),\n              popState: this._popState.bind(this),\n              pageHide: this._pageHide.bind(this)\n            };\n\n            this.eventBus._on(\"updateviewarea\", this._boundEvents.updateViewarea);\n\n            window.addEventListener(\"popstate\", this._boundEvents.popState);\n            window.addEventListener(\"pagehide\", this._boundEvents.pageHide);\n          }\n\n          _unbindEvents() {\n            if (!this._boundEvents) {\n              return;\n            }\n\n            this.eventBus._off(\"updateviewarea\", this._boundEvents.updateViewarea);\n\n            window.removeEventListener(\"popstate\", this._boundEvents.popState);\n            window.removeEventListener(\"pagehide\", this._boundEvents.pageHide);\n            this._boundEvents = null;\n          }\n\n        }\n\n        exports.PDFHistory = PDFHistory;\n\n        function isDestHashesEqual(destHash, pushHash) {\n          if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n            return false;\n          }\n\n          if (destHash === pushHash) {\n            return true;\n          }\n\n          const nameddest = (0, _ui_utils.parseQueryString)(destHash).get(\"nameddest\");\n\n          if (nameddest === pushHash) {\n            return true;\n          }\n\n          return false;\n        }\n\n        function isDestArraysEqual(firstDest, secondDest) {\n          function isEntryEqual(first, second) {\n            if (typeof first !== typeof second) {\n              return false;\n            }\n\n            if (Array.isArray(first) || Array.isArray(second)) {\n              return false;\n            }\n\n            if (first !== null && typeof first === \"object\" && second !== null) {\n              if (Object.keys(first).length !== Object.keys(second).length) {\n                return false;\n              }\n\n              for (const key in first) {\n                if (!isEntryEqual(first[key], second[key])) {\n                  return false;\n                }\n              }\n\n              return true;\n            }\n\n            return first === second || Number.isNaN(first) && Number.isNaN(second);\n          }\n\n          if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n            return false;\n          }\n\n          if (firstDest.length !== secondDest.length) {\n            return false;\n          }\n\n          for (let i = 0, ii = firstDest.length; i < ii; i++) {\n            if (!isEntryEqual(firstDest[i], secondDest[i])) {\n              return false;\n            }\n          }\n\n          return true;\n        }\n        /***/\n\n      },\n      /* 25 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.PDFScriptingManager = void 0;\n\n        var _ui_utils = __w_pdfjs_require__(7);\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        class PDFScriptingManager {\n          constructor({\n            eventBus,\n            sandboxBundleSrc = null,\n            scriptingFactory = null,\n            docPropertiesLookup = null\n          }) {\n            this._pdfDocument = null;\n            this._pdfViewer = null;\n            this._closeCapability = null;\n            this._destroyCapability = null;\n            this._scripting = null;\n            this._mouseState = Object.create(null);\n            this._ready = false;\n            this._eventBus = eventBus;\n            this._sandboxBundleSrc = sandboxBundleSrc;\n            this._scriptingFactory = scriptingFactory;\n            this._docPropertiesLookup = docPropertiesLookup;\n\n            if (!this._scriptingFactory) {\n              window.addEventListener(\"updatefromsandbox\", event => {\n                this._eventBus.dispatch(\"updatefromsandbox\", {\n                  source: window,\n                  detail: event.detail\n                });\n              });\n            }\n          }\n\n          setViewer(pdfViewer) {\n            this._pdfViewer = pdfViewer;\n          }\n\n          setDocument(pdfDocument) {\n            var _this15 = this;\n\n            return _asyncToGenerator(function* () {\n              if (_this15._pdfDocument) {\n                yield _this15._destroyScripting();\n              }\n\n              _this15._pdfDocument = pdfDocument;\n\n              if (!pdfDocument) {\n                return;\n              }\n\n              const [objects, calculationOrder, docActions] = yield Promise.all([pdfDocument.getFieldObjects(), pdfDocument.getCalculationOrderIds(), pdfDocument.getJSActions()]);\n\n              if (!objects && !docActions) {\n                yield _this15._destroyScripting();\n                return;\n              }\n\n              if (pdfDocument !== _this15._pdfDocument) {\n                return;\n              }\n\n              try {\n                _this15._scripting = _this15._createScripting();\n              } catch (error) {\n                console.error(`PDFScriptingManager.setDocument: \"${error?.message}\".`);\n                yield _this15._destroyScripting();\n                return;\n              }\n\n              _this15._internalEvents.set(\"updatefromsandbox\", event => {\n                if (event?.source !== window) {\n                  return;\n                }\n\n                _this15._updateFromSandbox(event.detail);\n              });\n\n              _this15._internalEvents.set(\"dispatcheventinsandbox\", event => {\n                _this15._scripting?.dispatchEventInSandbox(event.detail);\n              });\n\n              _this15._internalEvents.set(\"pagechanging\", ({\n                pageNumber,\n                previous\n              }) => {\n                if (pageNumber === previous) {\n                  return;\n                }\n\n                _this15._dispatchPageClose(previous);\n\n                _this15._dispatchPageOpen(pageNumber);\n              });\n\n              _this15._internalEvents.set(\"pagerendered\", ({\n                pageNumber\n              }) => {\n                if (!_this15._pageOpenPending.has(pageNumber)) {\n                  return;\n                }\n\n                if (pageNumber !== _this15._pdfViewer.currentPageNumber) {\n                  return;\n                }\n\n                _this15._dispatchPageOpen(pageNumber);\n              });\n\n              _this15._internalEvents.set(\"pagesdestroy\", /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator(function* (event) {\n                  yield _this15._dispatchPageClose(_this15._pdfViewer.currentPageNumber);\n                  yield _this15._scripting?.dispatchEventInSandbox({\n                    id: \"doc\",\n                    name: \"WillClose\"\n                  });\n                  _this15._closeCapability?.resolve();\n                });\n\n                return function (_x) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n\n              _this15._domEvents.set(\"mousedown\", event => {\n                _this15._mouseState.isDown = true;\n              });\n\n              _this15._domEvents.set(\"mouseup\", event => {\n                _this15._mouseState.isDown = false;\n              });\n\n              for (const [name, listener] of _this15._internalEvents) {\n                _this15._eventBus._on(name, listener);\n              }\n\n              for (const [name, listener] of _this15._domEvents) {\n                window.addEventListener(name, listener, true);\n              }\n\n              try {\n                const docProperties = yield _this15._getDocProperties();\n\n                if (pdfDocument !== _this15._pdfDocument) {\n                  return;\n                }\n\n                yield _this15._scripting.createSandbox({\n                  objects,\n                  calculationOrder,\n                  appInfo: {\n                    platform: navigator.platform,\n                    language: navigator.language\n                  },\n                  docInfo: { ...docProperties,\n                    actions: docActions\n                  }\n                });\n\n                _this15._eventBus.dispatch(\"sandboxcreated\", {\n                  source: _this15\n                });\n              } catch (error) {\n                console.error(`PDFScriptingManager.setDocument: \"${error?.message}\".`);\n                yield _this15._destroyScripting();\n                return;\n              }\n\n              yield _this15._scripting?.dispatchEventInSandbox({\n                id: \"doc\",\n                name: \"Open\"\n              });\n              yield _this15._dispatchPageOpen(_this15._pdfViewer.currentPageNumber, true);\n              Promise.resolve().then(() => {\n                if (pdfDocument === _this15._pdfDocument) {\n                  _this15._ready = true;\n                }\n              });\n            })();\n          }\n\n          dispatchWillSave(detail) {\n            var _this16 = this;\n\n            return _asyncToGenerator(function* () {\n              return _this16._scripting?.dispatchEventInSandbox({\n                id: \"doc\",\n                name: \"WillSave\"\n              });\n            })();\n          }\n\n          dispatchDidSave(detail) {\n            var _this17 = this;\n\n            return _asyncToGenerator(function* () {\n              return _this17._scripting?.dispatchEventInSandbox({\n                id: \"doc\",\n                name: \"DidSave\"\n              });\n            })();\n          }\n\n          dispatchWillPrint(detail) {\n            var _this18 = this;\n\n            return _asyncToGenerator(function* () {\n              return _this18._scripting?.dispatchEventInSandbox({\n                id: \"doc\",\n                name: \"WillPrint\"\n              });\n            })();\n          }\n\n          dispatchDidPrint(detail) {\n            var _this19 = this;\n\n            return _asyncToGenerator(function* () {\n              return _this19._scripting?.dispatchEventInSandbox({\n                id: \"doc\",\n                name: \"DidPrint\"\n              });\n            })();\n          }\n\n          get mouseState() {\n            return this._mouseState;\n          }\n\n          get destroyPromise() {\n            return this._destroyCapability?.promise || null;\n          }\n\n          get ready() {\n            return this._ready;\n          }\n\n          get _internalEvents() {\n            return (0, _pdfjsLib.shadow)(this, \"_internalEvents\", new Map());\n          }\n\n          get _domEvents() {\n            return (0, _pdfjsLib.shadow)(this, \"_domEvents\", new Map());\n          }\n\n          get _pageOpenPending() {\n            return (0, _pdfjsLib.shadow)(this, \"_pageOpenPending\", new Set());\n          }\n\n          get _visitedPages() {\n            return (0, _pdfjsLib.shadow)(this, \"_visitedPages\", new Map());\n          }\n\n          _updateFromSandbox(detail) {\n            var _this20 = this;\n\n            return _asyncToGenerator(function* () {\n              const isInPresentationMode = _this20._pdfViewer.isInPresentationMode || _this20._pdfViewer.isChangingPresentationMode;\n              const {\n                id,\n                siblings,\n                command,\n                value\n              } = detail;\n\n              if (!id) {\n                switch (command) {\n                  case \"clear\":\n                    console.clear();\n                    break;\n\n                  case \"error\":\n                    console.error(value);\n                    break;\n\n                  case \"layout\":\n                    if (isInPresentationMode) {\n                      return;\n                    }\n\n                    const modes = (0, _ui_utils.apiPageLayoutToViewerModes)(value);\n                    _this20._pdfViewer.spreadMode = modes.spreadMode;\n                    break;\n\n                  case \"page-num\":\n                    _this20._pdfViewer.currentPageNumber = value + 1;\n                    break;\n\n                  case \"print\":\n                    yield _this20._pdfViewer.pagesPromise;\n\n                    _this20._eventBus.dispatch(\"print\", {\n                      source: _this20\n                    });\n\n                    break;\n\n                  case \"println\":\n                    console.log(value);\n                    break;\n\n                  case \"zoom\":\n                    if (isInPresentationMode) {\n                      return;\n                    }\n\n                    _this20._pdfViewer.currentScaleValue = value;\n                    break;\n\n                  case \"SaveAs\":\n                    _this20._eventBus.dispatch(\"download\", {\n                      source: _this20\n                    });\n\n                    break;\n\n                  case \"FirstPage\":\n                    _this20._pdfViewer.currentPageNumber = 1;\n                    break;\n\n                  case \"LastPage\":\n                    _this20._pdfViewer.currentPageNumber = _this20._pdfViewer.pagesCount;\n                    break;\n\n                  case \"NextPage\":\n                    _this20._pdfViewer.nextPage();\n\n                    break;\n\n                  case \"PrevPage\":\n                    _this20._pdfViewer.previousPage();\n\n                    break;\n\n                  case \"ZoomViewIn\":\n                    if (isInPresentationMode) {\n                      return;\n                    }\n\n                    _this20._pdfViewer.increaseScale();\n\n                    break;\n\n                  case \"ZoomViewOut\":\n                    if (isInPresentationMode) {\n                      return;\n                    }\n\n                    _this20._pdfViewer.decreaseScale();\n\n                    break;\n                }\n\n                return;\n              }\n\n              if (isInPresentationMode) {\n                if (detail.focus) {\n                  return;\n                }\n              }\n\n              delete detail.id;\n              delete detail.siblings;\n              const ids = siblings ? [id, ...siblings] : [id];\n\n              for (const elementId of ids) {\n                const element = document.querySelector(`[data-element-id=\"${elementId}\"]`);\n\n                if (element) {\n                  element.dispatchEvent(new CustomEvent(\"updatefromsandbox\", {\n                    detail\n                  }));\n                } else {\n                  _this20._pdfDocument?.annotationStorage.setValue(elementId, detail);\n                }\n              }\n            })();\n          }\n\n          _dispatchPageOpen(pageNumber, initialize = false) {\n            var _this21 = this;\n\n            return _asyncToGenerator(function* () {\n              const pdfDocument = _this21._pdfDocument,\n                    visitedPages = _this21._visitedPages;\n\n              if (initialize) {\n                _this21._closeCapability = (0, _pdfjsLib.createPromiseCapability)();\n              }\n\n              if (!_this21._closeCapability) {\n                return;\n              }\n\n              const pageView = _this21._pdfViewer.getPageView(pageNumber - 1);\n\n              if (pageView?.renderingState !== _ui_utils.RenderingStates.FINISHED) {\n                _this21._pageOpenPending.add(pageNumber);\n\n                return;\n              }\n\n              _this21._pageOpenPending.delete(pageNumber);\n\n              const actionsPromise = _asyncToGenerator(function* () {\n                const actions = yield !visitedPages.has(pageNumber) ? pageView.pdfPage?.getJSActions() : null;\n\n                if (pdfDocument !== _this21._pdfDocument) {\n                  return;\n                }\n\n                yield _this21._scripting?.dispatchEventInSandbox({\n                  id: \"page\",\n                  name: \"PageOpen\",\n                  pageNumber,\n                  actions\n                });\n              })();\n\n              visitedPages.set(pageNumber, actionsPromise);\n            })();\n          }\n\n          _dispatchPageClose(pageNumber) {\n            var _this22 = this;\n\n            return _asyncToGenerator(function* () {\n              const pdfDocument = _this22._pdfDocument,\n                    visitedPages = _this22._visitedPages;\n\n              if (!_this22._closeCapability) {\n                return;\n              }\n\n              if (_this22._pageOpenPending.has(pageNumber)) {\n                return;\n              }\n\n              const actionsPromise = visitedPages.get(pageNumber);\n\n              if (!actionsPromise) {\n                return;\n              }\n\n              visitedPages.set(pageNumber, null);\n              yield actionsPromise;\n\n              if (pdfDocument !== _this22._pdfDocument) {\n                return;\n              }\n\n              yield _this22._scripting?.dispatchEventInSandbox({\n                id: \"page\",\n                name: \"PageClose\",\n                pageNumber\n              });\n            })();\n          }\n\n          _getDocProperties() {\n            var _this23 = this;\n\n            return _asyncToGenerator(function* () {\n              if (_this23._docPropertiesLookup) {\n                return _this23._docPropertiesLookup(_this23._pdfDocument);\n              }\n\n              const {\n                docPropertiesLookup\n              } = __w_pdfjs_require__(26);\n\n              return docPropertiesLookup(_this23._pdfDocument);\n            })();\n          }\n\n          _createScripting() {\n            this._destroyCapability = (0, _pdfjsLib.createPromiseCapability)();\n\n            if (this._scripting) {\n              throw new Error(\"_createScripting: Scripting already exists.\");\n            }\n\n            if (this._scriptingFactory) {\n              return this._scriptingFactory.createScripting({\n                sandboxBundleSrc: this._sandboxBundleSrc\n              });\n            }\n\n            const {\n              GenericScripting\n            } = __w_pdfjs_require__(26);\n\n            return new GenericScripting(this._sandboxBundleSrc);\n          }\n\n          _destroyScripting() {\n            var _this24 = this;\n\n            return _asyncToGenerator(function* () {\n              if (!_this24._scripting) {\n                _this24._pdfDocument = null;\n                _this24._destroyCapability?.resolve();\n                return;\n              }\n\n              if (_this24._closeCapability) {\n                yield Promise.race([_this24._closeCapability.promise, new Promise(resolve => {\n                  setTimeout(resolve, 1000);\n                })]).catch(reason => {});\n                _this24._closeCapability = null;\n              }\n\n              _this24._pdfDocument = null;\n\n              try {\n                yield _this24._scripting.destroySandbox();\n              } catch (ex) {}\n\n              for (const [name, listener] of _this24._internalEvents) {\n                _this24._eventBus._off(name, listener);\n              }\n\n              _this24._internalEvents.clear();\n\n              for (const [name, listener] of _this24._domEvents) {\n                window.removeEventListener(name, listener, true);\n              }\n\n              _this24._domEvents.clear();\n\n              _this24._pageOpenPending.clear();\n\n              _this24._visitedPages.clear();\n\n              _this24._scripting = null;\n              delete _this24._mouseState.isDown;\n              _this24._ready = false;\n              _this24._destroyCapability?.resolve();\n            })();\n          }\n\n        }\n\n        exports.PDFScriptingManager = PDFScriptingManager;\n        /***/\n      },\n      /* 26 */\n\n      /***/\n      (__unused_webpack_module, exports, __w_pdfjs_require__) => {\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.GenericScripting = void 0;\n        exports.docPropertiesLookup = docPropertiesLookup;\n\n        var _pdfjsLib = __w_pdfjs_require__(3);\n\n        function docPropertiesLookup(_x2) {\n          return _docPropertiesLookup.apply(this, arguments);\n        }\n\n        function _docPropertiesLookup() {\n          _docPropertiesLookup = _asyncToGenerator(function* (pdfDocument) {\n            const url = \"\",\n                  baseUrl = url.split(\"#\")[0];\n            let {\n              info,\n              metadata,\n              contentDispositionFilename,\n              contentLength\n            } = yield pdfDocument.getMetadata();\n\n            if (!contentLength) {\n              const {\n                length\n              } = yield pdfDocument.getDownloadInfo();\n              contentLength = length;\n            }\n\n            return { ...info,\n              baseURL: baseUrl,\n              filesize: contentLength,\n              filename: contentDispositionFilename || (0, _pdfjsLib.getPdfFilenameFromUrl)(url),\n              metadata: metadata?.getRaw(),\n              authors: metadata?.get(\"dc:creator\"),\n              numPages: pdfDocument.numPages,\n              URL: url\n            };\n          });\n          return _docPropertiesLookup.apply(this, arguments);\n        }\n\n        class GenericScripting {\n          constructor(sandboxBundleSrc) {\n            this._ready = (0, _pdfjsLib.loadScript)(sandboxBundleSrc, true).then(() => {\n              return window.pdfjsSandbox.QuickJSSandbox();\n            });\n          }\n\n          createSandbox(data) {\n            var _this25 = this;\n\n            return _asyncToGenerator(function* () {\n              const sandbox = yield _this25._ready;\n              sandbox.create(data);\n            })();\n          }\n\n          dispatchEventInSandbox(event) {\n            var _this26 = this;\n\n            return _asyncToGenerator(function* () {\n              const sandbox = yield _this26._ready;\n              setTimeout(() => sandbox.dispatchEvent(event), 0);\n            })();\n          }\n\n          destroySandbox() {\n            var _this27 = this;\n\n            return _asyncToGenerator(function* () {\n              const sandbox = yield _this27._ready;\n              sandbox.nukeSandbox();\n            })();\n          }\n\n        }\n\n        exports.GenericScripting = GenericScripting;\n        /***/\n      }\n      /******/\n      ];\n      /************************************************************************/\n\n      /******/\n      // The module cache\n\n      /******/\n\n      var __webpack_module_cache__ = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __w_pdfjs_require__(moduleId) {\n        /******/\n        // Check if module is in cache\n\n        /******/\n        var cachedModule = __webpack_module_cache__[moduleId];\n        /******/\n\n        if (cachedModule !== undefined) {\n          /******/\n          return cachedModule.exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = __webpack_module_cache__[moduleId] = {\n          /******/\n          // no module.id needed\n\n          /******/\n          // no module.loaded needed\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        __webpack_modules__[moduleId](module, module.exports, __w_pdfjs_require__);\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /************************************************************************/\n\n\n      var __webpack_exports__ = {}; // This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n\n      (() => {\n        var exports = __webpack_exports__;\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        Object.defineProperty(exports, \"AnnotationLayerBuilder\", {\n          enumerable: true,\n          get: function () {\n            return _annotation_layer_builder.AnnotationLayerBuilder;\n          }\n        });\n        Object.defineProperty(exports, \"DefaultAnnotationLayerFactory\", {\n          enumerable: true,\n          get: function () {\n            return _default_factory.DefaultAnnotationLayerFactory;\n          }\n        });\n        Object.defineProperty(exports, \"DefaultStructTreeLayerFactory\", {\n          enumerable: true,\n          get: function () {\n            return _default_factory.DefaultStructTreeLayerFactory;\n          }\n        });\n        Object.defineProperty(exports, \"DefaultTextLayerFactory\", {\n          enumerable: true,\n          get: function () {\n            return _default_factory.DefaultTextLayerFactory;\n          }\n        });\n        Object.defineProperty(exports, \"DefaultXfaLayerFactory\", {\n          enumerable: true,\n          get: function () {\n            return _default_factory.DefaultXfaLayerFactory;\n          }\n        });\n        Object.defineProperty(exports, \"DownloadManager\", {\n          enumerable: true,\n          get: function () {\n            return _download_manager.DownloadManager;\n          }\n        });\n        Object.defineProperty(exports, \"EventBus\", {\n          enumerable: true,\n          get: function () {\n            return _event_utils.EventBus;\n          }\n        });\n        Object.defineProperty(exports, \"GenericL10n\", {\n          enumerable: true,\n          get: function () {\n            return _genericl10n.GenericL10n;\n          }\n        });\n        Object.defineProperty(exports, \"LinkTarget\", {\n          enumerable: true,\n          get: function () {\n            return _pdf_link_service.LinkTarget;\n          }\n        });\n        Object.defineProperty(exports, \"NullL10n\", {\n          enumerable: true,\n          get: function () {\n            return _l10n_utils.NullL10n;\n          }\n        });\n        Object.defineProperty(exports, \"PDFFindController\", {\n          enumerable: true,\n          get: function () {\n            return _pdf_find_controller.PDFFindController;\n          }\n        });\n        Object.defineProperty(exports, \"PDFHistory\", {\n          enumerable: true,\n          get: function () {\n            return _pdf_history.PDFHistory;\n          }\n        });\n        Object.defineProperty(exports, \"PDFLinkService\", {\n          enumerable: true,\n          get: function () {\n            return _pdf_link_service.PDFLinkService;\n          }\n        });\n        Object.defineProperty(exports, \"PDFPageView\", {\n          enumerable: true,\n          get: function () {\n            return _pdf_page_view.PDFPageView;\n          }\n        });\n        Object.defineProperty(exports, \"PDFScriptingManager\", {\n          enumerable: true,\n          get: function () {\n            return _pdf_scripting_manager.PDFScriptingManager;\n          }\n        });\n        Object.defineProperty(exports, \"PDFSinglePageViewer\", {\n          enumerable: true,\n          get: function () {\n            return _pdf_viewer.PDFSinglePageViewer;\n          }\n        });\n        Object.defineProperty(exports, \"PDFViewer\", {\n          enumerable: true,\n          get: function () {\n            return _pdf_viewer.PDFViewer;\n          }\n        });\n        Object.defineProperty(exports, \"ProgressBar\", {\n          enumerable: true,\n          get: function () {\n            return _ui_utils.ProgressBar;\n          }\n        });\n        Object.defineProperty(exports, \"RenderingStates\", {\n          enumerable: true,\n          get: function () {\n            return _ui_utils.RenderingStates;\n          }\n        });\n        Object.defineProperty(exports, \"ScrollMode\", {\n          enumerable: true,\n          get: function () {\n            return _ui_utils.ScrollMode;\n          }\n        });\n        Object.defineProperty(exports, \"SimpleLinkService\", {\n          enumerable: true,\n          get: function () {\n            return _pdf_link_service.SimpleLinkService;\n          }\n        });\n        Object.defineProperty(exports, \"SpreadMode\", {\n          enumerable: true,\n          get: function () {\n            return _ui_utils.SpreadMode;\n          }\n        });\n        Object.defineProperty(exports, \"StructTreeLayerBuilder\", {\n          enumerable: true,\n          get: function () {\n            return _struct_tree_layer_builder.StructTreeLayerBuilder;\n          }\n        });\n        Object.defineProperty(exports, \"TextLayerBuilder\", {\n          enumerable: true,\n          get: function () {\n            return _text_layer_builder.TextLayerBuilder;\n          }\n        });\n        Object.defineProperty(exports, \"XfaLayerBuilder\", {\n          enumerable: true,\n          get: function () {\n            return _xfa_layer_builder.XfaLayerBuilder;\n          }\n        });\n        Object.defineProperty(exports, \"parseQueryString\", {\n          enumerable: true,\n          get: function () {\n            return _ui_utils.parseQueryString;\n          }\n        });\n\n        var _default_factory = __w_pdfjs_require__(1);\n\n        var _pdf_link_service = __w_pdfjs_require__(6);\n\n        var _ui_utils = __w_pdfjs_require__(7);\n\n        var _pdf_viewer = __w_pdfjs_require__(11);\n\n        var _annotation_layer_builder = __w_pdfjs_require__(5);\n\n        var _download_manager = __w_pdfjs_require__(18);\n\n        var _event_utils = __w_pdfjs_require__(19);\n\n        var _genericl10n = __w_pdfjs_require__(20);\n\n        var _l10n_utils = __w_pdfjs_require__(4);\n\n        var _pdf_find_controller = __w_pdfjs_require__(22);\n\n        var _pdf_history = __w_pdfjs_require__(24);\n\n        var _pdf_page_view = __w_pdfjs_require__(13);\n\n        var _pdf_scripting_manager = __w_pdfjs_require__(25);\n\n        var _struct_tree_layer_builder = __w_pdfjs_require__(8);\n\n        var _text_layer_builder = __w_pdfjs_require__(9);\n\n        var _xfa_layer_builder = __w_pdfjs_require__(10);\n\n        const pdfjsVersion = '2.16.105';\n        const pdfjsBuild = '172ccdbe5';\n      })();\n      /******/\n\n\n      return __webpack_exports__;\n      /******/\n    })()\n  );\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","pdfjsViewer","globalThis","__webpack_modules__","__unused_webpack_module","__w_pdfjs_require__","Object","defineProperty","value","DefaultXfaLayerFactory","DefaultTextLayerFactory","DefaultStructTreeLayerFactory","DefaultAnnotationLayerFactory","DefaultAnnotationEditorLayerFactory","_annotation_editor_layer_builder","_annotation_layer_builder","_l10n_utils","_pdf_link_service","_struct_tree_layer_builder","_text_layer_builder","_xfa_layer_builder","createAnnotationLayerBuilder","pageDiv","pdfPage","annotationStorage","imageResourcesPath","renderForms","l10n","NullL10n","enableScripting","hasJSActionsPromise","mouseState","fieldObjectsPromise","annotationCanvasMap","accessibilityManager","AnnotationLayerBuilder","linkService","SimpleLinkService","createAnnotationEditorLayerBuilder","uiManager","AnnotationEditorLayerBuilder","createStructTreeLayerBuilder","StructTreeLayerBuilder","createTextLayerBuilder","textLayerDiv","pageIndex","viewport","enhanceTextSelection","eventBus","highlighter","TextLayerBuilder","createXfaLayerBuilder","XfaLayerBuilder","_pdfjsLib","constructor","options","annotationEditorLayer","div","_cancelled","render","intent","clonedViewport","clone","dontFlip","update","show","document","createElement","className","tabIndex","append","AnnotationEditorLayer","_pageIndex","parameters","annotations","cancel","destroy","hide","hidden","remove","pdfjsLib","window","require","fixupLangCode","getL10nFallback","DEFAULT_L10N_STRINGS","of_pages","page_of_pages","document_properties_kb","document_properties_mb","document_properties_date_string","document_properties_page_size_unit_inches","document_properties_page_size_unit_millimeters","document_properties_page_size_orientation_portrait","document_properties_page_size_orientation_landscape","document_properties_page_size_name_a3","document_properties_page_size_name_a4","document_properties_page_size_name_letter","document_properties_page_size_name_legal","document_properties_page_size_dimension_string","document_properties_page_size_dimension_name_string","document_properties_linearized_yes","document_properties_linearized_no","print_progress_percent","additional_layers","page_landmark","thumb_page_title","thumb_page_canvas","find_reached_top","find_reached_bottom","find_not_found","error_version_info","error_message","error_stack","error_file","error_line","rendering_error","page_scale_width","page_scale_fit","page_scale_auto","page_scale_actual","page_scale_percent","loading","loading_error","invalid_file_error","missing_file_error","unexpected_response_error","printing_not_supported","printing_not_ready","web_fonts_disabled","free_text_default_content","editor_free_text_aria_label","editor_ink_aria_label","editor_ink_canvas_aria_label","key","args","total","limit","PARTIAL_LANG_CODES","en","es","fy","ga","gu","hi","hy","nb","ne","nn","pa","pt","sv","zh","langCode","toLowerCase","formatL10nValue","text","replace","all","name","getLanguage","getDirection","get","fallback","translate","element","downloadManager","_hasJSActionsPromise","_fieldObjectsPromise","_mouseState","_annotationCanvasMap","_accessibilityManager","hasJSActions","fieldObjects","Promise","getAnnotations","length","page","AnnotationLayer","PDFLinkService","LinkTarget","_ui_utils","DEFAULT_LINK_REL","NONE","SELF","BLANK","PARENT","TOP","addLinkAttributes","link","url","target","rel","enabled","Error","urlNullRemoved","removeNullCharacters","href","title","onclick","targetStr","pagesRefCache","Map","externalLinkTarget","externalLinkRel","ignoreDestinationZoom","externalLinkEnabled","_ignoreDestinationZoom","baseUrl","pdfDocument","pdfViewer","pdfHistory","setDocument","clear","setViewer","setHistory","pagesCount","numPages","currentPageNumber","rotation","pagesRotation","goToDestinationHelper","rawDest","namedDest","explicitDest","destRef","pageNumber","_cachedPageNumber","getPageIndex","then","cachePageRef","catch","console","error","Number","isInteger","pushCurrentPosition","push","scrollPageIntoView","destArray","goToDestination","dest","getDestination","Array","isArray","goToPage","val","pageLabelToPageNumber","pushPage","newWindow","getDestinationHash","getAnchorUrl","escape","str","JSON","stringify","anchor","setHash","hash","includes","params","parseQueryString","has","dispatch","source","query","phraseSearch","zoomArgs","split","zoomArg","zoomArgNumber","parseFloat","allowNegativeOffset","mode","unescape","parse","toString","ex","isValidExplicitDestination","executeNamedAction","action","back","forward","nextPage","previousPage","pageNum","pageRef","refStr","gen","num","set","isPageVisible","isPageCached","destLength","zoom","allowNull","i","param","animationStarted","VERTICAL_PADDING","UNKNOWN_SCALE","TextLayerMode","SpreadMode","SidebarView","ScrollMode","SCROLLBAR_PADDING","RenderingStates","RendererType","ProgressBar","PresentationModeState","OutputScale","MIN_SCALE","MAX_SCALE","MAX_AUTO_SCALE","DEFAULT_SCALE_VALUE","DEFAULT_SCALE_DELTA","DEFAULT_SCALE","AutoPrintRegExp","apiPageLayoutToViewerModes","apiPageModeToSidebarView","approximateFraction","backtrackBeforeAllVisibleElements","binarySearchFirstItem","docStyle","getActiveOrFocusedElement","getPageSizeInches","getVisibleElements","isPortraitOrientation","isValidRotation","isValidScrollMode","isValidSpreadMode","noContextMenuHandler","normalizeWheelEventDelta","normalizeWheelEventDirection","roundToDivide","scrollIntoView","watchScroll","INITIAL","RUNNING","PAUSED","FINISHED","UNKNOWN","NORMAL","CHANGING","FULLSCREEN","THUMBS","OUTLINE","ATTACHMENTS","LAYERS","CANVAS","SVG","DISABLE","ENABLE","ENABLE_ENHANCE","VERTICAL","HORIZONTAL","WRAPPED","PAGE","ODD","EVEN","pixelRatio","devicePixelRatio","sx","sy","scaled","spot","scrollMatches","parent","offsetParent","offsetY","offsetTop","clientTop","offsetX","offsetLeft","clientLeft","clientHeight","scrollHeight","clientWidth","scrollWidth","classList","contains","getComputedStyle","overflow","top","undefined","left","scrollLeft","scrollTop","viewAreaElement","callback","debounceScroll","evt","rAF","requestAnimationFrame","viewAreaElementScrolled","currentX","lastX","state","right","currentY","lastY","down","_eventHandler","addEventListener","URLSearchParams","NullCharactersRegExp","InvisibleCharactersRegExp","replaceInvisible","items","condition","start","minIndex","maxIndex","currentIndex","currentItem","x","Math","floor","xinv","x_","a","b","c","d","p","q","result","r","round","view","userUnit","rotate","x1","y1","x2","y2","changeOrientation","width","height","index","views","elt","pageTop","scrollEl","sortByVisibility","horizontal","rtl","bottom","isElementBottomAfterViewTop","elementBottom","isElementNextAfterViewHorizontally","elementLeft","elementRight","visible","ids","Set","numViews","firstVisibleElementInd","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","max","hiddenWidth","fractionHeight","fractionWidth","percent","id","y","widthPercent","add","first","last","at","sort","pc","abs","preventDefault","delta","hypot","deltaX","deltaY","angle","atan2","PI","MOUSE_DOM_DELTA_PIXEL_MODE","MOUSE_DOM_DELTA_LINE_MODE","MOUSE_PIXELS_PER_LINE","MOUSE_LINES_PER_PAGE","deltaMode","values","size","resolve","documentElement","style","clamp","v","min","arguments","bar","getElementById","isNaN","setProperty","setWidth","viewer","container","parentNode","scrollbarWidth","offsetWidth","curRoot","curActiveOrFocused","activeElement","querySelector","shadowRoot","layout","scrollMode","spreadMode","PDF_ROLE_TO_HTML_ROLE","Document","DocumentFragment","Part","Sect","Div","Aside","NonStruct","P","H","Title","FENote","Sub","Lbl","Span","Em","Strong","Link","Annot","Form","Ruby","RB","RT","RP","Warichu","WT","WP","L","LI","LBody","Table","TR","TH","TD","THead","TBody","TFoot","Caption","Figure","Formula","Artifact","HEADING_PATTERN","structTree","_walk","_setAttributes","structElement","htmlElement","alt","setAttribute","lang","node","role","match","children","kid","EXPAND_DIVS_TIMEOUT","textContent","textContentItemsStr","textContentStream","renderingDone","textDivs","textLayerRenderTask","_bindMouse","_finishRendering","endOfContent","numTextDivs","timeout","setTextMapping","textLayerFrag","createDocumentFragment","renderTextLayer","promise","enable","reason","disable","setTextContentStream","readableStream","setTextContent","expandDivsTimer","expandTextDivs","clearTimeout","end","adjustTop","getPropertyValue","divBounds","getBoundingClientRect","pageY","toFixed","setTimeout","xfaHtml","XfaLayer","getXfa","PDFViewer","PDFSinglePageViewer","_base_viewer","BaseViewer","_resetView","_scrollMode","_spreadMode","_updateScrollMode","_updateSpreadMode","PagesCountLimit","PDFPageViewBuffer","_pdf_page_view","_pdf_rendering_queue","_text_highlighter","DEFAULT_CACHE_SIZE","ENABLE_PERMISSIONS_CLASS","FORCE_SCROLL_MODE_PAGE","FORCE_LAZY_PAGE_INIT","PAUSE_EAGER_PAGE_INIT","isValidAnnotationEditorMode","AnnotationEditorType","buf","delete","destroyFirstView","resize","newSize","idsToKeep","ii","Symbol","iterator","keys","firstView","next","buffer","annotationEditorMode","annotationEditorUIManager","annotationMode","AnnotationMode","ENABLE_FORMS","enablePermissions","previousContainerHeight","scrollModePageState","onVisibilityChange","viewerVersion","version","firstElementChild","tagName","toUpperCase","position","findController","_scriptingManager","scriptingManager","removePageBorders","textLayerMode","enablePrintAutoRotate","renderer","useOnlyCssZoom","maxCanvasPixels","pageColors","CSS","supports","background","foreground","warn","defaultRenderingQueue","renderingQueue","PDFRenderingQueue","scroll","_scrollUpdate","bind","presentationModeState","_onBeforeDraw","_onAfterDraw","updateContainerHeightCss","_pages","getPageView","pageViewsReady","_pagesCapability","settled","every","pageView","_currentPageNumber","_setCurrentPageNumber","resetCurrentPageView","previous","pageLabel","_pageLabels","currentPageLabel","indexOf","currentScale","_currentScale","_setScale","currentScaleValue","_currentScaleValue","_pagesRotation","updateArgs","firstPagePromise","_firstPageCapability","onePageRendered","_onePageRenderedCapability","pagesPromise","initializePermissions","permissions","PermissionFlag","COPY","MODIFY_CONTENTS","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","onePageRenderedOrForceFetch","visibilityState","_getVisiblePages","visibilityChangePromise","removeEventListener","race","_cancelRendering","isPureXfa","getPage","optionalContentConfigPromise","getOptionalContentConfig","permissionsPromise","getPermissions","_on","cssTransform","timestamp","_off","firstPdfPage","_optionalContentConfigPromise","AnnotationEditorUIManager","updateMode","viewerElement","scale","getViewport","PixelsPerInch","PDF_TO_CSS_UNITS","textLayerFactory","annotationLayerFactory","xfaLayerFactory","annotationEditorLayerFactory","PDFPageView","defaultViewport","textHighlighterFactory","structTreeLayerFactory","firstPageView","setPdfPage","ref","ensurePageViewVisible","loadingParams","disableAutoFetch","getPagesLeft","getMetadata","info","Language","reject","setPageLabels","labels","setPageLabel","_location","createPromiseCapability","_previousScrollMode","previousPageNumber","scrollDown","pages","removeAttribute","isInPresentationMode","pageIndexSet","parity","spread","dummyPage","pageSpot","isSameScale","newScale","_setScaleUpdatePages","newValue","noScroll","preset","presetValue","isChangingPresentationMode","_pageWidthScaleFactor","currentPage","hPadding","vPadding","pageWidthScale","pageHeightScale","horizontalScale","label","widthScale","heightScale","pageWidth","pageHeight","boundingRect","convertToViewportPoint","_updateLocation","firstPage","normalizedScaleValue","currentPageView","topLeft","getPagePoint","intLeft","intTop","pdfOpenParams","visiblePages","numVisiblePages","newCacheSize","renderHighestPriority","isSimpleLayout","currentId","stillFullyVisible","location","containsElement","focus","_isContainerRtl","direction","isHorizontalScrollbarEnabled","isVerticalScrollbarEnabled","cleanup","renderingState","reset","cancelRendering","ensurePdfPageLoaded","getScrollAhead","toggleLoadingIconSpinner","visibleIds","forceRendering","currentlyVisiblePages","scrollAhead","preRenderExtra","getHighestPriority","renderView","createTextHighlighter","TextHighlighter","getFieldObjects","hasEqualPageSizes","getPagesOverview","map","toggle","cloneNode","_getPageAdvance","pageLayout","yArray","expectedId","firstId","lastId","advance","increaseScale","steps","ceil","decreaseScale","annotationEditorParams","type","updateParams","refresh","_app_options","_text_accessibility","MAX_CANVAS_PIXELS","compatibilityParams","useThumbnailCanvas","initialOptionalContent","regularAnnotations","renderingId","pdfPageRotate","hasRestrictedScaling","textHighlighter","paintTask","paintedViewportMap","WeakMap","resume","_renderError","_isStandalone","hasViewer","annotationLayer","textLayer","zoomLayer","xfaLayer","structTreeLayer","msg","optionalContentConfig","hasInitialVisibility","totalRotation","_renderAnnotationLayer","_renderAnnotationEditorLayer","_renderXfaLayer","_buildXfaTextContentItems","getTextContent","item","_resetZoomLayer","removeFromDOM","zoomLayerCanvas","firstChild","keepZoomLayer","keepAnnotationLayer","keepAnnotationEditorLayer","keepXfaLayer","childNodes","zoomLayerNode","annotationLayerNode","annotationEditorLayerNode","xfaLayerNode","canvas","svg","loadingIconDiv","redrawAnnotationLayer","redrawAnnotationEditorLayer","redrawXfaLayer","performance","now","isScalingRestricted","outputScale","_onTextLayerRendered","relativeRotation","absRotation","scaleX","scaleY","transform","textLayerViewport","textRelativeRotation","textAbsRotation","transX","transY","transformOrigin","convertToPdfPoint","viewVisible","draw","canvasWrapper","lastDivBeforeTextDiv","before","TextAccessibilityManager","renderContinueCallback","cont","isHighestPriority","finishPaintTask","RenderingCancelledException","separateAnnots","paintOnSvg","paintOnCanvas","onRenderContinue","resultPromise","streamTextContent","includeMarkedContent","event","getStructTree","tree","treeDom","renderCapability","renderTask","isCanvasHidden","showCanvas","ctx","getContext","alpha","actualSizeViewport","pixelsInViewport","maxScale","sqrt","sfx","sfy","renderContext","canvasContext","onContinue","wrapper","cancelled","ensureNotCancelled","getOperatorList","opList","svgGfx","SVGGraphics","commonObjs","objs","getSVG","thumbnailCanvas","OptionKind","AppOptions","create","userAgent","navigator","platform","maxTouchPoints","isAndroid","test","isIOS","checkCanvasSizeLimitation","VIEWER","API","WORKER","PREFERENCE","defaultOptions","kind","cursorToolOnLoad","defaultZoomValue","disableHistory","disablePageLabels","historyUpdateUrl","forcePageColors","pageColorsBackground","pageColorsForeground","pdfBugEnabled","printResolution","sidebarViewOnLoad","scrollModeOnLoad","spreadModeOnLoad","viewerCssTheme","viewOnLoad","cMapPacked","cMapUrl","disableFontFace","disableRange","disableStream","docBaseUrl","enableXfa","fontExtraProperties","isEvalSupported","maxImageSize","pdfBug","standardFontDataUrl","verbosity","workerPort","workerSrc","defaultUrl","disablePreferences","locale","language","sandboxBundleSrc","userOptions","userOption","defaultOption","getAll","valueType","setAll","_hasUserOptions","textChildren","textNodes","waitingElements","compareElementPositions","e1","e2","rect1","rect2","top1","bot1","mid1","top2","bot2","mid2","centerX1","centerX2","slice","nodeIndex","addIdToAriaOwns","isRemovable","addPointerInTextLayer","removePointerInTextLayer","owns","getAttribute","filter","join","moveElementInDOM","contentElement","hasChildNodes","from","elementToCompare","after","CLEANUP_TIMEOUT","pdfThumbnailViewer","onIdle","highestPriorityPage","idleTimeout","printing","isThumbnailViewEnabled","setThumbnailViewer","scrolledDown","visibleViews","numVisible","isViewFinished","holeId","holeView","preRenderIndex","preRenderView","finally","matches","pageIdx","_onUpdateTextLayerMatches","divs","texts","_updateMatches","_convertMatches","matchesLength","iIndex","m","mm","matchIdx","begin","divIdx","offset","_renderMatches","isSelectedPage","selected","selectedMatchIdx","highlightAll","prevEnd","infinity","beginText","appendTextToDiv","fromOffset","toOffset","nodeType","Node","TEXT_NODE","span","content","substring","createTextNode","i0","i1","isSelected","highlightSuffix","selectedLeft","n0","n1","scrollMatchIntoView","matchIndex","clearedUntilDivIdx","n","highlightMatches","pageMatches","pageMatchesLength","DownloadManager","download","blobUrl","filename","click","body","_openBlobUrls","downloadUrl","createValidAbsoluteUrl","downloadData","data","contentType","URL","createObjectURL","Blob","openOrDownloadData","isPdfData","isPdfFile","viewerUrl","encodeURIComponent","open","revokeObjectURL","blob","WaitOnType","EventBus","AutomationEventBus","waitOnEventOrTimeout","EVENT","TIMEOUT","delay","handler","eventHandler","timeoutHandler","_listeners","on","eventName","listener","external","once","off","eventListeners","externalListeners","splice","GenericL10n","webL10n","_lang","_ready","setLanguage","gL10nData","gTextData","gTextProp","gLanguage","gMacros","gReadyState","gAsyncResourceLoading","getL10nResourceLinks","querySelectorAll","getL10nDictionary","script","innerHTML","getTranslatableChildren","getL10nAttributes","l10nId","l10nArgs","e","xhrLoadText","onSuccess","onFailure","_onSuccess","_onFailure","xhr","XMLHttpRequest","overrideMimeType","onreadystatechange","readyState","status","responseText","onerror","ontimeout","send","parseResource","successCallback","failureCallback","baseURL","evalString","lastIndexOf","parseProperties","parsedPropertiesCallback","dictionary","reBlank","reComment","reSection","reImport","reSplit","parseRawLines","rawText","extendedSyntax","parsedRawLinesCallback","entries","currentLang","genericLang","skipLang","nextEntry","line","shift","exec","loadImport","tmp","response","prop","loadLocale","_callback","langLinks","langCount","dict","locales","default_locale","log","defaultLocale","anyCaseLang","onResourceLoaded","gResourceCount","L10nResourceLink","load","resource","getPluralRules","locales2rules","isIn","list","isBetween","pluralRules","plural","_pluralRules","getL10nData","rv","substIndexes","substArguments","reIndex","reMatch","macroName","paramName","macro","reArgs","matched_text","arg","translateElement","getChildElementCount","found","l","nodeValue","textNode","prepend","k","childElementCount","count","translateFragment","elementCount","fallbackString","getData","getText","rtlList","shortCode","getReadyState","ready","PDFFindController","FindState","_pdf_find_utils","FOUND","NOT_FOUND","PENDING","FIND_TIMEOUT","MATCH_SCROLL_OFFSET_TOP","MATCH_SCROLL_OFFSET_LEFT","CHARACTERS_TO_NORMALIZE","DIACRITICS_EXCEPTION","DIACRITICS_EXCEPTION_STR","String","fromCharCode","DIACRITICS_REG_EXP","SPECIAL_CHARS_REG_EXP","NOT_DIACRITIC_FROM_END_REG_EXP","NOT_DIACRITIC_FROM_START_REG_EXP","SYLLABLES_REG_EXP","SYLLABLES_LENGTHS","FIRST_CHAR_SYLLABLES_REG_EXP","noSyllablesRegExp","withSyllablesRegExp","normalize","syllablePositions","char","len","normalizationRegex","regexp","RegExp","rawDiacriticsPositions","normalized","positions","rawDiacriticsIndex","syllableIndex","shiftOrigin","eol","hasDiacritics","p1","p2","p3","p4","p5","replacement","jj","j","hasTrailingDashEOL","endsWith","charAt","newCharLen","getOriginalIndex","diffs","pos","_linkService","_eventBus","onFind","onFindBarClose","_highlightMatches","_pageMatches","_pageMatchesLength","_selected","_state","_pdfDocument","shouldDirtyMatch","_dirtyMatch","updateUIState","extractText","findbarClosed","pendingTimeout","_findTimeout","nextMatch","updateAllPages","_scrollMatches","_offset","wrapped","_extractTextPromises","_pageContents","_pageDiffs","_hasDiacritics","_matchesCountTotal","_pagesToSearch","_pendingFindMatches","_resumePageIdx","_rawQuery","_normalizedQuery","isEntireWord","startIdx","charCodeAt","getCharacterType","calculateRegExpMatch","entireWord","pageContent","matchPos","matchLen","convertToRegExpString","matchDiacritics","isUnicode","trailingSpaces","calculateMatch","caseSensitive","reverse","isUnicodePart","queryPart","flags","updatePage","nextPageMatch","pageMatchesCount","updateUIResultsCount","extractTextCapability","strBuf","textItem","hasEOL","findPrevious","currentPageIndex","numPageMatches","updateMatch","advanceOffsetPage","matchesReady","numMatches","requestMatchesCount","current","matchesCount","rawQuery","CharacterType","SPACE","ALPHA_LETTER","PUNCT","HAN_LETTER","KATAKANA_LETTER","HIRAGANA_LETTER","HALFWIDTH_KATAKANA_LETTER","THAI_LETTER","isAlphabeticalScript","charCode","isAscii","isAsciiAlpha","isAsciiDigit","isAsciiSpace","isHan","isKatakana","isHiragana","isHalfwidthKatakana","isThai","PDFHistory","isDestArraysEqual","isDestHashesEqual","_event_utils","HASH_CHANGE_TIMEOUT","POSITION_UPDATED_THRESHOLD","UPDATE_VIEWAREA_TIMEOUT","getCurrentHash","_initialized","_fingerprint","_boundEvents","_isPagesLoaded","initialize","fingerprint","resetHistory","updateUrl","reInitialized","_updateUrl","_bindEvents","history","_popStateInProgress","_blockHashChange","_currentHash","_numPositionUpdates","_uid","_maxUid","_destination","_position","_isValidState","_parseCurrentHash","_pushOrReplaceState","destination","_updateInternalState","uid","_initialRotation","_initialBookmark","_pageHide","_unbindEvents","_updateViewareaTimeout","_isValidPage","forceReplace","_tryPushCurrentPosition","popStateInProgress","initialBookmark","initialRotation","shouldReplace","newState","newUrl","startsWith","replaceState","pushState","temporary","assign","checkReload","perfEntry","getEntriesByType","removeTemporary","checkNameddest","nameddest","_updateViewarea","_popState","newHash","hashChanged","updateViewarea","popState","pageHide","destHash","pushHash","firstDest","secondDest","isEntryEqual","second","PDFScriptingManager","scriptingFactory","docPropertiesLookup","_pdfViewer","_closeCapability","_destroyCapability","_scripting","_sandboxBundleSrc","_scriptingFactory","_docPropertiesLookup","detail","_destroyScripting","objects","calculationOrder","docActions","getCalculationOrderIds","getJSActions","_createScripting","message","_internalEvents","_updateFromSandbox","dispatchEventInSandbox","_dispatchPageClose","_dispatchPageOpen","_pageOpenPending","_domEvents","isDown","docProperties","_getDocProperties","createSandbox","appInfo","docInfo","actions","dispatchWillSave","dispatchDidSave","dispatchWillPrint","dispatchDidPrint","destroyPromise","shadow","_visitedPages","siblings","command","modes","elementId","dispatchEvent","CustomEvent","setValue","visitedPages","actionsPromise","createScripting","GenericScripting","destroySandbox","metadata","contentDispositionFilename","contentLength","getDownloadInfo","filesize","getPdfFilenameFromUrl","getRaw","authors","loadScript","pdfjsSandbox","QuickJSSandbox","sandbox","nukeSandbox","__webpack_module_cache__","moduleId","cachedModule","__webpack_exports__","enumerable","_default_factory","_download_manager","_genericl10n","_pdf_find_controller","_pdf_history","_pdf_scripting_manager","_pdf_viewer","pdfjsVersion","pdfjsBuild"],"sources":["C:/Users/Vuk/Desktop/PIA projekat - februar 2024/Moj Najdrazi Nastavnik/frontend/node_modules/pdfjs-dist/web/pdf_viewer.js"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/web/pdf_viewer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/web/pdf_viewer\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/web/pdf_viewer\"] = root.pdfjsViewer = factory();\n})(globalThis, () => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ([\n/* 0 */,\n/* 1 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DefaultXfaLayerFactory = exports.DefaultTextLayerFactory = exports.DefaultStructTreeLayerFactory = exports.DefaultAnnotationLayerFactory = exports.DefaultAnnotationEditorLayerFactory = void 0;\n\nvar _annotation_editor_layer_builder = __w_pdfjs_require__(2);\n\nvar _annotation_layer_builder = __w_pdfjs_require__(5);\n\nvar _l10n_utils = __w_pdfjs_require__(4);\n\nvar _pdf_link_service = __w_pdfjs_require__(6);\n\nvar _struct_tree_layer_builder = __w_pdfjs_require__(8);\n\nvar _text_layer_builder = __w_pdfjs_require__(9);\n\nvar _xfa_layer_builder = __w_pdfjs_require__(10);\n\nclass DefaultAnnotationLayerFactory {\n  createAnnotationLayerBuilder({\n    pageDiv,\n    pdfPage,\n    annotationStorage = null,\n    imageResourcesPath = \"\",\n    renderForms = true,\n    l10n = _l10n_utils.NullL10n,\n    enableScripting = false,\n    hasJSActionsPromise = null,\n    mouseState = null,\n    fieldObjectsPromise = null,\n    annotationCanvasMap = null,\n    accessibilityManager = null\n  }) {\n    return new _annotation_layer_builder.AnnotationLayerBuilder({\n      pageDiv,\n      pdfPage,\n      imageResourcesPath,\n      renderForms,\n      linkService: new _pdf_link_service.SimpleLinkService(),\n      l10n,\n      annotationStorage,\n      enableScripting,\n      hasJSActionsPromise,\n      fieldObjectsPromise,\n      mouseState,\n      annotationCanvasMap,\n      accessibilityManager\n    });\n  }\n\n}\n\nexports.DefaultAnnotationLayerFactory = DefaultAnnotationLayerFactory;\n\nclass DefaultAnnotationEditorLayerFactory {\n  createAnnotationEditorLayerBuilder({\n    uiManager = null,\n    pageDiv,\n    pdfPage,\n    accessibilityManager = null,\n    l10n,\n    annotationStorage = null\n  }) {\n    return new _annotation_editor_layer_builder.AnnotationEditorLayerBuilder({\n      uiManager,\n      pageDiv,\n      pdfPage,\n      accessibilityManager,\n      l10n,\n      annotationStorage\n    });\n  }\n\n}\n\nexports.DefaultAnnotationEditorLayerFactory = DefaultAnnotationEditorLayerFactory;\n\nclass DefaultStructTreeLayerFactory {\n  createStructTreeLayerBuilder({\n    pdfPage\n  }) {\n    return new _struct_tree_layer_builder.StructTreeLayerBuilder({\n      pdfPage\n    });\n  }\n\n}\n\nexports.DefaultStructTreeLayerFactory = DefaultStructTreeLayerFactory;\n\nclass DefaultTextLayerFactory {\n  createTextLayerBuilder({\n    textLayerDiv,\n    pageIndex,\n    viewport,\n    enhanceTextSelection = false,\n    eventBus,\n    highlighter,\n    accessibilityManager = null\n  }) {\n    return new _text_layer_builder.TextLayerBuilder({\n      textLayerDiv,\n      pageIndex,\n      viewport,\n      enhanceTextSelection,\n      eventBus,\n      highlighter,\n      accessibilityManager\n    });\n  }\n\n}\n\nexports.DefaultTextLayerFactory = DefaultTextLayerFactory;\n\nclass DefaultXfaLayerFactory {\n  createXfaLayerBuilder({\n    pageDiv,\n    pdfPage,\n    annotationStorage = null\n  }) {\n    return new _xfa_layer_builder.XfaLayerBuilder({\n      pageDiv,\n      pdfPage,\n      annotationStorage,\n      linkService: new _pdf_link_service.SimpleLinkService()\n    });\n  }\n\n}\n\nexports.DefaultXfaLayerFactory = DefaultXfaLayerFactory;\n\n/***/ }),\n/* 2 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AnnotationEditorLayerBuilder = void 0;\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\nvar _l10n_utils = __w_pdfjs_require__(4);\n\nclass AnnotationEditorLayerBuilder {\n  #uiManager;\n\n  constructor(options) {\n    this.pageDiv = options.pageDiv;\n    this.pdfPage = options.pdfPage;\n    this.annotationStorage = options.annotationStorage || null;\n    this.accessibilityManager = options.accessibilityManager;\n    this.l10n = options.l10n || _l10n_utils.NullL10n;\n    this.annotationEditorLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this.#uiManager = options.uiManager;\n  }\n\n  async render(viewport, intent = \"display\") {\n    if (intent !== \"display\") {\n      return;\n    }\n\n    if (this._cancelled) {\n      return;\n    }\n\n    const clonedViewport = viewport.clone({\n      dontFlip: true\n    });\n\n    if (this.div) {\n      this.annotationEditorLayer.update({\n        viewport: clonedViewport\n      });\n      this.show();\n      return;\n    }\n\n    this.div = document.createElement(\"div\");\n    this.div.className = \"annotationEditorLayer\";\n    this.div.tabIndex = 0;\n    this.pageDiv.append(this.div);\n    this.annotationEditorLayer = new _pdfjsLib.AnnotationEditorLayer({\n      uiManager: this.#uiManager,\n      div: this.div,\n      annotationStorage: this.annotationStorage,\n      accessibilityManager: this.accessibilityManager,\n      pageIndex: this.pdfPage._pageIndex,\n      l10n: this.l10n,\n      viewport: clonedViewport\n    });\n    const parameters = {\n      viewport: clonedViewport,\n      div: this.div,\n      annotations: null,\n      intent\n    };\n    this.annotationEditorLayer.render(parameters);\n  }\n\n  cancel() {\n    this._cancelled = true;\n    this.destroy();\n  }\n\n  hide() {\n    if (!this.div) {\n      return;\n    }\n\n    this.div.hidden = true;\n  }\n\n  show() {\n    if (!this.div) {\n      return;\n    }\n\n    this.div.hidden = false;\n  }\n\n  destroy() {\n    if (!this.div) {\n      return;\n    }\n\n    this.pageDiv = null;\n    this.annotationEditorLayer.destroy();\n    this.div.remove();\n  }\n\n}\n\nexports.AnnotationEditorLayerBuilder = AnnotationEditorLayerBuilder;\n\n/***/ }),\n/* 3 */\n/***/ ((module) => {\n\n\n\nlet pdfjsLib;\n\nif (typeof window !== \"undefined\" && window[\"pdfjs-dist/build/pdf\"]) {\n  pdfjsLib = window[\"pdfjs-dist/build/pdf\"];\n} else {\n  pdfjsLib = require(\"../build/pdf.js\");\n}\n\nmodule.exports = pdfjsLib;\n\n/***/ }),\n/* 4 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.NullL10n = void 0;\nexports.fixupLangCode = fixupLangCode;\nexports.getL10nFallback = getL10nFallback;\nconst DEFAULT_L10N_STRINGS = {\n  of_pages: \"of {{pagesCount}}\",\n  page_of_pages: \"({{pageNumber}} of {{pagesCount}})\",\n  document_properties_kb: \"{{size_kb}} KB ({{size_b}} bytes)\",\n  document_properties_mb: \"{{size_mb}} MB ({{size_b}} bytes)\",\n  document_properties_date_string: \"{{date}}, {{time}}\",\n  document_properties_page_size_unit_inches: \"in\",\n  document_properties_page_size_unit_millimeters: \"mm\",\n  document_properties_page_size_orientation_portrait: \"portrait\",\n  document_properties_page_size_orientation_landscape: \"landscape\",\n  document_properties_page_size_name_a3: \"A3\",\n  document_properties_page_size_name_a4: \"A4\",\n  document_properties_page_size_name_letter: \"Letter\",\n  document_properties_page_size_name_legal: \"Legal\",\n  document_properties_page_size_dimension_string: \"{{width}} × {{height}} {{unit}} ({{orientation}})\",\n  document_properties_page_size_dimension_name_string: \"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})\",\n  document_properties_linearized_yes: \"Yes\",\n  document_properties_linearized_no: \"No\",\n  print_progress_percent: \"{{progress}}%\",\n  \"toggle_sidebar.title\": \"Toggle Sidebar\",\n  \"toggle_sidebar_notification2.title\": \"Toggle Sidebar (document contains outline/attachments/layers)\",\n  additional_layers: \"Additional Layers\",\n  page_landmark: \"Page {{page}}\",\n  thumb_page_title: \"Page {{page}}\",\n  thumb_page_canvas: \"Thumbnail of Page {{page}}\",\n  find_reached_top: \"Reached top of document, continued from bottom\",\n  find_reached_bottom: \"Reached end of document, continued from top\",\n  \"find_match_count[one]\": \"{{current}} of {{total}} match\",\n  \"find_match_count[other]\": \"{{current}} of {{total}} matches\",\n  \"find_match_count_limit[one]\": \"More than {{limit}} match\",\n  \"find_match_count_limit[other]\": \"More than {{limit}} matches\",\n  find_not_found: \"Phrase not found\",\n  error_version_info: \"PDF.js v{{version}} (build: {{build}})\",\n  error_message: \"Message: {{message}}\",\n  error_stack: \"Stack: {{stack}}\",\n  error_file: \"File: {{file}}\",\n  error_line: \"Line: {{line}}\",\n  rendering_error: \"An error occurred while rendering the page.\",\n  page_scale_width: \"Page Width\",\n  page_scale_fit: \"Page Fit\",\n  page_scale_auto: \"Automatic Zoom\",\n  page_scale_actual: \"Actual Size\",\n  page_scale_percent: \"{{scale}}%\",\n  loading: \"Loading…\",\n  loading_error: \"An error occurred while loading the PDF.\",\n  invalid_file_error: \"Invalid or corrupted PDF file.\",\n  missing_file_error: \"Missing PDF file.\",\n  unexpected_response_error: \"Unexpected server response.\",\n  printing_not_supported: \"Warning: Printing is not fully supported by this browser.\",\n  printing_not_ready: \"Warning: The PDF is not fully loaded for printing.\",\n  web_fonts_disabled: \"Web fonts are disabled: unable to use embedded PDF fonts.\",\n  free_text_default_content: \"Enter text…\",\n  editor_free_text_aria_label: \"FreeText Editor\",\n  editor_ink_aria_label: \"Ink Editor\",\n  editor_ink_canvas_aria_label: \"User-created image\"\n};\n\nfunction getL10nFallback(key, args) {\n  switch (key) {\n    case \"find_match_count\":\n      key = `find_match_count[${args.total === 1 ? \"one\" : \"other\"}]`;\n      break;\n\n    case \"find_match_count_limit\":\n      key = `find_match_count_limit[${args.limit === 1 ? \"one\" : \"other\"}]`;\n      break;\n  }\n\n  return DEFAULT_L10N_STRINGS[key] || \"\";\n}\n\nconst PARTIAL_LANG_CODES = {\n  en: \"en-US\",\n  es: \"es-ES\",\n  fy: \"fy-NL\",\n  ga: \"ga-IE\",\n  gu: \"gu-IN\",\n  hi: \"hi-IN\",\n  hy: \"hy-AM\",\n  nb: \"nb-NO\",\n  ne: \"ne-NP\",\n  nn: \"nn-NO\",\n  pa: \"pa-IN\",\n  pt: \"pt-PT\",\n  sv: \"sv-SE\",\n  zh: \"zh-CN\"\n};\n\nfunction fixupLangCode(langCode) {\n  return PARTIAL_LANG_CODES[langCode?.toLowerCase()] || langCode;\n}\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n\n  async getDirection() {\n    return \"ltr\";\n  },\n\n  async get(key, args = null, fallback = getL10nFallback(key, args)) {\n    return formatL10nValue(fallback, args);\n  },\n\n  async translate(element) {}\n\n};\nexports.NullL10n = NullL10n;\n\n/***/ }),\n/* 5 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AnnotationLayerBuilder = void 0;\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\nvar _l10n_utils = __w_pdfjs_require__(4);\n\nclass AnnotationLayerBuilder {\n  constructor({\n    pageDiv,\n    pdfPage,\n    linkService,\n    downloadManager,\n    annotationStorage = null,\n    imageResourcesPath = \"\",\n    renderForms = true,\n    l10n = _l10n_utils.NullL10n,\n    enableScripting = false,\n    hasJSActionsPromise = null,\n    fieldObjectsPromise = null,\n    mouseState = null,\n    annotationCanvasMap = null,\n    accessibilityManager = null\n  }) {\n    this.pageDiv = pageDiv;\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.imageResourcesPath = imageResourcesPath;\n    this.renderForms = renderForms;\n    this.l10n = l10n;\n    this.annotationStorage = annotationStorage;\n    this.enableScripting = enableScripting;\n    this._hasJSActionsPromise = hasJSActionsPromise;\n    this._fieldObjectsPromise = fieldObjectsPromise;\n    this._mouseState = mouseState;\n    this._annotationCanvasMap = annotationCanvasMap;\n    this._accessibilityManager = accessibilityManager;\n    this.div = null;\n    this._cancelled = false;\n  }\n\n  async render(viewport, intent = \"display\") {\n    const [annotations, hasJSActions = false, fieldObjects = null] = await Promise.all([this.pdfPage.getAnnotations({\n      intent\n    }), this._hasJSActionsPromise, this._fieldObjectsPromise]);\n\n    if (this._cancelled || annotations.length === 0) {\n      return;\n    }\n\n    const parameters = {\n      viewport: viewport.clone({\n        dontFlip: true\n      }),\n      div: this.div,\n      annotations,\n      page: this.pdfPage,\n      imageResourcesPath: this.imageResourcesPath,\n      renderForms: this.renderForms,\n      linkService: this.linkService,\n      downloadManager: this.downloadManager,\n      annotationStorage: this.annotationStorage,\n      enableScripting: this.enableScripting,\n      hasJSActions,\n      fieldObjects,\n      mouseState: this._mouseState,\n      annotationCanvasMap: this._annotationCanvasMap,\n      accessibilityManager: this._accessibilityManager\n    };\n\n    if (this.div) {\n      _pdfjsLib.AnnotationLayer.update(parameters);\n    } else {\n      this.div = document.createElement(\"div\");\n      this.div.className = \"annotationLayer\";\n      this.pageDiv.append(this.div);\n      parameters.div = this.div;\n\n      _pdfjsLib.AnnotationLayer.render(parameters);\n\n      this.l10n.translate(this.div);\n    }\n  }\n\n  cancel() {\n    this._cancelled = true;\n  }\n\n  hide() {\n    if (!this.div) {\n      return;\n    }\n\n    this.div.hidden = true;\n  }\n\n}\n\nexports.AnnotationLayerBuilder = AnnotationLayerBuilder;\n\n/***/ }),\n/* 6 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SimpleLinkService = exports.PDFLinkService = exports.LinkTarget = void 0;\n\nvar _ui_utils = __w_pdfjs_require__(7);\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst LinkTarget = {\n  NONE: 0,\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4\n};\nexports.LinkTarget = LinkTarget;\n\nfunction addLinkAttributes(link, {\n  url,\n  target,\n  rel,\n  enabled = true\n} = {}) {\n  if (!url || typeof url !== \"string\") {\n    throw new Error('A valid \"url\" parameter must provided.');\n  }\n\n  const urlNullRemoved = (0, _ui_utils.removeNullCharacters)(url);\n\n  if (enabled) {\n    link.href = link.title = urlNullRemoved;\n  } else {\n    link.href = \"\";\n    link.title = `Disabled: ${urlNullRemoved}`;\n\n    link.onclick = () => {\n      return false;\n    };\n  }\n\n  let targetStr = \"\";\n\n  switch (target) {\n    case LinkTarget.NONE:\n      break;\n\n    case LinkTarget.SELF:\n      targetStr = \"_self\";\n      break;\n\n    case LinkTarget.BLANK:\n      targetStr = \"_blank\";\n      break;\n\n    case LinkTarget.PARENT:\n      targetStr = \"_parent\";\n      break;\n\n    case LinkTarget.TOP:\n      targetStr = \"_top\";\n      break;\n  }\n\n  link.target = targetStr;\n  link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n}\n\nclass PDFLinkService {\n  #pagesRefCache = new Map();\n\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    ignoreDestinationZoom = false\n  } = {}) {\n    this.eventBus = eventBus;\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this.externalLinkEnabled = true;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n  }\n\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n    this.#pagesRefCache.clear();\n  }\n\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n\n  get page() {\n    return this.pdfViewer.currentPageNumber;\n  }\n\n  set page(value) {\n    this.pdfViewer.currentPageNumber = value;\n  }\n\n  get rotation() {\n    return this.pdfViewer.pagesRotation;\n  }\n\n  set rotation(value) {\n    this.pdfViewer.pagesRotation = value;\n  }\n\n  #goToDestinationHelper(rawDest, namedDest = null, explicitDest) {\n    const destRef = explicitDest[0];\n    let pageNumber;\n\n    if (typeof destRef === \"object\" && destRef !== null) {\n      pageNumber = this._cachedPageNumber(destRef);\n\n      if (!pageNumber) {\n        this.pdfDocument.getPageIndex(destRef).then(pageIndex => {\n          this.cachePageRef(pageIndex + 1, destRef);\n          this.#goToDestinationHelper(rawDest, namedDest, explicitDest);\n        }).catch(() => {\n          console.error(`PDFLinkService.#goToDestinationHelper: \"${destRef}\" is not ` + `a valid page reference, for dest=\"${rawDest}\".`);\n        });\n        return;\n      }\n    } else if (Number.isInteger(destRef)) {\n      pageNumber = destRef + 1;\n    } else {\n      console.error(`PDFLinkService.#goToDestinationHelper: \"${destRef}\" is not ` + `a valid destination reference, for dest=\"${rawDest}\".`);\n      return;\n    }\n\n    if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n      console.error(`PDFLinkService.#goToDestinationHelper: \"${pageNumber}\" is not ` + `a valid page number, for dest=\"${rawDest}\".`);\n      return;\n    }\n\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.push({\n        namedDest,\n        explicitDest,\n        pageNumber\n      });\n    }\n\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber,\n      destArray: explicitDest,\n      ignoreDestinationZoom: this._ignoreDestinationZoom\n    });\n  }\n\n  async goToDestination(dest) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    let namedDest, explicitDest;\n\n    if (typeof dest === \"string\") {\n      namedDest = dest;\n      explicitDest = await this.pdfDocument.getDestination(dest);\n    } else {\n      namedDest = null;\n      explicitDest = await dest;\n    }\n\n    if (!Array.isArray(explicitDest)) {\n      console.error(`PDFLinkService.goToDestination: \"${explicitDest}\" is not ` + `a valid destination array, for dest=\"${dest}\".`);\n      return;\n    }\n\n    this.#goToDestinationHelper(dest, namedDest, explicitDest);\n  }\n\n  goToPage(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const pageNumber = typeof val === \"string\" && this.pdfViewer.pageLabelToPageNumber(val) || val | 0;\n\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`PDFLinkService.goToPage: \"${val}\" is not a valid page.`);\n      return;\n    }\n\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.pushPage(pageNumber);\n    }\n\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber\n    });\n  }\n\n  addLinkAttributes(link, url, newWindow = false) {\n    addLinkAttributes(link, {\n      url,\n      target: newWindow ? LinkTarget.BLANK : this.externalLinkTarget,\n      rel: this.externalLinkRel,\n      enabled: this.externalLinkEnabled\n    });\n  }\n\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      if (dest.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(dest));\n      }\n    } else if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n\n      if (str.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(str));\n      }\n    }\n\n    return this.getAnchorUrl(\"\");\n  }\n\n  getAnchorUrl(anchor) {\n    return (this.baseUrl || \"\") + anchor;\n  }\n\n  setHash(hash) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    let pageNumber, dest;\n\n    if (hash.includes(\"=\")) {\n      const params = (0, _ui_utils.parseQueryString)(hash);\n\n      if (params.has(\"search\")) {\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: params.get(\"search\").replace(/\"/g, \"\"),\n          phraseSearch: params.get(\"phrase\") === \"true\"\n        });\n      }\n\n      if (params.has(\"page\")) {\n        pageNumber = params.get(\"page\") | 0 || 1;\n      }\n\n      if (params.has(\"zoom\")) {\n        const zoomArgs = params.get(\"zoom\").split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else {\n          if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n            dest = [null, {\n              name: zoomArg\n            }];\n          } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n          } else if (zoomArg === \"FitR\") {\n            if (zoomArgs.length !== 5) {\n              console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n            } else {\n              dest = [null, {\n                name: zoomArg\n              }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n            }\n          } else {\n            console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not a valid zoom value.`);\n          }\n        }\n      }\n\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n\n      if (params.has(\"pagemode\")) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.get(\"pagemode\")\n        });\n      }\n\n      if (params.has(\"nameddest\")) {\n        this.goToDestination(params.get(\"nameddest\"));\n      }\n    } else {\n      dest = unescape(hash);\n\n      try {\n        dest = JSON.parse(dest);\n\n        if (!Array.isArray(dest)) {\n          dest = dest.toString();\n        }\n      } catch (ex) {}\n\n      if (typeof dest === \"string\" || PDFLinkService.#isValidExplicitDestination(dest)) {\n        this.goToDestination(dest);\n        return;\n      }\n\n      console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not a valid destination.`);\n    }\n  }\n\n  executeNamedAction(action) {\n    switch (action) {\n      case \"GoBack\":\n        this.pdfHistory?.back();\n        break;\n\n      case \"GoForward\":\n        this.pdfHistory?.forward();\n        break;\n\n      case \"NextPage\":\n        this.pdfViewer.nextPage();\n        break;\n\n      case \"PrevPage\":\n        this.pdfViewer.previousPage();\n        break;\n\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n\n      default:\n        break;\n    }\n\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n\n  cachePageRef(pageNum, pageRef) {\n    if (!pageRef) {\n      return;\n    }\n\n    const refStr = pageRef.gen === 0 ? `${pageRef.num}R` : `${pageRef.num}R${pageRef.gen}`;\n    this.#pagesRefCache.set(refStr, pageNum);\n  }\n\n  _cachedPageNumber(pageRef) {\n    if (!pageRef) {\n      return null;\n    }\n\n    const refStr = pageRef.gen === 0 ? `${pageRef.num}R` : `${pageRef.num}R${pageRef.gen}`;\n    return this.#pagesRefCache.get(refStr) || null;\n  }\n\n  isPageVisible(pageNumber) {\n    return this.pdfViewer.isPageVisible(pageNumber);\n  }\n\n  isPageCached(pageNumber) {\n    return this.pdfViewer.isPageCached(pageNumber);\n  }\n\n  static #isValidExplicitDestination(dest) {\n    if (!Array.isArray(dest)) {\n      return false;\n    }\n\n    const destLength = dest.length;\n\n    if (destLength < 2) {\n      return false;\n    }\n\n    const page = dest[0];\n\n    if (!(typeof page === \"object\" && Number.isInteger(page.num) && Number.isInteger(page.gen)) && !(Number.isInteger(page) && page >= 0)) {\n      return false;\n    }\n\n    const zoom = dest[1];\n\n    if (!(typeof zoom === \"object\" && typeof zoom.name === \"string\")) {\n      return false;\n    }\n\n    let allowNull = true;\n\n    switch (zoom.name) {\n      case \"XYZ\":\n        if (destLength !== 5) {\n          return false;\n        }\n\n        break;\n\n      case \"Fit\":\n      case \"FitB\":\n        return destLength === 2;\n\n      case \"FitH\":\n      case \"FitBH\":\n      case \"FitV\":\n      case \"FitBV\":\n        if (destLength !== 3) {\n          return false;\n        }\n\n        break;\n\n      case \"FitR\":\n        if (destLength !== 6) {\n          return false;\n        }\n\n        allowNull = false;\n        break;\n\n      default:\n        return false;\n    }\n\n    for (let i = 2; i < destLength; i++) {\n      const param = dest[i];\n\n      if (!(typeof param === \"number\" || allowNull && param === null)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n}\n\nexports.PDFLinkService = PDFLinkService;\n\nclass SimpleLinkService {\n  constructor() {\n    this.externalLinkEnabled = true;\n  }\n\n  get pagesCount() {\n    return 0;\n  }\n\n  get page() {\n    return 0;\n  }\n\n  set page(value) {}\n\n  get rotation() {\n    return 0;\n  }\n\n  set rotation(value) {}\n\n  async goToDestination(dest) {}\n\n  goToPage(val) {}\n\n  addLinkAttributes(link, url, newWindow = false) {\n    addLinkAttributes(link, {\n      url,\n      enabled: this.externalLinkEnabled\n    });\n  }\n\n  getDestinationHash(dest) {\n    return \"#\";\n  }\n\n  getAnchorUrl(hash) {\n    return \"#\";\n  }\n\n  setHash(hash) {}\n\n  executeNamedAction(action) {}\n\n  cachePageRef(pageNum, pageRef) {}\n\n  isPageVisible(pageNumber) {\n    return true;\n  }\n\n  isPageCached(pageNumber) {\n    return true;\n  }\n\n}\n\nexports.SimpleLinkService = SimpleLinkService;\n\n/***/ }),\n/* 7 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.animationStarted = exports.VERTICAL_PADDING = exports.UNKNOWN_SCALE = exports.TextLayerMode = exports.SpreadMode = exports.SidebarView = exports.ScrollMode = exports.SCROLLBAR_PADDING = exports.RenderingStates = exports.RendererType = exports.ProgressBar = exports.PresentationModeState = exports.OutputScale = exports.MIN_SCALE = exports.MAX_SCALE = exports.MAX_AUTO_SCALE = exports.DEFAULT_SCALE_VALUE = exports.DEFAULT_SCALE_DELTA = exports.DEFAULT_SCALE = exports.AutoPrintRegExp = void 0;\nexports.apiPageLayoutToViewerModes = apiPageLayoutToViewerModes;\nexports.apiPageModeToSidebarView = apiPageModeToSidebarView;\nexports.approximateFraction = approximateFraction;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.docStyle = void 0;\nexports.getActiveOrFocusedElement = getActiveOrFocusedElement;\nexports.getPageSizeInches = getPageSizeInches;\nexports.getVisibleElements = getVisibleElements;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.normalizeWheelEventDirection = normalizeWheelEventDirection;\nexports.parseQueryString = parseQueryString;\nexports.removeNullCharacters = removeNullCharacters;\nexports.roundToDivide = roundToDivide;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nconst DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nconst DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nconst DEFAULT_SCALE_DELTA = 1.1;\nexports.DEFAULT_SCALE_DELTA = DEFAULT_SCALE_DELTA;\nconst MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nconst MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nconst UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nconst MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nconst SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nconst VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nexports.RenderingStates = RenderingStates;\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nconst SidebarView = {\n  UNKNOWN: -1,\n  NONE: 0,\n  THUMBS: 1,\n  OUTLINE: 2,\n  ATTACHMENTS: 3,\n  LAYERS: 4\n};\nexports.SidebarView = SidebarView;\nconst RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2,\n  PAGE: 3\n};\nexports.ScrollMode = ScrollMode;\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nclass OutputScale {\n  constructor() {\n    const pixelRatio = window.devicePixelRatio || 1;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n\n}\n\nexports.OutputScale = OutputScale;\n\nfunction scrollIntoView(element, spot, scrollMatches = false) {\n  let parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || scrollMatches && (parent.classList.contains(\"markedContent\") || getComputedStyle(parent).overflow === \"hidden\")) {\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  const params = new Map();\n\n  for (const [key, value] of new URLSearchParams(query)) {\n    params.set(key.toLowerCase(), value);\n  }\n\n  return params;\n}\n\nconst NullCharactersRegExp = /\\x00/g;\nconst InvisibleCharactersRegExp = /[\\x01-\\x1F]/g;\n\nfunction removeNullCharacters(str, replaceInvisible = false) {\n  if (typeof str !== \"string\") {\n    console.error(`The argument must be a string.`);\n    return str;\n  }\n\n  if (replaceInvisible) {\n    str = str.replace(InvisibleCharactersRegExp, \" \");\n  }\n\n  return str.replace(NullCharactersRegExp, \"\");\n}\n\nfunction binarySearchFirstItem(items, condition, start = 0) {\n  let minIndex = start;\n  let maxIndex = items.length - 1;\n\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    const p = a + c,\n          q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  let result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  const r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements({\n  scrollEl,\n  views,\n  sortByVisibility = false,\n  horizontal = false,\n  rtl = false\n}) {\n  const top = scrollEl.scrollTop,\n        bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n        right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementNextAfterViewHorizontally(view) {\n    const element = view.div;\n    const elementLeft = element.offsetLeft + element.clientLeft;\n    const elementRight = elementLeft + element.clientWidth;\n    return rtl ? elementLeft < right : elementRight > left;\n  }\n\n  const visible = [],\n        ids = new Set(),\n        numViews = views.length;\n  let firstVisibleElementInd = binarySearchFirstItem(views, horizontal ? isElementNextAfterViewHorizontally : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  let lastEdge = horizontal ? right : -1;\n\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n          element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n          viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const fractionHeight = (viewHeight - hiddenHeight) / viewHeight,\n          fractionWidth = (viewWidth - hiddenWidth) / viewWidth;\n    const percent = fractionHeight * fractionWidth * 100 | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent,\n      widthPercent: fractionWidth * 100 | 0\n    });\n    ids.add(view.id);\n  }\n\n  const first = visible[0],\n        last = visible.at(-1);\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first,\n    last,\n    views: visible,\n    ids\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction normalizeWheelEventDirection(evt) {\n  let delta = Math.hypot(evt.deltaX, evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  return delta;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  let delta = normalizeWheelEventDirection(evt);\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\nconst docStyle = document.documentElement.style;\nexports.docStyle = docStyle;\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  #classList = null;\n  #percent = 0;\n  #visible = true;\n\n  constructor(id) {\n    if (arguments.length > 1) {\n      throw new Error(\"ProgressBar no longer accepts any additional options, \" + \"please use CSS rules to modify its appearance instead.\");\n    }\n\n    const bar = document.getElementById(id);\n    this.#classList = bar.classList;\n  }\n\n  get percent() {\n    return this.#percent;\n  }\n\n  set percent(val) {\n    this.#percent = clamp(val, 0, 100);\n\n    if (isNaN(val)) {\n      this.#classList.add(\"indeterminate\");\n      return;\n    }\n\n    this.#classList.remove(\"indeterminate\");\n    docStyle.setProperty(\"--progressBar-percent\", `${this.#percent}%`);\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n    if (scrollbarWidth > 0) {\n      docStyle.setProperty(\"--progressBar-end-offset\", `${scrollbarWidth}px`);\n    }\n  }\n\n  hide() {\n    if (!this.#visible) {\n      return;\n    }\n\n    this.#visible = false;\n    this.#classList.add(\"hidden\");\n  }\n\n  show() {\n    if (this.#visible) {\n      return;\n    }\n\n    this.#visible = true;\n    this.#classList.remove(\"hidden\");\n  }\n\n}\n\nexports.ProgressBar = ProgressBar;\n\nfunction getActiveOrFocusedElement() {\n  let curRoot = document;\n  let curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n\n  while (curActiveOrFocused?.shadowRoot) {\n    curRoot = curActiveOrFocused.shadowRoot;\n    curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n  }\n\n  return curActiveOrFocused;\n}\n\nfunction apiPageLayoutToViewerModes(layout) {\n  let scrollMode = ScrollMode.VERTICAL,\n      spreadMode = SpreadMode.NONE;\n\n  switch (layout) {\n    case \"SinglePage\":\n      scrollMode = ScrollMode.PAGE;\n      break;\n\n    case \"OneColumn\":\n      break;\n\n    case \"TwoPageLeft\":\n      scrollMode = ScrollMode.PAGE;\n\n    case \"TwoColumnLeft\":\n      spreadMode = SpreadMode.ODD;\n      break;\n\n    case \"TwoPageRight\":\n      scrollMode = ScrollMode.PAGE;\n\n    case \"TwoColumnRight\":\n      spreadMode = SpreadMode.EVEN;\n      break;\n  }\n\n  return {\n    scrollMode,\n    spreadMode\n  };\n}\n\nfunction apiPageModeToSidebarView(mode) {\n  switch (mode) {\n    case \"UseNone\":\n      return SidebarView.NONE;\n\n    case \"UseThumbs\":\n      return SidebarView.THUMBS;\n\n    case \"UseOutlines\":\n      return SidebarView.OUTLINE;\n\n    case \"UseAttachments\":\n      return SidebarView.ATTACHMENTS;\n\n    case \"UseOC\":\n      return SidebarView.LAYERS;\n  }\n\n  return SidebarView.NONE;\n}\n\n/***/ }),\n/* 8 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.StructTreeLayerBuilder = void 0;\nconst PDF_ROLE_TO_HTML_ROLE = {\n  Document: null,\n  DocumentFragment: null,\n  Part: \"group\",\n  Sect: \"group\",\n  Div: \"group\",\n  Aside: \"note\",\n  NonStruct: \"none\",\n  P: null,\n  H: \"heading\",\n  Title: null,\n  FENote: \"note\",\n  Sub: \"group\",\n  Lbl: null,\n  Span: null,\n  Em: null,\n  Strong: null,\n  Link: \"link\",\n  Annot: \"note\",\n  Form: \"form\",\n  Ruby: null,\n  RB: null,\n  RT: null,\n  RP: null,\n  Warichu: null,\n  WT: null,\n  WP: null,\n  L: \"list\",\n  LI: \"listitem\",\n  LBody: null,\n  Table: \"table\",\n  TR: \"row\",\n  TH: \"columnheader\",\n  TD: \"cell\",\n  THead: \"columnheader\",\n  TBody: null,\n  TFoot: null,\n  Caption: null,\n  Figure: \"figure\",\n  Formula: null,\n  Artifact: null\n};\nconst HEADING_PATTERN = /^H(\\d+)$/;\n\nclass StructTreeLayerBuilder {\n  constructor({\n    pdfPage\n  }) {\n    this.pdfPage = pdfPage;\n  }\n\n  render(structTree) {\n    return this._walk(structTree);\n  }\n\n  _setAttributes(structElement, htmlElement) {\n    if (structElement.alt !== undefined) {\n      htmlElement.setAttribute(\"aria-label\", structElement.alt);\n    }\n\n    if (structElement.id !== undefined) {\n      htmlElement.setAttribute(\"aria-owns\", structElement.id);\n    }\n\n    if (structElement.lang !== undefined) {\n      htmlElement.setAttribute(\"lang\", structElement.lang);\n    }\n  }\n\n  _walk(node) {\n    if (!node) {\n      return null;\n    }\n\n    const element = document.createElement(\"span\");\n\n    if (\"role\" in node) {\n      const {\n        role\n      } = node;\n      const match = role.match(HEADING_PATTERN);\n\n      if (match) {\n        element.setAttribute(\"role\", \"heading\");\n        element.setAttribute(\"aria-level\", match[1]);\n      } else if (PDF_ROLE_TO_HTML_ROLE[role]) {\n        element.setAttribute(\"role\", PDF_ROLE_TO_HTML_ROLE[role]);\n      }\n    }\n\n    this._setAttributes(node, element);\n\n    if (node.children) {\n      if (node.children.length === 1 && \"id\" in node.children[0]) {\n        this._setAttributes(node.children[0], element);\n      } else {\n        for (const kid of node.children) {\n          element.append(this._walk(kid));\n        }\n      }\n    }\n\n    return element;\n  }\n\n}\n\nexports.StructTreeLayerBuilder = StructTreeLayerBuilder;\n\n/***/ }),\n/* 9 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TextLayerBuilder = void 0;\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\nconst EXPAND_DIVS_TIMEOUT = 300;\n\nclass TextLayerBuilder {\n  constructor({\n    textLayerDiv,\n    eventBus,\n    pageIndex,\n    viewport,\n    highlighter = null,\n    enhanceTextSelection = false,\n    accessibilityManager = null\n  }) {\n    this.textLayerDiv = textLayerDiv;\n    this.eventBus = eventBus;\n    this.textContent = null;\n    this.textContentItemsStr = [];\n    this.textContentStream = null;\n    this.renderingDone = false;\n    this.pageNumber = pageIndex + 1;\n    this.viewport = viewport;\n    this.textDivs = [];\n    this.textLayerRenderTask = null;\n    this.highlighter = highlighter;\n    this.enhanceTextSelection = enhanceTextSelection;\n    this.accessibilityManager = accessibilityManager;\n\n    this._bindMouse();\n  }\n\n  _finishRendering() {\n    this.renderingDone = true;\n\n    if (!this.enhanceTextSelection) {\n      const endOfContent = document.createElement(\"div\");\n      endOfContent.className = \"endOfContent\";\n      this.textLayerDiv.append(endOfContent);\n    }\n\n    this.eventBus.dispatch(\"textlayerrendered\", {\n      source: this,\n      pageNumber: this.pageNumber,\n      numTextDivs: this.textDivs.length\n    });\n  }\n\n  render(timeout = 0) {\n    if (!(this.textContent || this.textContentStream) || this.renderingDone) {\n      return;\n    }\n\n    this.cancel();\n    this.textDivs.length = 0;\n    this.highlighter?.setTextMapping(this.textDivs, this.textContentItemsStr);\n    this.accessibilityManager?.setTextMapping(this.textDivs);\n    const textLayerFrag = document.createDocumentFragment();\n    this.textLayerRenderTask = (0, _pdfjsLib.renderTextLayer)({\n      textContent: this.textContent,\n      textContentStream: this.textContentStream,\n      container: textLayerFrag,\n      viewport: this.viewport,\n      textDivs: this.textDivs,\n      textContentItemsStr: this.textContentItemsStr,\n      timeout,\n      enhanceTextSelection: this.enhanceTextSelection\n    });\n    this.textLayerRenderTask.promise.then(() => {\n      this.textLayerDiv.append(textLayerFrag);\n\n      this._finishRendering();\n\n      this.highlighter?.enable();\n      this.accessibilityManager?.enable();\n    }, function (reason) {});\n  }\n\n  cancel() {\n    if (this.textLayerRenderTask) {\n      this.textLayerRenderTask.cancel();\n      this.textLayerRenderTask = null;\n    }\n\n    this.highlighter?.disable();\n    this.accessibilityManager?.disable();\n  }\n\n  setTextContentStream(readableStream) {\n    this.cancel();\n    this.textContentStream = readableStream;\n  }\n\n  setTextContent(textContent) {\n    this.cancel();\n    this.textContent = textContent;\n  }\n\n  _bindMouse() {\n    const div = this.textLayerDiv;\n    let expandDivsTimer = null;\n    div.addEventListener(\"mousedown\", evt => {\n      if (this.enhanceTextSelection && this.textLayerRenderTask) {\n        this.textLayerRenderTask.expandTextDivs(true);\n\n        if (expandDivsTimer) {\n          clearTimeout(expandDivsTimer);\n          expandDivsTimer = null;\n        }\n\n        return;\n      }\n\n      const end = div.querySelector(\".endOfContent\");\n\n      if (!end) {\n        return;\n      }\n\n      let adjustTop = evt.target !== div;\n      adjustTop = adjustTop && window.getComputedStyle(end).getPropertyValue(\"-moz-user-select\") !== \"none\";\n\n      if (adjustTop) {\n        const divBounds = div.getBoundingClientRect();\n        const r = Math.max(0, (evt.pageY - divBounds.top) / divBounds.height);\n        end.style.top = (r * 100).toFixed(2) + \"%\";\n      }\n\n      end.classList.add(\"active\");\n    });\n    div.addEventListener(\"mouseup\", () => {\n      if (this.enhanceTextSelection && this.textLayerRenderTask) {\n        expandDivsTimer = setTimeout(() => {\n          if (this.textLayerRenderTask) {\n            this.textLayerRenderTask.expandTextDivs(false);\n          }\n\n          expandDivsTimer = null;\n        }, EXPAND_DIVS_TIMEOUT);\n        return;\n      }\n\n      const end = div.querySelector(\".endOfContent\");\n\n      if (!end) {\n        return;\n      }\n\n      end.style.top = \"\";\n      end.classList.remove(\"active\");\n    });\n  }\n\n}\n\nexports.TextLayerBuilder = TextLayerBuilder;\n\n/***/ }),\n/* 10 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.XfaLayerBuilder = void 0;\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\nclass XfaLayerBuilder {\n  constructor({\n    pageDiv,\n    pdfPage,\n    annotationStorage = null,\n    linkService,\n    xfaHtml = null\n  }) {\n    this.pageDiv = pageDiv;\n    this.pdfPage = pdfPage;\n    this.annotationStorage = annotationStorage;\n    this.linkService = linkService;\n    this.xfaHtml = xfaHtml;\n    this.div = null;\n    this._cancelled = false;\n  }\n\n  render(viewport, intent = \"display\") {\n    if (intent === \"print\") {\n      const parameters = {\n        viewport: viewport.clone({\n          dontFlip: true\n        }),\n        div: this.div,\n        xfaHtml: this.xfaHtml,\n        annotationStorage: this.annotationStorage,\n        linkService: this.linkService,\n        intent\n      };\n      const div = document.createElement(\"div\");\n      this.pageDiv.append(div);\n      parameters.div = div;\n\n      const result = _pdfjsLib.XfaLayer.render(parameters);\n\n      return Promise.resolve(result);\n    }\n\n    return this.pdfPage.getXfa().then(xfaHtml => {\n      if (this._cancelled || !xfaHtml) {\n        return {\n          textDivs: []\n        };\n      }\n\n      const parameters = {\n        viewport: viewport.clone({\n          dontFlip: true\n        }),\n        div: this.div,\n        xfaHtml,\n        annotationStorage: this.annotationStorage,\n        linkService: this.linkService,\n        intent\n      };\n\n      if (this.div) {\n        return _pdfjsLib.XfaLayer.update(parameters);\n      }\n\n      this.div = document.createElement(\"div\");\n      this.pageDiv.append(this.div);\n      parameters.div = this.div;\n      return _pdfjsLib.XfaLayer.render(parameters);\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n\n  cancel() {\n    this._cancelled = true;\n  }\n\n  hide() {\n    if (!this.div) {\n      return;\n    }\n\n    this.div.hidden = true;\n  }\n\n}\n\nexports.XfaLayerBuilder = XfaLayerBuilder;\n\n/***/ }),\n/* 11 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PDFViewer = exports.PDFSinglePageViewer = void 0;\n\nvar _ui_utils = __w_pdfjs_require__(7);\n\nvar _base_viewer = __w_pdfjs_require__(12);\n\nclass PDFViewer extends _base_viewer.BaseViewer {}\n\nexports.PDFViewer = PDFViewer;\n\nclass PDFSinglePageViewer extends _base_viewer.BaseViewer {\n  _resetView() {\n    super._resetView();\n\n    this._scrollMode = _ui_utils.ScrollMode.PAGE;\n    this._spreadMode = _ui_utils.SpreadMode.NONE;\n  }\n\n  set scrollMode(mode) {}\n\n  _updateScrollMode() {}\n\n  set spreadMode(mode) {}\n\n  _updateSpreadMode() {}\n\n}\n\nexports.PDFSinglePageViewer = PDFSinglePageViewer;\n\n/***/ }),\n/* 12 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PagesCountLimit = exports.PDFPageViewBuffer = exports.BaseViewer = void 0;\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\nvar _ui_utils = __w_pdfjs_require__(7);\n\nvar _annotation_editor_layer_builder = __w_pdfjs_require__(2);\n\nvar _annotation_layer_builder = __w_pdfjs_require__(5);\n\nvar _l10n_utils = __w_pdfjs_require__(4);\n\nvar _pdf_page_view = __w_pdfjs_require__(13);\n\nvar _pdf_rendering_queue = __w_pdfjs_require__(16);\n\nvar _pdf_link_service = __w_pdfjs_require__(6);\n\nvar _struct_tree_layer_builder = __w_pdfjs_require__(8);\n\nvar _text_highlighter = __w_pdfjs_require__(17);\n\nvar _text_layer_builder = __w_pdfjs_require__(9);\n\nvar _xfa_layer_builder = __w_pdfjs_require__(10);\n\nconst DEFAULT_CACHE_SIZE = 10;\nconst ENABLE_PERMISSIONS_CLASS = \"enablePermissions\";\nconst PagesCountLimit = {\n  FORCE_SCROLL_MODE_PAGE: 15000,\n  FORCE_LAZY_PAGE_INIT: 7500,\n  PAUSE_EAGER_PAGE_INIT: 250\n};\nexports.PagesCountLimit = PagesCountLimit;\n\nfunction isValidAnnotationEditorMode(mode) {\n  return Object.values(_pdfjsLib.AnnotationEditorType).includes(mode) && mode !== _pdfjsLib.AnnotationEditorType.DISABLE;\n}\n\nclass PDFPageViewBuffer {\n  #buf = new Set();\n  #size = 0;\n\n  constructor(size) {\n    this.#size = size;\n  }\n\n  push(view) {\n    const buf = this.#buf;\n\n    if (buf.has(view)) {\n      buf.delete(view);\n    }\n\n    buf.add(view);\n\n    if (buf.size > this.#size) {\n      this.#destroyFirstView();\n    }\n  }\n\n  resize(newSize, idsToKeep = null) {\n    this.#size = newSize;\n    const buf = this.#buf;\n\n    if (idsToKeep) {\n      const ii = buf.size;\n      let i = 1;\n\n      for (const view of buf) {\n        if (idsToKeep.has(view.id)) {\n          buf.delete(view);\n          buf.add(view);\n        }\n\n        if (++i > ii) {\n          break;\n        }\n      }\n    }\n\n    while (buf.size > this.#size) {\n      this.#destroyFirstView();\n    }\n  }\n\n  has(view) {\n    return this.#buf.has(view);\n  }\n\n  [Symbol.iterator]() {\n    return this.#buf.keys();\n  }\n\n  #destroyFirstView() {\n    const firstView = this.#buf.keys().next().value;\n    firstView?.destroy();\n    this.#buf.delete(firstView);\n  }\n\n}\n\nexports.PDFPageViewBuffer = PDFPageViewBuffer;\n\nclass BaseViewer {\n  #buffer = null;\n  #annotationEditorMode = _pdfjsLib.AnnotationEditorType.DISABLE;\n  #annotationEditorUIManager = null;\n  #annotationMode = _pdfjsLib.AnnotationMode.ENABLE_FORMS;\n  #enablePermissions = false;\n  #previousContainerHeight = 0;\n  #scrollModePageState = null;\n  #onVisibilityChange = null;\n\n  constructor(options) {\n    if (this.constructor === BaseViewer) {\n      throw new Error(\"Cannot initialize BaseViewer.\");\n    }\n\n    const viewerVersion = '2.16.105';\n\n    if (_pdfjsLib.version !== viewerVersion) {\n      throw new Error(`The API version \"${_pdfjsLib.version}\" does not match the Viewer version \"${viewerVersion}\".`);\n    }\n\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n\n    if (!(this.container?.tagName.toUpperCase() === \"DIV\" && this.viewer?.tagName.toUpperCase() === \"DIV\")) {\n      throw new Error(\"Invalid `container` and/or `viewer` option.\");\n    }\n\n    if (this.container.offsetParent && getComputedStyle(this.container).position !== \"absolute\") {\n      throw new Error(\"The `container` must be absolutely positioned.\");\n    }\n\n    this.eventBus = options.eventBus;\n    this.linkService = options.linkService || new _pdf_link_service.SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.findController = options.findController || null;\n    this._scriptingManager = options.scriptingManager || null;\n    this.removePageBorders = options.removePageBorders || false;\n    this.textLayerMode = options.textLayerMode ?? _ui_utils.TextLayerMode.ENABLE;\n    this.#annotationMode = options.annotationMode ?? _pdfjsLib.AnnotationMode.ENABLE_FORMS;\n    this.#annotationEditorMode = options.annotationEditorMode ?? _pdfjsLib.AnnotationEditorType.DISABLE;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n    this.useOnlyCssZoom = options.useOnlyCssZoom || false;\n    this.maxCanvasPixels = options.maxCanvasPixels;\n    this.l10n = options.l10n || _l10n_utils.NullL10n;\n    this.#enablePermissions = options.enablePermissions || false;\n    this.pageColors = options.pageColors || null;\n\n    if (this.pageColors && !(CSS.supports(\"color\", this.pageColors.background) && CSS.supports(\"color\", this.pageColors.foreground))) {\n      if (this.pageColors.background || this.pageColors.foreground) {\n        console.warn(\"BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used.\");\n      }\n\n      this.pageColors = null;\n    }\n\n    this.defaultRenderingQueue = !options.renderingQueue;\n\n    if (this.defaultRenderingQueue) {\n      this.renderingQueue = new _pdf_rendering_queue.PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n\n    this.scroll = (0, _ui_utils.watchScroll)(this.container, this._scrollUpdate.bind(this));\n    this.presentationModeState = _ui_utils.PresentationModeState.UNKNOWN;\n    this._onBeforeDraw = this._onAfterDraw = null;\n\n    this._resetView();\n\n    if (this.removePageBorders) {\n      this.viewer.classList.add(\"removePageBorders\");\n    }\n\n    this.updateContainerHeightCss();\n  }\n\n  get pagesCount() {\n    return this._pages.length;\n  }\n\n  getPageView(index) {\n    return this._pages[index];\n  }\n\n  get pageViewsReady() {\n    if (!this._pagesCapability.settled) {\n      return false;\n    }\n\n    return this._pages.every(function (pageView) {\n      return pageView?.pdfPage;\n    });\n  }\n\n  get renderForms() {\n    return this.#annotationMode === _pdfjsLib.AnnotationMode.ENABLE_FORMS;\n  }\n\n  get enableScripting() {\n    return !!this._scriptingManager;\n  }\n\n  get currentPageNumber() {\n    return this._currentPageNumber;\n  }\n\n  set currentPageNumber(val) {\n    if (!Number.isInteger(val)) {\n      throw new Error(\"Invalid page number.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (!this._setCurrentPageNumber(val, true)) {\n      console.error(`currentPageNumber: \"${val}\" is not a valid page.`);\n    }\n  }\n\n  _setCurrentPageNumber(val, resetCurrentPageView = false) {\n    if (this._currentPageNumber === val) {\n      if (resetCurrentPageView) {\n        this.#resetCurrentPageView();\n      }\n\n      return true;\n    }\n\n    if (!(0 < val && val <= this.pagesCount)) {\n      return false;\n    }\n\n    const previous = this._currentPageNumber;\n    this._currentPageNumber = val;\n    this.eventBus.dispatch(\"pagechanging\", {\n      source: this,\n      pageNumber: val,\n      pageLabel: this._pageLabels?.[val - 1] ?? null,\n      previous\n    });\n\n    if (resetCurrentPageView) {\n      this.#resetCurrentPageView();\n    }\n\n    return true;\n  }\n\n  get currentPageLabel() {\n    return this._pageLabels?.[this._currentPageNumber - 1] ?? null;\n  }\n\n  set currentPageLabel(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    let page = val | 0;\n\n    if (this._pageLabels) {\n      const i = this._pageLabels.indexOf(val);\n\n      if (i >= 0) {\n        page = i + 1;\n      }\n    }\n\n    if (!this._setCurrentPageNumber(page, true)) {\n      console.error(`currentPageLabel: \"${val}\" is not a valid page.`);\n    }\n  }\n\n  get currentScale() {\n    return this._currentScale !== _ui_utils.UNKNOWN_SCALE ? this._currentScale : _ui_utils.DEFAULT_SCALE;\n  }\n\n  set currentScale(val) {\n    if (isNaN(val)) {\n      throw new Error(\"Invalid numeric scale.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    this._setScale(val, false);\n  }\n\n  get currentScaleValue() {\n    return this._currentScaleValue;\n  }\n\n  set currentScaleValue(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    this._setScale(val, false);\n  }\n\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n\n  set pagesRotation(rotation) {\n    if (!(0, _ui_utils.isValidRotation)(rotation)) {\n      throw new Error(\"Invalid pages rotation angle.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    rotation %= 360;\n\n    if (rotation < 0) {\n      rotation += 360;\n    }\n\n    if (this._pagesRotation === rotation) {\n      return;\n    }\n\n    this._pagesRotation = rotation;\n    const pageNumber = this._currentPageNumber;\n    const updateArgs = {\n      rotation\n    };\n\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n\n    if (this._currentScaleValue) {\n      this._setScale(this._currentScaleValue, true);\n    }\n\n    this.eventBus.dispatch(\"rotationchanging\", {\n      source: this,\n      pagesRotation: rotation,\n      pageNumber\n    });\n\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n\n  get firstPagePromise() {\n    return this.pdfDocument ? this._firstPageCapability.promise : null;\n  }\n\n  get onePageRendered() {\n    return this.pdfDocument ? this._onePageRenderedCapability.promise : null;\n  }\n\n  get pagesPromise() {\n    return this.pdfDocument ? this._pagesCapability.promise : null;\n  }\n\n  #initializePermissions(permissions) {\n    const params = {\n      annotationEditorMode: this.#annotationEditorMode,\n      annotationMode: this.#annotationMode,\n      textLayerMode: this.textLayerMode\n    };\n\n    if (!permissions) {\n      return params;\n    }\n\n    if (!permissions.includes(_pdfjsLib.PermissionFlag.COPY)) {\n      this.viewer.classList.add(ENABLE_PERMISSIONS_CLASS);\n    }\n\n    if (!permissions.includes(_pdfjsLib.PermissionFlag.MODIFY_CONTENTS)) {\n      params.annotationEditorMode = _pdfjsLib.AnnotationEditorType.DISABLE;\n    }\n\n    if (!permissions.includes(_pdfjsLib.PermissionFlag.MODIFY_ANNOTATIONS) && !permissions.includes(_pdfjsLib.PermissionFlag.FILL_INTERACTIVE_FORMS) && this.#annotationMode === _pdfjsLib.AnnotationMode.ENABLE_FORMS) {\n      params.annotationMode = _pdfjsLib.AnnotationMode.ENABLE;\n    }\n\n    return params;\n  }\n\n  #onePageRenderedOrForceFetch() {\n    if (document.visibilityState === \"hidden\" || !this.container.offsetParent || this._getVisiblePages().views.length === 0) {\n      return Promise.resolve();\n    }\n\n    const visibilityChangePromise = new Promise(resolve => {\n      this.#onVisibilityChange = () => {\n        if (document.visibilityState !== \"hidden\") {\n          return;\n        }\n\n        resolve();\n        document.removeEventListener(\"visibilitychange\", this.#onVisibilityChange);\n        this.#onVisibilityChange = null;\n      };\n\n      document.addEventListener(\"visibilitychange\", this.#onVisibilityChange);\n    });\n    return Promise.race([this._onePageRenderedCapability.promise, visibilityChangePromise]);\n  }\n\n  setDocument(pdfDocument) {\n    if (this.pdfDocument) {\n      this.eventBus.dispatch(\"pagesdestroy\", {\n        source: this\n      });\n\n      this._cancelRendering();\n\n      this._resetView();\n\n      if (this.findController) {\n        this.findController.setDocument(null);\n      }\n\n      if (this._scriptingManager) {\n        this._scriptingManager.setDocument(null);\n      }\n\n      if (this.#annotationEditorUIManager) {\n        this.#annotationEditorUIManager.destroy();\n        this.#annotationEditorUIManager = null;\n      }\n    }\n\n    this.pdfDocument = pdfDocument;\n\n    if (!pdfDocument) {\n      return;\n    }\n\n    const isPureXfa = pdfDocument.isPureXfa;\n    const pagesCount = pdfDocument.numPages;\n    const firstPagePromise = pdfDocument.getPage(1);\n    const optionalContentConfigPromise = pdfDocument.getOptionalContentConfig();\n    const permissionsPromise = this.#enablePermissions ? pdfDocument.getPermissions() : Promise.resolve();\n\n    if (pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      console.warn(\"Forcing PAGE-scrolling for performance reasons, given the length of the document.\");\n      const mode = this._scrollMode = _ui_utils.ScrollMode.PAGE;\n      this.eventBus.dispatch(\"scrollmodechanged\", {\n        source: this,\n        mode\n      });\n    }\n\n    this._pagesCapability.promise.then(() => {\n      this.eventBus.dispatch(\"pagesloaded\", {\n        source: this,\n        pagesCount\n      });\n    }, () => {});\n\n    this._onBeforeDraw = evt => {\n      const pageView = this._pages[evt.pageNumber - 1];\n\n      if (!pageView) {\n        return;\n      }\n\n      this.#buffer.push(pageView);\n    };\n\n    this.eventBus._on(\"pagerender\", this._onBeforeDraw);\n\n    this._onAfterDraw = evt => {\n      if (evt.cssTransform || this._onePageRenderedCapability.settled) {\n        return;\n      }\n\n      this._onePageRenderedCapability.resolve({\n        timestamp: evt.timestamp\n      });\n\n      this.eventBus._off(\"pagerendered\", this._onAfterDraw);\n\n      this._onAfterDraw = null;\n\n      if (this.#onVisibilityChange) {\n        document.removeEventListener(\"visibilitychange\", this.#onVisibilityChange);\n        this.#onVisibilityChange = null;\n      }\n    };\n\n    this.eventBus._on(\"pagerendered\", this._onAfterDraw);\n\n    Promise.all([firstPagePromise, permissionsPromise]).then(([firstPdfPage, permissions]) => {\n      if (pdfDocument !== this.pdfDocument) {\n        return;\n      }\n\n      this._firstPageCapability.resolve(firstPdfPage);\n\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      const {\n        annotationEditorMode,\n        annotationMode,\n        textLayerMode\n      } = this.#initializePermissions(permissions);\n\n      if (annotationEditorMode !== _pdfjsLib.AnnotationEditorType.DISABLE) {\n        const mode = annotationEditorMode;\n\n        if (isPureXfa) {\n          console.warn(\"Warning: XFA-editing is not implemented.\");\n        } else if (isValidAnnotationEditorMode(mode)) {\n          this.#annotationEditorUIManager = new _pdfjsLib.AnnotationEditorUIManager(this.container, this.eventBus);\n\n          if (mode !== _pdfjsLib.AnnotationEditorType.NONE) {\n            this.#annotationEditorUIManager.updateMode(mode);\n          }\n        } else {\n          console.error(`Invalid AnnotationEditor mode: ${mode}`);\n        }\n      }\n\n      const viewerElement = this._scrollMode === _ui_utils.ScrollMode.PAGE ? null : this.viewer;\n      const scale = this.currentScale;\n      const viewport = firstPdfPage.getViewport({\n        scale: scale * _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS\n      });\n      const textLayerFactory = textLayerMode !== _ui_utils.TextLayerMode.DISABLE && !isPureXfa ? this : null;\n      const annotationLayerFactory = annotationMode !== _pdfjsLib.AnnotationMode.DISABLE ? this : null;\n      const xfaLayerFactory = isPureXfa ? this : null;\n      const annotationEditorLayerFactory = this.#annotationEditorUIManager ? this : null;\n\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        const pageView = new _pdf_page_view.PDFPageView({\n          container: viewerElement,\n          eventBus: this.eventBus,\n          id: pageNum,\n          scale,\n          defaultViewport: viewport.clone(),\n          optionalContentConfigPromise,\n          renderingQueue: this.renderingQueue,\n          textLayerFactory,\n          textLayerMode,\n          annotationLayerFactory,\n          annotationMode,\n          xfaLayerFactory,\n          annotationEditorLayerFactory,\n          textHighlighterFactory: this,\n          structTreeLayerFactory: this,\n          imageResourcesPath: this.imageResourcesPath,\n          renderer: this.renderer,\n          useOnlyCssZoom: this.useOnlyCssZoom,\n          maxCanvasPixels: this.maxCanvasPixels,\n          pageColors: this.pageColors,\n          l10n: this.l10n\n        });\n\n        this._pages.push(pageView);\n      }\n\n      const firstPageView = this._pages[0];\n\n      if (firstPageView) {\n        firstPageView.setPdfPage(firstPdfPage);\n        this.linkService.cachePageRef(1, firstPdfPage.ref);\n      }\n\n      if (this._scrollMode === _ui_utils.ScrollMode.PAGE) {\n        this.#ensurePageViewVisible();\n      } else if (this._spreadMode !== _ui_utils.SpreadMode.NONE) {\n        this._updateSpreadMode();\n      }\n\n      this.#onePageRenderedOrForceFetch().then(async () => {\n        if (this.findController) {\n          this.findController.setDocument(pdfDocument);\n        }\n\n        if (this._scriptingManager) {\n          this._scriptingManager.setDocument(pdfDocument);\n        }\n\n        if (this.#annotationEditorUIManager) {\n          this.eventBus.dispatch(\"annotationeditormodechanged\", {\n            source: this,\n            mode: this.#annotationEditorMode\n          });\n        }\n\n        if (pdfDocument.loadingParams.disableAutoFetch || pagesCount > PagesCountLimit.FORCE_LAZY_PAGE_INIT) {\n          this._pagesCapability.resolve();\n\n          return;\n        }\n\n        let getPagesLeft = pagesCount - 1;\n\n        if (getPagesLeft <= 0) {\n          this._pagesCapability.resolve();\n\n          return;\n        }\n\n        for (let pageNum = 2; pageNum <= pagesCount; ++pageNum) {\n          const promise = pdfDocument.getPage(pageNum).then(pdfPage => {\n            const pageView = this._pages[pageNum - 1];\n\n            if (!pageView.pdfPage) {\n              pageView.setPdfPage(pdfPage);\n            }\n\n            this.linkService.cachePageRef(pageNum, pdfPage.ref);\n\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          }, reason => {\n            console.error(`Unable to get page ${pageNum} to initialize viewer`, reason);\n\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          });\n\n          if (pageNum % PagesCountLimit.PAUSE_EAGER_PAGE_INIT === 0) {\n            await promise;\n          }\n        }\n      });\n      this.eventBus.dispatch(\"pagesinit\", {\n        source: this\n      });\n      pdfDocument.getMetadata().then(({\n        info\n      }) => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n\n        if (info.Language) {\n          this.viewer.lang = info.Language;\n        }\n      });\n\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }).catch(reason => {\n      console.error(\"Unable to initialize viewer\", reason);\n\n      this._pagesCapability.reject(reason);\n    });\n  }\n\n  setPageLabels(labels) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(`setPageLabels: Invalid page labels.`);\n    } else {\n      this._pageLabels = labels;\n    }\n\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      this._pages[i].setPageLabel(this._pageLabels?.[i] ?? null);\n    }\n  }\n\n  _resetView() {\n    this._pages = [];\n    this._currentPageNumber = 1;\n    this._currentScale = _ui_utils.UNKNOWN_SCALE;\n    this._currentScaleValue = null;\n    this._pageLabels = null;\n    this.#buffer = new PDFPageViewBuffer(DEFAULT_CACHE_SIZE);\n    this._location = null;\n    this._pagesRotation = 0;\n    this._optionalContentConfigPromise = null;\n    this._firstPageCapability = (0, _pdfjsLib.createPromiseCapability)();\n    this._onePageRenderedCapability = (0, _pdfjsLib.createPromiseCapability)();\n    this._pagesCapability = (0, _pdfjsLib.createPromiseCapability)();\n    this._scrollMode = _ui_utils.ScrollMode.VERTICAL;\n    this._previousScrollMode = _ui_utils.ScrollMode.UNKNOWN;\n    this._spreadMode = _ui_utils.SpreadMode.NONE;\n    this.#scrollModePageState = {\n      previousPageNumber: 1,\n      scrollDown: true,\n      pages: []\n    };\n\n    if (this._onBeforeDraw) {\n      this.eventBus._off(\"pagerender\", this._onBeforeDraw);\n\n      this._onBeforeDraw = null;\n    }\n\n    if (this._onAfterDraw) {\n      this.eventBus._off(\"pagerendered\", this._onAfterDraw);\n\n      this._onAfterDraw = null;\n    }\n\n    if (this.#onVisibilityChange) {\n      document.removeEventListener(\"visibilitychange\", this.#onVisibilityChange);\n      this.#onVisibilityChange = null;\n    }\n\n    this.viewer.textContent = \"\";\n\n    this._updateScrollMode();\n\n    this.viewer.removeAttribute(\"lang\");\n    this.viewer.classList.remove(ENABLE_PERMISSIONS_CLASS);\n  }\n\n  #ensurePageViewVisible() {\n    if (this._scrollMode !== _ui_utils.ScrollMode.PAGE) {\n      throw new Error(\"#ensurePageViewVisible: Invalid scrollMode value.\");\n    }\n\n    const pageNumber = this._currentPageNumber,\n          state = this.#scrollModePageState,\n          viewer = this.viewer;\n    viewer.textContent = \"\";\n    state.pages.length = 0;\n\n    if (this._spreadMode === _ui_utils.SpreadMode.NONE && !this.isInPresentationMode) {\n      const pageView = this._pages[pageNumber - 1];\n      viewer.append(pageView.div);\n      state.pages.push(pageView);\n    } else {\n      const pageIndexSet = new Set(),\n            parity = this._spreadMode - 1;\n\n      if (parity === -1) {\n        pageIndexSet.add(pageNumber - 1);\n      } else if (pageNumber % 2 !== parity) {\n        pageIndexSet.add(pageNumber - 1);\n        pageIndexSet.add(pageNumber);\n      } else {\n        pageIndexSet.add(pageNumber - 2);\n        pageIndexSet.add(pageNumber - 1);\n      }\n\n      const spread = document.createElement(\"div\");\n      spread.className = \"spread\";\n\n      if (this.isInPresentationMode) {\n        const dummyPage = document.createElement(\"div\");\n        dummyPage.className = \"dummyPage\";\n        spread.append(dummyPage);\n      }\n\n      for (const i of pageIndexSet) {\n        const pageView = this._pages[i];\n\n        if (!pageView) {\n          continue;\n        }\n\n        spread.append(pageView.div);\n        state.pages.push(pageView);\n      }\n\n      viewer.append(spread);\n    }\n\n    state.scrollDown = pageNumber >= state.previousPageNumber;\n    state.previousPageNumber = pageNumber;\n  }\n\n  _scrollUpdate() {\n    if (this.pagesCount === 0) {\n      return;\n    }\n\n    this.update();\n  }\n\n  #scrollIntoView(pageView, pageSpot = null) {\n    const {\n      div,\n      id\n    } = pageView;\n\n    if (this._scrollMode === _ui_utils.ScrollMode.PAGE) {\n      this._setCurrentPageNumber(id);\n\n      this.#ensurePageViewVisible();\n      this.update();\n    }\n\n    if (!pageSpot && !this.isInPresentationMode) {\n      const left = div.offsetLeft + div.clientLeft,\n            right = left + div.clientWidth;\n      const {\n        scrollLeft,\n        clientWidth\n      } = this.container;\n\n      if (this._scrollMode === _ui_utils.ScrollMode.HORIZONTAL || left < scrollLeft || right > scrollLeft + clientWidth) {\n        pageSpot = {\n          left: 0,\n          top: 0\n        };\n      }\n    }\n\n    (0, _ui_utils.scrollIntoView)(div, pageSpot);\n  }\n\n  #isSameScale(newScale) {\n    return newScale === this._currentScale || Math.abs(newScale - this._currentScale) < 1e-15;\n  }\n\n  _setScaleUpdatePages(newScale, newValue, noScroll = false, preset = false) {\n    this._currentScaleValue = newValue.toString();\n\n    if (this.#isSameScale(newScale)) {\n      if (preset) {\n        this.eventBus.dispatch(\"scalechanging\", {\n          source: this,\n          scale: newScale,\n          presetValue: newValue\n        });\n      }\n\n      return;\n    }\n\n    _ui_utils.docStyle.setProperty(\"--scale-factor\", newScale * _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS);\n\n    const updateArgs = {\n      scale: newScale\n    };\n\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n\n    this._currentScale = newScale;\n\n    if (!noScroll) {\n      let page = this._currentPageNumber,\n          dest;\n\n      if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n        page = this._location.pageNumber;\n        dest = [null, {\n          name: \"XYZ\"\n        }, this._location.left, this._location.top, null];\n      }\n\n      this.scrollPageIntoView({\n        pageNumber: page,\n        destArray: dest,\n        allowNegativeOffset: true\n      });\n    }\n\n    this.eventBus.dispatch(\"scalechanging\", {\n      source: this,\n      scale: newScale,\n      presetValue: preset ? newValue : undefined\n    });\n\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n\n    this.updateContainerHeightCss();\n  }\n\n  get _pageWidthScaleFactor() {\n    if (this._spreadMode !== _ui_utils.SpreadMode.NONE && this._scrollMode !== _ui_utils.ScrollMode.HORIZONTAL) {\n      return 2;\n    }\n\n    return 1;\n  }\n\n  _setScale(value, noScroll = false) {\n    let scale = parseFloat(value);\n\n    if (scale > 0) {\n      this._setScaleUpdatePages(scale, value, noScroll, false);\n    } else {\n      const currentPage = this._pages[this._currentPageNumber - 1];\n\n      if (!currentPage) {\n        return;\n      }\n\n      let hPadding = _ui_utils.SCROLLBAR_PADDING,\n          vPadding = _ui_utils.VERTICAL_PADDING;\n\n      if (this.isInPresentationMode) {\n        hPadding = vPadding = 4;\n      } else if (this.removePageBorders) {\n        hPadding = vPadding = 0;\n      } else if (this._scrollMode === _ui_utils.ScrollMode.HORIZONTAL) {\n        [hPadding, vPadding] = [vPadding, hPadding];\n      }\n\n      const pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale / this._pageWidthScaleFactor;\n      const pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n\n      switch (value) {\n        case \"page-actual\":\n          scale = 1;\n          break;\n\n        case \"page-width\":\n          scale = pageWidthScale;\n          break;\n\n        case \"page-height\":\n          scale = pageHeightScale;\n          break;\n\n        case \"page-fit\":\n          scale = Math.min(pageWidthScale, pageHeightScale);\n          break;\n\n        case \"auto\":\n          const horizontalScale = (0, _ui_utils.isPortraitOrientation)(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n          scale = Math.min(_ui_utils.MAX_AUTO_SCALE, horizontalScale);\n          break;\n\n        default:\n          console.error(`_setScale: \"${value}\" is an unknown zoom value.`);\n          return;\n      }\n\n      this._setScaleUpdatePages(scale, value, noScroll, true);\n    }\n  }\n\n  #resetCurrentPageView() {\n    const pageView = this._pages[this._currentPageNumber - 1];\n\n    if (this.isInPresentationMode) {\n      this._setScale(this._currentScaleValue, true);\n    }\n\n    this.#scrollIntoView(pageView);\n  }\n\n  pageLabelToPageNumber(label) {\n    if (!this._pageLabels) {\n      return null;\n    }\n\n    const i = this._pageLabels.indexOf(label);\n\n    if (i < 0) {\n      return null;\n    }\n\n    return i + 1;\n  }\n\n  scrollPageIntoView({\n    pageNumber,\n    destArray = null,\n    allowNegativeOffset = false,\n    ignoreDestinationZoom = false\n  }) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n\n    if (!pageView) {\n      console.error(`scrollPageIntoView: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n      return;\n    }\n\n    if (this.isInPresentationMode || !destArray) {\n      this._setCurrentPageNumber(pageNumber, true);\n\n      return;\n    }\n\n    let x = 0,\n        y = 0;\n    let width = 0,\n        height = 0,\n        widthScale,\n        heightScale;\n    const changeOrientation = pageView.rotation % 180 !== 0;\n    const pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS;\n    const pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS;\n    let scale = 0;\n\n    switch (destArray[1].name) {\n      case \"XYZ\":\n        x = destArray[2];\n        y = destArray[3];\n        scale = destArray[4];\n        x = x !== null ? x : 0;\n        y = y !== null ? y : pageHeight;\n        break;\n\n      case \"Fit\":\n      case \"FitB\":\n        scale = \"page-fit\";\n        break;\n\n      case \"FitH\":\n      case \"FitBH\":\n        y = destArray[2];\n        scale = \"page-width\";\n\n        if (y === null && this._location) {\n          x = this._location.left;\n          y = this._location.top;\n        } else if (typeof y !== \"number\" || y < 0) {\n          y = pageHeight;\n        }\n\n        break;\n\n      case \"FitV\":\n      case \"FitBV\":\n        x = destArray[2];\n        width = pageWidth;\n        height = pageHeight;\n        scale = \"page-height\";\n        break;\n\n      case \"FitR\":\n        x = destArray[2];\n        y = destArray[3];\n        width = destArray[4] - x;\n        height = destArray[5] - y;\n        const hPadding = this.removePageBorders ? 0 : _ui_utils.SCROLLBAR_PADDING;\n        const vPadding = this.removePageBorders ? 0 : _ui_utils.VERTICAL_PADDING;\n        widthScale = (this.container.clientWidth - hPadding) / width / _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS;\n        heightScale = (this.container.clientHeight - vPadding) / height / _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS;\n        scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n        break;\n\n      default:\n        console.error(`scrollPageIntoView: \"${destArray[1].name}\" is not a valid destination type.`);\n        return;\n    }\n\n    if (!ignoreDestinationZoom) {\n      if (scale && scale !== this._currentScale) {\n        this.currentScaleValue = scale;\n      } else if (this._currentScale === _ui_utils.UNKNOWN_SCALE) {\n        this.currentScaleValue = _ui_utils.DEFAULT_SCALE_VALUE;\n      }\n    }\n\n    if (scale === \"page-fit\" && !destArray[4]) {\n      this.#scrollIntoView(pageView);\n      return;\n    }\n\n    const boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n    let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n    let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n\n    if (!allowNegativeOffset) {\n      left = Math.max(left, 0);\n      top = Math.max(top, 0);\n    }\n\n    this.#scrollIntoView(pageView, {\n      left,\n      top\n    });\n  }\n\n  _updateLocation(firstPage) {\n    const currentScale = this._currentScale;\n    const currentScaleValue = this._currentScaleValue;\n    const normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 10000) / 100 : currentScaleValue;\n    const pageNumber = firstPage.id;\n    const currentPageView = this._pages[pageNumber - 1];\n    const container = this.container;\n    const topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n    const intLeft = Math.round(topLeft[0]);\n    const intTop = Math.round(topLeft[1]);\n    let pdfOpenParams = `#page=${pageNumber}`;\n\n    if (!this.isInPresentationMode) {\n      pdfOpenParams += `&zoom=${normalizedScaleValue},${intLeft},${intTop}`;\n    }\n\n    this._location = {\n      pageNumber,\n      scale: normalizedScaleValue,\n      top: intTop,\n      left: intLeft,\n      rotation: this._pagesRotation,\n      pdfOpenParams\n    };\n  }\n\n  update() {\n    const visible = this._getVisiblePages();\n\n    const visiblePages = visible.views,\n          numVisiblePages = visiblePages.length;\n\n    if (numVisiblePages === 0) {\n      return;\n    }\n\n    const newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n    this.#buffer.resize(newCacheSize, visible.ids);\n    this.renderingQueue.renderHighestPriority(visible);\n    const isSimpleLayout = this._spreadMode === _ui_utils.SpreadMode.NONE && (this._scrollMode === _ui_utils.ScrollMode.PAGE || this._scrollMode === _ui_utils.ScrollMode.VERTICAL);\n    const currentId = this._currentPageNumber;\n    let stillFullyVisible = false;\n\n    for (const page of visiblePages) {\n      if (page.percent < 100) {\n        break;\n      }\n\n      if (page.id === currentId && isSimpleLayout) {\n        stillFullyVisible = true;\n        break;\n      }\n    }\n\n    this._setCurrentPageNumber(stillFullyVisible ? currentId : visiblePages[0].id);\n\n    this._updateLocation(visible.first);\n\n    this.eventBus.dispatch(\"updateviewarea\", {\n      source: this,\n      location: this._location\n    });\n  }\n\n  containsElement(element) {\n    return this.container.contains(element);\n  }\n\n  focus() {\n    this.container.focus();\n  }\n\n  get _isContainerRtl() {\n    return getComputedStyle(this.container).direction === \"rtl\";\n  }\n\n  get isInPresentationMode() {\n    return this.presentationModeState === _ui_utils.PresentationModeState.FULLSCREEN;\n  }\n\n  get isChangingPresentationMode() {\n    return this.presentationModeState === _ui_utils.PresentationModeState.CHANGING;\n  }\n\n  get isHorizontalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n  }\n\n  get isVerticalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n  }\n\n  _getVisiblePages() {\n    const views = this._scrollMode === _ui_utils.ScrollMode.PAGE ? this.#scrollModePageState.pages : this._pages,\n          horizontal = this._scrollMode === _ui_utils.ScrollMode.HORIZONTAL,\n          rtl = horizontal && this._isContainerRtl;\n    return (0, _ui_utils.getVisibleElements)({\n      scrollEl: this.container,\n      views,\n      sortByVisibility: true,\n      horizontal,\n      rtl\n    });\n  }\n\n  isPageVisible(pageNumber) {\n    if (!this.pdfDocument) {\n      return false;\n    }\n\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`isPageVisible: \"${pageNumber}\" is not a valid page.`);\n      return false;\n    }\n\n    return this._getVisiblePages().ids.has(pageNumber);\n  }\n\n  isPageCached(pageNumber) {\n    if (!this.pdfDocument) {\n      return false;\n    }\n\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`isPageCached: \"${pageNumber}\" is not a valid page.`);\n      return false;\n    }\n\n    const pageView = this._pages[pageNumber - 1];\n    return this.#buffer.has(pageView);\n  }\n\n  cleanup() {\n    for (const pageView of this._pages) {\n      if (pageView.renderingState !== _ui_utils.RenderingStates.FINISHED) {\n        pageView.reset();\n      }\n    }\n  }\n\n  _cancelRendering() {\n    for (const pageView of this._pages) {\n      pageView.cancelRendering();\n    }\n  }\n\n  async #ensurePdfPageLoaded(pageView) {\n    if (pageView.pdfPage) {\n      return pageView.pdfPage;\n    }\n\n    try {\n      const pdfPage = await this.pdfDocument.getPage(pageView.id);\n\n      if (!pageView.pdfPage) {\n        pageView.setPdfPage(pdfPage);\n      }\n\n      if (!this.linkService._cachedPageNumber?.(pdfPage.ref)) {\n        this.linkService.cachePageRef(pageView.id, pdfPage.ref);\n      }\n\n      return pdfPage;\n    } catch (reason) {\n      console.error(\"Unable to get page for page view\", reason);\n      return null;\n    }\n  }\n\n  #getScrollAhead(visible) {\n    if (visible.first?.id === 1) {\n      return true;\n    } else if (visible.last?.id === this.pagesCount) {\n      return false;\n    }\n\n    switch (this._scrollMode) {\n      case _ui_utils.ScrollMode.PAGE:\n        return this.#scrollModePageState.scrollDown;\n\n      case _ui_utils.ScrollMode.HORIZONTAL:\n        return this.scroll.right;\n    }\n\n    return this.scroll.down;\n  }\n\n  #toggleLoadingIconSpinner(visibleIds) {\n    for (const id of visibleIds) {\n      const pageView = this._pages[id - 1];\n      pageView?.toggleLoadingIconSpinner(true);\n    }\n\n    for (const pageView of this.#buffer) {\n      if (visibleIds.has(pageView.id)) {\n        continue;\n      }\n\n      pageView.toggleLoadingIconSpinner(false);\n    }\n  }\n\n  forceRendering(currentlyVisiblePages) {\n    const visiblePages = currentlyVisiblePages || this._getVisiblePages();\n\n    const scrollAhead = this.#getScrollAhead(visiblePages);\n    const preRenderExtra = this._spreadMode !== _ui_utils.SpreadMode.NONE && this._scrollMode !== _ui_utils.ScrollMode.HORIZONTAL;\n    const pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead, preRenderExtra);\n    this.#toggleLoadingIconSpinner(visiblePages.ids);\n\n    if (pageView) {\n      this.#ensurePdfPageLoaded(pageView).then(() => {\n        this.renderingQueue.renderView(pageView);\n      });\n      return true;\n    }\n\n    return false;\n  }\n\n  createTextLayerBuilder({\n    textLayerDiv,\n    pageIndex,\n    viewport,\n    enhanceTextSelection = false,\n    eventBus,\n    highlighter,\n    accessibilityManager = null\n  }) {\n    return new _text_layer_builder.TextLayerBuilder({\n      textLayerDiv,\n      eventBus,\n      pageIndex,\n      viewport,\n      enhanceTextSelection: this.isInPresentationMode ? false : enhanceTextSelection,\n      highlighter,\n      accessibilityManager\n    });\n  }\n\n  createTextHighlighter({\n    pageIndex,\n    eventBus\n  }) {\n    return new _text_highlighter.TextHighlighter({\n      eventBus,\n      pageIndex,\n      findController: this.isInPresentationMode ? null : this.findController\n    });\n  }\n\n  createAnnotationLayerBuilder({\n    pageDiv,\n    pdfPage,\n    annotationStorage = this.pdfDocument?.annotationStorage,\n    imageResourcesPath = \"\",\n    renderForms = true,\n    l10n = _l10n_utils.NullL10n,\n    enableScripting = this.enableScripting,\n    hasJSActionsPromise = this.pdfDocument?.hasJSActions(),\n    mouseState = this._scriptingManager?.mouseState,\n    fieldObjectsPromise = this.pdfDocument?.getFieldObjects(),\n    annotationCanvasMap = null,\n    accessibilityManager = null\n  }) {\n    return new _annotation_layer_builder.AnnotationLayerBuilder({\n      pageDiv,\n      pdfPage,\n      annotationStorage,\n      imageResourcesPath,\n      renderForms,\n      linkService: this.linkService,\n      downloadManager: this.downloadManager,\n      l10n,\n      enableScripting,\n      hasJSActionsPromise,\n      mouseState,\n      fieldObjectsPromise,\n      annotationCanvasMap,\n      accessibilityManager\n    });\n  }\n\n  createAnnotationEditorLayerBuilder({\n    uiManager = this.#annotationEditorUIManager,\n    pageDiv,\n    pdfPage,\n    accessibilityManager = null,\n    l10n,\n    annotationStorage = this.pdfDocument?.annotationStorage\n  }) {\n    return new _annotation_editor_layer_builder.AnnotationEditorLayerBuilder({\n      uiManager,\n      pageDiv,\n      pdfPage,\n      annotationStorage,\n      accessibilityManager,\n      l10n\n    });\n  }\n\n  createXfaLayerBuilder({\n    pageDiv,\n    pdfPage,\n    annotationStorage = this.pdfDocument?.annotationStorage\n  }) {\n    return new _xfa_layer_builder.XfaLayerBuilder({\n      pageDiv,\n      pdfPage,\n      annotationStorage,\n      linkService: this.linkService\n    });\n  }\n\n  createStructTreeLayerBuilder({\n    pdfPage\n  }) {\n    return new _struct_tree_layer_builder.StructTreeLayerBuilder({\n      pdfPage\n    });\n  }\n\n  get hasEqualPageSizes() {\n    const firstPageView = this._pages[0];\n\n    for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n      const pageView = this._pages[i];\n\n      if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  getPagesOverview() {\n    return this._pages.map(pageView => {\n      const viewport = pageView.pdfPage.getViewport({\n        scale: 1\n      });\n\n      if (!this.enablePrintAutoRotate || (0, _ui_utils.isPortraitOrientation)(viewport)) {\n        return {\n          width: viewport.width,\n          height: viewport.height,\n          rotation: viewport.rotation\n        };\n      }\n\n      return {\n        width: viewport.height,\n        height: viewport.width,\n        rotation: (viewport.rotation - 90) % 360\n      };\n    });\n  }\n\n  get optionalContentConfigPromise() {\n    if (!this.pdfDocument) {\n      return Promise.resolve(null);\n    }\n\n    if (!this._optionalContentConfigPromise) {\n      console.error(\"optionalContentConfigPromise: Not initialized yet.\");\n      return this.pdfDocument.getOptionalContentConfig();\n    }\n\n    return this._optionalContentConfigPromise;\n  }\n\n  set optionalContentConfigPromise(promise) {\n    if (!(promise instanceof Promise)) {\n      throw new Error(`Invalid optionalContentConfigPromise: ${promise}`);\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (!this._optionalContentConfigPromise) {\n      return;\n    }\n\n    this._optionalContentConfigPromise = promise;\n    const updateArgs = {\n      optionalContentConfigPromise: promise\n    };\n\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n\n    this.update();\n    this.eventBus.dispatch(\"optionalcontentconfigchanged\", {\n      source: this,\n      promise\n    });\n  }\n\n  get scrollMode() {\n    return this._scrollMode;\n  }\n\n  set scrollMode(mode) {\n    if (this._scrollMode === mode) {\n      return;\n    }\n\n    if (!(0, _ui_utils.isValidScrollMode)(mode)) {\n      throw new Error(`Invalid scroll mode: ${mode}`);\n    }\n\n    if (this.pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      return;\n    }\n\n    this._previousScrollMode = this._scrollMode;\n    this._scrollMode = mode;\n    this.eventBus.dispatch(\"scrollmodechanged\", {\n      source: this,\n      mode\n    });\n\n    this._updateScrollMode(this._currentPageNumber);\n  }\n\n  _updateScrollMode(pageNumber = null) {\n    const scrollMode = this._scrollMode,\n          viewer = this.viewer;\n    viewer.classList.toggle(\"scrollHorizontal\", scrollMode === _ui_utils.ScrollMode.HORIZONTAL);\n    viewer.classList.toggle(\"scrollWrapped\", scrollMode === _ui_utils.ScrollMode.WRAPPED);\n\n    if (!this.pdfDocument || !pageNumber) {\n      return;\n    }\n\n    if (scrollMode === _ui_utils.ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n    } else if (this._previousScrollMode === _ui_utils.ScrollMode.PAGE) {\n      this._updateSpreadMode();\n    }\n\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this._setScale(this._currentScaleValue, true);\n    }\n\n    this._setCurrentPageNumber(pageNumber, true);\n\n    this.update();\n  }\n\n  get spreadMode() {\n    return this._spreadMode;\n  }\n\n  set spreadMode(mode) {\n    if (this._spreadMode === mode) {\n      return;\n    }\n\n    if (!(0, _ui_utils.isValidSpreadMode)(mode)) {\n      throw new Error(`Invalid spread mode: ${mode}`);\n    }\n\n    this._spreadMode = mode;\n    this.eventBus.dispatch(\"spreadmodechanged\", {\n      source: this,\n      mode\n    });\n\n    this._updateSpreadMode(this._currentPageNumber);\n  }\n\n  _updateSpreadMode(pageNumber = null) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const viewer = this.viewer,\n          pages = this._pages;\n\n    if (this._scrollMode === _ui_utils.ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n    } else {\n      viewer.textContent = \"\";\n\n      if (this._spreadMode === _ui_utils.SpreadMode.NONE) {\n        for (const pageView of this._pages) {\n          viewer.append(pageView.div);\n        }\n      } else {\n        const parity = this._spreadMode - 1;\n        let spread = null;\n\n        for (let i = 0, ii = pages.length; i < ii; ++i) {\n          if (spread === null) {\n            spread = document.createElement(\"div\");\n            spread.className = \"spread\";\n            viewer.append(spread);\n          } else if (i % 2 === parity) {\n            spread = spread.cloneNode(false);\n            viewer.append(spread);\n          }\n\n          spread.append(pages[i].div);\n        }\n      }\n    }\n\n    if (!pageNumber) {\n      return;\n    }\n\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this._setScale(this._currentScaleValue, true);\n    }\n\n    this._setCurrentPageNumber(pageNumber, true);\n\n    this.update();\n  }\n\n  _getPageAdvance(currentPageNumber, previous = false) {\n    switch (this._scrollMode) {\n      case _ui_utils.ScrollMode.WRAPPED:\n        {\n          const {\n            views\n          } = this._getVisiblePages(),\n                pageLayout = new Map();\n\n          for (const {\n            id,\n            y,\n            percent,\n            widthPercent\n          } of views) {\n            if (percent === 0 || widthPercent < 100) {\n              continue;\n            }\n\n            let yArray = pageLayout.get(y);\n\n            if (!yArray) {\n              pageLayout.set(y, yArray ||= []);\n            }\n\n            yArray.push(id);\n          }\n\n          for (const yArray of pageLayout.values()) {\n            const currentIndex = yArray.indexOf(currentPageNumber);\n\n            if (currentIndex === -1) {\n              continue;\n            }\n\n            const numPages = yArray.length;\n\n            if (numPages === 1) {\n              break;\n            }\n\n            if (previous) {\n              for (let i = currentIndex - 1, ii = 0; i >= ii; i--) {\n                const currentId = yArray[i],\n                      expectedId = yArray[i + 1] - 1;\n\n                if (currentId < expectedId) {\n                  return currentPageNumber - expectedId;\n                }\n              }\n            } else {\n              for (let i = currentIndex + 1, ii = numPages; i < ii; i++) {\n                const currentId = yArray[i],\n                      expectedId = yArray[i - 1] + 1;\n\n                if (currentId > expectedId) {\n                  return expectedId - currentPageNumber;\n                }\n              }\n            }\n\n            if (previous) {\n              const firstId = yArray[0];\n\n              if (firstId < currentPageNumber) {\n                return currentPageNumber - firstId + 1;\n              }\n            } else {\n              const lastId = yArray[numPages - 1];\n\n              if (lastId > currentPageNumber) {\n                return lastId - currentPageNumber + 1;\n              }\n            }\n\n            break;\n          }\n\n          break;\n        }\n\n      case _ui_utils.ScrollMode.HORIZONTAL:\n        {\n          break;\n        }\n\n      case _ui_utils.ScrollMode.PAGE:\n      case _ui_utils.ScrollMode.VERTICAL:\n        {\n          if (this._spreadMode === _ui_utils.SpreadMode.NONE) {\n            break;\n          }\n\n          const parity = this._spreadMode - 1;\n\n          if (previous && currentPageNumber % 2 !== parity) {\n            break;\n          } else if (!previous && currentPageNumber % 2 === parity) {\n            break;\n          }\n\n          const {\n            views\n          } = this._getVisiblePages(),\n                expectedId = previous ? currentPageNumber - 1 : currentPageNumber + 1;\n\n          for (const {\n            id,\n            percent,\n            widthPercent\n          } of views) {\n            if (id !== expectedId) {\n              continue;\n            }\n\n            if (percent > 0 && widthPercent === 100) {\n              return 2;\n            }\n\n            break;\n          }\n\n          break;\n        }\n    }\n\n    return 1;\n  }\n\n  nextPage() {\n    const currentPageNumber = this._currentPageNumber,\n          pagesCount = this.pagesCount;\n\n    if (currentPageNumber >= pagesCount) {\n      return false;\n    }\n\n    const advance = this._getPageAdvance(currentPageNumber, false) || 1;\n    this.currentPageNumber = Math.min(currentPageNumber + advance, pagesCount);\n    return true;\n  }\n\n  previousPage() {\n    const currentPageNumber = this._currentPageNumber;\n\n    if (currentPageNumber <= 1) {\n      return false;\n    }\n\n    const advance = this._getPageAdvance(currentPageNumber, true) || 1;\n    this.currentPageNumber = Math.max(currentPageNumber - advance, 1);\n    return true;\n  }\n\n  increaseScale(steps = 1) {\n    let newScale = this._currentScale;\n\n    do {\n      newScale = (newScale * _ui_utils.DEFAULT_SCALE_DELTA).toFixed(2);\n      newScale = Math.ceil(newScale * 10) / 10;\n      newScale = Math.min(_ui_utils.MAX_SCALE, newScale);\n    } while (--steps > 0 && newScale < _ui_utils.MAX_SCALE);\n\n    this.currentScaleValue = newScale;\n  }\n\n  decreaseScale(steps = 1) {\n    let newScale = this._currentScale;\n\n    do {\n      newScale = (newScale / _ui_utils.DEFAULT_SCALE_DELTA).toFixed(2);\n      newScale = Math.floor(newScale * 10) / 10;\n      newScale = Math.max(_ui_utils.MIN_SCALE, newScale);\n    } while (--steps > 0 && newScale > _ui_utils.MIN_SCALE);\n\n    this.currentScaleValue = newScale;\n  }\n\n  updateContainerHeightCss() {\n    const height = this.container.clientHeight;\n\n    if (height !== this.#previousContainerHeight) {\n      this.#previousContainerHeight = height;\n\n      _ui_utils.docStyle.setProperty(\"--viewer-container-height\", `${height}px`);\n    }\n  }\n\n  get annotationEditorMode() {\n    return this.#annotationEditorUIManager ? this.#annotationEditorMode : _pdfjsLib.AnnotationEditorType.DISABLE;\n  }\n\n  set annotationEditorMode(mode) {\n    if (!this.#annotationEditorUIManager) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n\n    if (this.#annotationEditorMode === mode) {\n      return;\n    }\n\n    if (!isValidAnnotationEditorMode(mode)) {\n      throw new Error(`Invalid AnnotationEditor mode: ${mode}`);\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    this.#annotationEditorMode = mode;\n    this.eventBus.dispatch(\"annotationeditormodechanged\", {\n      source: this,\n      mode\n    });\n    this.#annotationEditorUIManager.updateMode(mode);\n  }\n\n  set annotationEditorParams({\n    type,\n    value\n  }) {\n    if (!this.#annotationEditorUIManager) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n\n    this.#annotationEditorUIManager.updateParams(type, value);\n  }\n\n  refresh() {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const updateArgs = {};\n\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n\n    this.update();\n  }\n\n}\n\nexports.BaseViewer = BaseViewer;\n\n/***/ }),\n/* 13 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PDFPageView = void 0;\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\nvar _ui_utils = __w_pdfjs_require__(7);\n\nvar _app_options = __w_pdfjs_require__(14);\n\nvar _l10n_utils = __w_pdfjs_require__(4);\n\nvar _text_accessibility = __w_pdfjs_require__(15);\n\nconst MAX_CANVAS_PIXELS = _app_options.compatibilityParams.maxCanvasPixels || 16777216;\n\nclass PDFPageView {\n  #annotationMode = _pdfjsLib.AnnotationMode.ENABLE_FORMS;\n  #useThumbnailCanvas = {\n    initialOptionalContent: true,\n    regularAnnotations: true\n  };\n\n  constructor(options) {\n    const container = options.container;\n    const defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || _ui_utils.DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this._optionalContentConfigPromise = options.optionalContentConfigPromise || null;\n    this.hasRestrictedScaling = false;\n    this.textLayerMode = options.textLayerMode ?? _ui_utils.TextLayerMode.ENABLE;\n    this.#annotationMode = options.annotationMode ?? _pdfjsLib.AnnotationMode.ENABLE_FORMS;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.useOnlyCssZoom = options.useOnlyCssZoom || false;\n    this.maxCanvasPixels = options.maxCanvasPixels || MAX_CANVAS_PIXELS;\n    this.pageColors = options.pageColors || null;\n    this.eventBus = options.eventBus;\n    this.renderingQueue = options.renderingQueue;\n    this.textLayerFactory = options.textLayerFactory;\n    this.annotationLayerFactory = options.annotationLayerFactory;\n    this.annotationEditorLayerFactory = options.annotationEditorLayerFactory;\n    this.xfaLayerFactory = options.xfaLayerFactory;\n    this.textHighlighter = options.textHighlighterFactory?.createTextHighlighter({\n      pageIndex: this.id - 1,\n      eventBus: this.eventBus\n    });\n    this.structTreeLayerFactory = options.structTreeLayerFactory;\n    this.renderer = options.renderer || _ui_utils.RendererType.CANVAS;\n    this.l10n = options.l10n || _l10n_utils.NullL10n;\n    this.paintTask = null;\n    this.paintedViewportMap = new WeakMap();\n    this.renderingState = _ui_utils.RenderingStates.INITIAL;\n    this.resume = null;\n    this._renderError = null;\n    this._isStandalone = !this.renderingQueue?.hasViewer();\n    this._annotationCanvasMap = null;\n    this.annotationLayer = null;\n    this.annotationEditorLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    this.xfaLayer = null;\n    this.structTreeLayer = null;\n    const div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.style.width = Math.floor(this.viewport.width) + \"px\";\n    div.style.height = Math.floor(this.viewport.height) + \"px\";\n    div.setAttribute(\"data-page-number\", this.id);\n    div.setAttribute(\"role\", \"region\");\n    this.l10n.get(\"page_landmark\", {\n      page: this.id\n    }).then(msg => {\n      div.setAttribute(\"aria-label\", msg);\n    });\n    this.div = div;\n    container?.append(div);\n\n    if (this._isStandalone) {\n      const {\n        optionalContentConfigPromise\n      } = options;\n\n      if (optionalContentConfigPromise) {\n        optionalContentConfigPromise.then(optionalContentConfig => {\n          if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n            return;\n          }\n\n          this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n        });\n      }\n    }\n  }\n\n  setPdfPage(pdfPage) {\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: this.scale * _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.reset();\n  }\n\n  destroy() {\n    this.reset();\n\n    if (this.pdfPage) {\n      this.pdfPage.cleanup();\n    }\n  }\n\n  async _renderAnnotationLayer() {\n    let error = null;\n\n    try {\n      await this.annotationLayer.render(this.viewport, \"display\");\n    } catch (ex) {\n      console.error(`_renderAnnotationLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      this.eventBus.dispatch(\"annotationlayerrendered\", {\n        source: this,\n        pageNumber: this.id,\n        error\n      });\n    }\n  }\n\n  async _renderAnnotationEditorLayer() {\n    let error = null;\n\n    try {\n      await this.annotationEditorLayer.render(this.viewport, \"display\");\n    } catch (ex) {\n      console.error(`_renderAnnotationEditorLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      this.eventBus.dispatch(\"annotationeditorlayerrendered\", {\n        source: this,\n        pageNumber: this.id,\n        error\n      });\n    }\n  }\n\n  async _renderXfaLayer() {\n    let error = null;\n\n    try {\n      const result = await this.xfaLayer.render(this.viewport, \"display\");\n\n      if (this.textHighlighter) {\n        this._buildXfaTextContentItems(result.textDivs);\n      }\n    } catch (ex) {\n      console.error(`_renderXfaLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      this.eventBus.dispatch(\"xfalayerrendered\", {\n        source: this,\n        pageNumber: this.id,\n        error\n      });\n    }\n  }\n\n  async _buildXfaTextContentItems(textDivs) {\n    const text = await this.pdfPage.getTextContent();\n    const items = [];\n\n    for (const item of text.items) {\n      items.push(item.str);\n    }\n\n    this.textHighlighter.setTextMapping(textDivs, items);\n    this.textHighlighter.enable();\n  }\n\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n\n    const zoomLayerCanvas = this.zoomLayer.firstChild;\n    this.paintedViewportMap.delete(zoomLayerCanvas);\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n\n    if (removeFromDOM) {\n      this.zoomLayer.remove();\n    }\n\n    this.zoomLayer = null;\n  }\n\n  reset({\n    keepZoomLayer = false,\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false\n  } = {}) {\n    this.cancelRendering({\n      keepAnnotationLayer,\n      keepAnnotationEditorLayer,\n      keepXfaLayer\n    });\n    this.renderingState = _ui_utils.RenderingStates.INITIAL;\n    const div = this.div;\n    div.style.width = Math.floor(this.viewport.width) + \"px\";\n    div.style.height = Math.floor(this.viewport.height) + \"px\";\n    const childNodes = div.childNodes,\n          zoomLayerNode = keepZoomLayer && this.zoomLayer || null,\n          annotationLayerNode = keepAnnotationLayer && this.annotationLayer?.div || null,\n          annotationEditorLayerNode = keepAnnotationEditorLayer && this.annotationEditorLayer?.div || null,\n          xfaLayerNode = keepXfaLayer && this.xfaLayer?.div || null;\n\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const node = childNodes[i];\n\n      switch (node) {\n        case zoomLayerNode:\n        case annotationLayerNode:\n        case annotationEditorLayerNode:\n        case xfaLayerNode:\n          continue;\n      }\n\n      node.remove();\n    }\n\n    div.removeAttribute(\"data-loaded\");\n\n    if (annotationLayerNode) {\n      this.annotationLayer.hide();\n    }\n\n    if (annotationEditorLayerNode) {\n      this.annotationEditorLayer.hide();\n    } else {\n      this.annotationEditorLayer?.destroy();\n    }\n\n    if (xfaLayerNode) {\n      this.xfaLayer.hide();\n    }\n\n    if (!zoomLayerNode) {\n      if (this.canvas) {\n        this.paintedViewportMap.delete(this.canvas);\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n\n      this._resetZoomLayer();\n    }\n\n    if (this.svg) {\n      this.paintedViewportMap.delete(this.svg);\n      delete this.svg;\n    }\n\n    this.loadingIconDiv = document.createElement(\"div\");\n    this.loadingIconDiv.className = \"loadingIcon notVisible\";\n\n    if (this._isStandalone) {\n      this.toggleLoadingIconSpinner(true);\n    }\n\n    this.loadingIconDiv.setAttribute(\"role\", \"img\");\n    this.l10n.get(\"loading\").then(msg => {\n      this.loadingIconDiv?.setAttribute(\"aria-label\", msg);\n    });\n    div.append(this.loadingIconDiv);\n  }\n\n  update({\n    scale = 0,\n    rotation = null,\n    optionalContentConfigPromise = null\n  }) {\n    this.scale = scale || this.scale;\n\n    if (typeof rotation === \"number\") {\n      this.rotation = rotation;\n    }\n\n    if (optionalContentConfigPromise instanceof Promise) {\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      optionalContentConfigPromise.then(optionalContentConfig => {\n        if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n          return;\n        }\n\n        this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n      });\n    }\n\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n\n    if (this._isStandalone) {\n      _ui_utils.docStyle.setProperty(\"--scale-factor\", this.viewport.scale);\n    }\n\n    if (this.svg) {\n      this.cssTransform({\n        target: this.svg,\n        redrawAnnotationLayer: true,\n        redrawAnnotationEditorLayer: true,\n        redrawXfaLayer: true\n      });\n      this.eventBus.dispatch(\"pagerendered\", {\n        source: this,\n        pageNumber: this.id,\n        cssTransform: true,\n        timestamp: performance.now(),\n        error: this._renderError\n      });\n      return;\n    }\n\n    let isScalingRestricted = false;\n\n    if (this.canvas && this.maxCanvasPixels > 0) {\n      const outputScale = this.outputScale;\n\n      if ((Math.floor(this.viewport.width) * outputScale.sx | 0) * (Math.floor(this.viewport.height) * outputScale.sy | 0) > this.maxCanvasPixels) {\n        isScalingRestricted = true;\n      }\n    }\n\n    if (this.canvas) {\n      if (this.useOnlyCssZoom || this.hasRestrictedScaling && isScalingRestricted) {\n        this.cssTransform({\n          target: this.canvas,\n          redrawAnnotationLayer: true,\n          redrawAnnotationEditorLayer: true,\n          redrawXfaLayer: true\n        });\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now(),\n          error: this._renderError\n        });\n        return;\n      }\n\n      if (!this.zoomLayer && !this.canvas.hidden) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = \"absolute\";\n      }\n    }\n\n    if (this.zoomLayer) {\n      this.cssTransform({\n        target: this.zoomLayer.firstChild\n      });\n    }\n\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true\n    });\n  }\n\n  cancelRendering({\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false\n  } = {}) {\n    if (this.paintTask) {\n      this.paintTask.cancel();\n      this.paintTask = null;\n    }\n\n    this.resume = null;\n\n    if (this.textLayer) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n\n    if (this.annotationLayer && (!keepAnnotationLayer || !this.annotationLayer.div)) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n      this._annotationCanvasMap = null;\n    }\n\n    if (this.annotationEditorLayer && (!keepAnnotationEditorLayer || !this.annotationEditorLayer.div)) {\n      this.annotationEditorLayer.cancel();\n      this.annotationEditorLayer = null;\n    }\n\n    if (this.xfaLayer && (!keepXfaLayer || !this.xfaLayer.div)) {\n      this.xfaLayer.cancel();\n      this.xfaLayer = null;\n      this.textHighlighter?.disable();\n    }\n\n    if (this._onTextLayerRendered) {\n      this.eventBus._off(\"textlayerrendered\", this._onTextLayerRendered);\n\n      this._onTextLayerRendered = null;\n    }\n  }\n\n  cssTransform({\n    target,\n    redrawAnnotationLayer = false,\n    redrawAnnotationEditorLayer = false,\n    redrawXfaLayer = false\n  }) {\n    const width = this.viewport.width;\n    const height = this.viewport.height;\n    const div = this.div;\n    target.style.width = target.parentNode.style.width = div.style.width = Math.floor(width) + \"px\";\n    target.style.height = target.parentNode.style.height = div.style.height = Math.floor(height) + \"px\";\n    const relativeRotation = this.viewport.rotation - this.paintedViewportMap.get(target).rotation;\n    const absRotation = Math.abs(relativeRotation);\n    let scaleX = 1,\n        scaleY = 1;\n\n    if (absRotation === 90 || absRotation === 270) {\n      scaleX = height / width;\n      scaleY = width / height;\n    }\n\n    target.style.transform = `rotate(${relativeRotation}deg) scale(${scaleX}, ${scaleY})`;\n\n    if (this.textLayer) {\n      const textLayerViewport = this.textLayer.viewport;\n      const textRelativeRotation = this.viewport.rotation - textLayerViewport.rotation;\n      const textAbsRotation = Math.abs(textRelativeRotation);\n      let scale = width / textLayerViewport.width;\n\n      if (textAbsRotation === 90 || textAbsRotation === 270) {\n        scale = width / textLayerViewport.height;\n      }\n\n      const textLayerDiv = this.textLayer.textLayerDiv;\n      let transX, transY;\n\n      switch (textAbsRotation) {\n        case 0:\n          transX = transY = 0;\n          break;\n\n        case 90:\n          transX = 0;\n          transY = \"-\" + textLayerDiv.style.height;\n          break;\n\n        case 180:\n          transX = \"-\" + textLayerDiv.style.width;\n          transY = \"-\" + textLayerDiv.style.height;\n          break;\n\n        case 270:\n          transX = \"-\" + textLayerDiv.style.width;\n          transY = 0;\n          break;\n\n        default:\n          console.error(\"Bad rotation value.\");\n          break;\n      }\n\n      textLayerDiv.style.transform = `rotate(${textAbsRotation}deg) ` + `scale(${scale}) ` + `translate(${transX}, ${transY})`;\n      textLayerDiv.style.transformOrigin = \"0% 0%\";\n    }\n\n    if (redrawAnnotationLayer && this.annotationLayer) {\n      this._renderAnnotationLayer();\n    }\n\n    if (redrawAnnotationEditorLayer && this.annotationEditorLayer) {\n      this._renderAnnotationEditorLayer();\n    }\n\n    if (redrawXfaLayer && this.xfaLayer) {\n      this._renderXfaLayer();\n    }\n  }\n\n  get width() {\n    return this.viewport.width;\n  }\n\n  get height() {\n    return this.viewport.height;\n  }\n\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n\n  toggleLoadingIconSpinner(viewVisible = false) {\n    this.loadingIconDiv?.classList.toggle(\"notVisible\", !viewVisible);\n  }\n\n  draw() {\n    if (this.renderingState !== _ui_utils.RenderingStates.INITIAL) {\n      console.error(\"Must be in new state before drawing\");\n      this.reset();\n    }\n\n    const {\n      div,\n      pdfPage\n    } = this;\n\n    if (!pdfPage) {\n      this.renderingState = _ui_utils.RenderingStates.FINISHED;\n\n      if (this.loadingIconDiv) {\n        this.loadingIconDiv.remove();\n        delete this.loadingIconDiv;\n      }\n\n      return Promise.reject(new Error(\"pdfPage is not loaded\"));\n    }\n\n    this.renderingState = _ui_utils.RenderingStates.RUNNING;\n    const canvasWrapper = document.createElement(\"div\");\n    canvasWrapper.style.width = div.style.width;\n    canvasWrapper.style.height = div.style.height;\n    canvasWrapper.classList.add(\"canvasWrapper\");\n    const lastDivBeforeTextDiv = this.annotationLayer?.div || this.annotationEditorLayer?.div;\n\n    if (lastDivBeforeTextDiv) {\n      lastDivBeforeTextDiv.before(canvasWrapper);\n    } else {\n      div.append(canvasWrapper);\n    }\n\n    let textLayer = null;\n\n    if (this.textLayerMode !== _ui_utils.TextLayerMode.DISABLE && this.textLayerFactory) {\n      this._accessibilityManager ||= new _text_accessibility.TextAccessibilityManager();\n      const textLayerDiv = document.createElement(\"div\");\n      textLayerDiv.className = \"textLayer\";\n      textLayerDiv.style.width = canvasWrapper.style.width;\n      textLayerDiv.style.height = canvasWrapper.style.height;\n\n      if (lastDivBeforeTextDiv) {\n        lastDivBeforeTextDiv.before(textLayerDiv);\n      } else {\n        div.append(textLayerDiv);\n      }\n\n      textLayer = this.textLayerFactory.createTextLayerBuilder({\n        textLayerDiv,\n        pageIndex: this.id - 1,\n        viewport: this.viewport,\n        enhanceTextSelection: this.textLayerMode === _ui_utils.TextLayerMode.ENABLE_ENHANCE,\n        eventBus: this.eventBus,\n        highlighter: this.textHighlighter,\n        accessibilityManager: this._accessibilityManager\n      });\n    }\n\n    this.textLayer = textLayer;\n\n    if (this.#annotationMode !== _pdfjsLib.AnnotationMode.DISABLE && this.annotationLayerFactory) {\n      this._annotationCanvasMap ||= new Map();\n      this.annotationLayer ||= this.annotationLayerFactory.createAnnotationLayerBuilder({\n        pageDiv: div,\n        pdfPage,\n        imageResourcesPath: this.imageResourcesPath,\n        renderForms: this.#annotationMode === _pdfjsLib.AnnotationMode.ENABLE_FORMS,\n        l10n: this.l10n,\n        annotationCanvasMap: this._annotationCanvasMap,\n        accessibilityManager: this._accessibilityManager\n      });\n    }\n\n    if (this.xfaLayer?.div) {\n      div.append(this.xfaLayer.div);\n    }\n\n    let renderContinueCallback = null;\n\n    if (this.renderingQueue) {\n      renderContinueCallback = cont => {\n        if (!this.renderingQueue.isHighestPriority(this)) {\n          this.renderingState = _ui_utils.RenderingStates.PAUSED;\n\n          this.resume = () => {\n            this.renderingState = _ui_utils.RenderingStates.RUNNING;\n            cont();\n          };\n\n          return;\n        }\n\n        cont();\n      };\n    }\n\n    const finishPaintTask = async (error = null) => {\n      if (paintTask === this.paintTask) {\n        this.paintTask = null;\n      }\n\n      if (error instanceof _pdfjsLib.RenderingCancelledException) {\n        this._renderError = null;\n        return;\n      }\n\n      this._renderError = error;\n      this.renderingState = _ui_utils.RenderingStates.FINISHED;\n\n      if (this.loadingIconDiv) {\n        this.loadingIconDiv.remove();\n        delete this.loadingIconDiv;\n      }\n\n      this._resetZoomLayer(true);\n\n      this.#useThumbnailCanvas.regularAnnotations = !paintTask.separateAnnots;\n      this.eventBus.dispatch(\"pagerendered\", {\n        source: this,\n        pageNumber: this.id,\n        cssTransform: false,\n        timestamp: performance.now(),\n        error: this._renderError\n      });\n\n      if (error) {\n        throw error;\n      }\n    };\n\n    const paintTask = this.renderer === _ui_utils.RendererType.SVG ? this.paintOnSvg(canvasWrapper) : this.paintOnCanvas(canvasWrapper);\n    paintTask.onRenderContinue = renderContinueCallback;\n    this.paintTask = paintTask;\n    const resultPromise = paintTask.promise.then(() => {\n      return finishPaintTask(null).then(() => {\n        if (textLayer) {\n          const readableStream = pdfPage.streamTextContent({\n            includeMarkedContent: true\n          });\n          textLayer.setTextContentStream(readableStream);\n          textLayer.render();\n        }\n\n        if (this.annotationLayer) {\n          this._renderAnnotationLayer().then(() => {\n            if (this.annotationEditorLayerFactory) {\n              this.annotationEditorLayer ||= this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({\n                pageDiv: div,\n                pdfPage,\n                l10n: this.l10n,\n                accessibilityManager: this._accessibilityManager\n              });\n\n              this._renderAnnotationEditorLayer();\n            }\n          });\n        }\n      });\n    }, function (reason) {\n      return finishPaintTask(reason);\n    });\n\n    if (this.xfaLayerFactory) {\n      this.xfaLayer ||= this.xfaLayerFactory.createXfaLayerBuilder({\n        pageDiv: div,\n        pdfPage\n      });\n\n      this._renderXfaLayer();\n    }\n\n    if (this.structTreeLayerFactory && this.textLayer && this.canvas) {\n      this._onTextLayerRendered = event => {\n        if (event.pageNumber !== this.id) {\n          return;\n        }\n\n        this.eventBus._off(\"textlayerrendered\", this._onTextLayerRendered);\n\n        this._onTextLayerRendered = null;\n\n        if (!this.canvas) {\n          return;\n        }\n\n        this.pdfPage.getStructTree().then(tree => {\n          if (!tree) {\n            return;\n          }\n\n          if (!this.canvas) {\n            return;\n          }\n\n          const treeDom = this.structTreeLayer.render(tree);\n          treeDom.classList.add(\"structTree\");\n          this.canvas.append(treeDom);\n        });\n      };\n\n      this.eventBus._on(\"textlayerrendered\", this._onTextLayerRendered);\n\n      this.structTreeLayer = this.structTreeLayerFactory.createStructTreeLayerBuilder({\n        pdfPage\n      });\n    }\n\n    div.setAttribute(\"data-loaded\", true);\n    this.eventBus.dispatch(\"pagerender\", {\n      source: this,\n      pageNumber: this.id\n    });\n    return resultPromise;\n  }\n\n  paintOnCanvas(canvasWrapper) {\n    const renderCapability = (0, _pdfjsLib.createPromiseCapability)();\n    const result = {\n      promise: renderCapability.promise,\n\n      onRenderContinue(cont) {\n        cont();\n      },\n\n      cancel() {\n        renderTask.cancel();\n      },\n\n      get separateAnnots() {\n        return renderTask.separateAnnots;\n      }\n\n    };\n    const viewport = this.viewport;\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"presentation\");\n    canvas.hidden = true;\n    let isCanvasHidden = true;\n\n    const showCanvas = function () {\n      if (isCanvasHidden) {\n        canvas.hidden = false;\n        isCanvasHidden = false;\n      }\n    };\n\n    canvasWrapper.append(canvas);\n    this.canvas = canvas;\n    const ctx = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n    const outputScale = this.outputScale = new _ui_utils.OutputScale();\n\n    if (this.useOnlyCssZoom) {\n      const actualSizeViewport = viewport.clone({\n        scale: _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS\n      });\n      outputScale.sx *= actualSizeViewport.width / viewport.width;\n      outputScale.sy *= actualSizeViewport.height / viewport.height;\n    }\n\n    if (this.maxCanvasPixels > 0) {\n      const pixelsInViewport = viewport.width * viewport.height;\n      const maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n\n      if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n        outputScale.sx = maxScale;\n        outputScale.sy = maxScale;\n        this.hasRestrictedScaling = true;\n      } else {\n        this.hasRestrictedScaling = false;\n      }\n    }\n\n    const sfx = (0, _ui_utils.approximateFraction)(outputScale.sx);\n    const sfy = (0, _ui_utils.approximateFraction)(outputScale.sy);\n    canvas.width = (0, _ui_utils.roundToDivide)(viewport.width * outputScale.sx, sfx[0]);\n    canvas.height = (0, _ui_utils.roundToDivide)(viewport.height * outputScale.sy, sfy[0]);\n    canvas.style.width = (0, _ui_utils.roundToDivide)(viewport.width, sfx[1]) + \"px\";\n    canvas.style.height = (0, _ui_utils.roundToDivide)(viewport.height, sfy[1]) + \"px\";\n    this.paintedViewportMap.set(canvas, viewport);\n    const transform = outputScale.scaled ? [outputScale.sx, 0, 0, outputScale.sy, 0, 0] : null;\n    const renderContext = {\n      canvasContext: ctx,\n      transform,\n      viewport: this.viewport,\n      annotationMode: this.#annotationMode,\n      optionalContentConfigPromise: this._optionalContentConfigPromise,\n      annotationCanvasMap: this._annotationCanvasMap,\n      pageColors: this.pageColors\n    };\n    const renderTask = this.pdfPage.render(renderContext);\n\n    renderTask.onContinue = function (cont) {\n      showCanvas();\n\n      if (result.onRenderContinue) {\n        result.onRenderContinue(cont);\n      } else {\n        cont();\n      }\n    };\n\n    renderTask.promise.then(function () {\n      showCanvas();\n      renderCapability.resolve();\n    }, function (error) {\n      showCanvas();\n      renderCapability.reject(error);\n    });\n    return result;\n  }\n\n  paintOnSvg(wrapper) {\n    let cancelled = false;\n\n    const ensureNotCancelled = () => {\n      if (cancelled) {\n        throw new _pdfjsLib.RenderingCancelledException(`Rendering cancelled, page ${this.id}`, \"svg\");\n      }\n    };\n\n    const pdfPage = this.pdfPage;\n    const actualSizeViewport = this.viewport.clone({\n      scale: _pdfjsLib.PixelsPerInch.PDF_TO_CSS_UNITS\n    });\n    const promise = pdfPage.getOperatorList({\n      annotationMode: this.#annotationMode\n    }).then(opList => {\n      ensureNotCancelled();\n      const svgGfx = new _pdfjsLib.SVGGraphics(pdfPage.commonObjs, pdfPage.objs);\n      return svgGfx.getSVG(opList, actualSizeViewport).then(svg => {\n        ensureNotCancelled();\n        this.svg = svg;\n        this.paintedViewportMap.set(svg, actualSizeViewport);\n        svg.style.width = wrapper.style.width;\n        svg.style.height = wrapper.style.height;\n        this.renderingState = _ui_utils.RenderingStates.FINISHED;\n        wrapper.append(svg);\n      });\n    });\n    return {\n      promise,\n\n      onRenderContinue(cont) {\n        cont();\n      },\n\n      cancel() {\n        cancelled = true;\n      },\n\n      get separateAnnots() {\n        return false;\n      }\n\n    };\n  }\n\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n\n    if (this.pageLabel !== null) {\n      this.div.setAttribute(\"data-page-label\", this.pageLabel);\n    } else {\n      this.div.removeAttribute(\"data-page-label\");\n    }\n  }\n\n  get thumbnailCanvas() {\n    const {\n      initialOptionalContent,\n      regularAnnotations\n    } = this.#useThumbnailCanvas;\n    return initialOptionalContent && regularAnnotations ? this.canvas : null;\n  }\n\n}\n\nexports.PDFPageView = PDFPageView;\n\n/***/ }),\n/* 14 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.compatibilityParams = exports.OptionKind = exports.AppOptions = void 0;\nconst compatibilityParams = Object.create(null);\nexports.compatibilityParams = compatibilityParams;\n{\n  const userAgent = navigator.userAgent || \"\";\n  const platform = navigator.platform || \"\";\n  const maxTouchPoints = navigator.maxTouchPoints || 1;\n  const isAndroid = /Android/.test(userAgent);\n  const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n\n  (function checkCanvasSizeLimitation() {\n    if (isIOS || isAndroid) {\n      compatibilityParams.maxCanvasPixels = 5242880;\n    }\n  })();\n}\nconst OptionKind = {\n  VIEWER: 0x02,\n  API: 0x04,\n  WORKER: 0x08,\n  PREFERENCE: 0x80\n};\nexports.OptionKind = OptionKind;\nconst defaultOptions = {\n  annotationEditorMode: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationMode: {\n    value: 2,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cursorToolOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  defaultZoomValue: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  disableHistory: {\n    value: false,\n    kind: OptionKind.VIEWER\n  },\n  disablePageLabels: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePermissions: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePrintAutoRotate: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableScripting: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  externalLinkRel: {\n    value: \"noopener noreferrer nofollow\",\n    kind: OptionKind.VIEWER\n  },\n  externalLinkTarget: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  historyUpdateUrl: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  ignoreDestinationZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  imageResourcesPath: {\n    value: \"./images/\",\n    kind: OptionKind.VIEWER\n  },\n  maxCanvasPixels: {\n    value: 16777216,\n    kind: OptionKind.VIEWER\n  },\n  forcePageColors: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsBackground: {\n    value: \"Canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsForeground: {\n    value: \"CanvasText\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pdfBugEnabled: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  printResolution: {\n    value: 150,\n    kind: OptionKind.VIEWER\n  },\n  sidebarViewOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  scrollModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  spreadModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  textLayerMode: {\n    value: 1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  useOnlyCssZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewerCssTheme: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cMapPacked: {\n    value: true,\n    kind: OptionKind.API\n  },\n  cMapUrl: {\n    value: \"../web/cmaps/\",\n    kind: OptionKind.API\n  },\n  disableAutoFetch: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableFontFace: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableRange: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableStream: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  docBaseUrl: {\n    value: \"\",\n    kind: OptionKind.API\n  },\n  enableXfa: {\n    value: true,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  fontExtraProperties: {\n    value: false,\n    kind: OptionKind.API\n  },\n  isEvalSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  maxImageSize: {\n    value: -1,\n    kind: OptionKind.API\n  },\n  pdfBug: {\n    value: false,\n    kind: OptionKind.API\n  },\n  standardFontDataUrl: {\n    value: \"../web/standard_fonts/\",\n    kind: OptionKind.API\n  },\n  verbosity: {\n    value: 1,\n    kind: OptionKind.API\n  },\n  workerPort: {\n    value: null,\n    kind: OptionKind.WORKER\n  },\n  workerSrc: {\n    value: \"../build/pdf.worker.js\",\n    kind: OptionKind.WORKER\n  }\n};\n{\n  defaultOptions.defaultUrl = {\n    value: \"compressed.tracemonkey-pldi-09.pdf\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.disablePreferences = {\n    value: false,\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.locale = {\n    value: navigator.language || \"en-US\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.renderer = {\n    value: \"canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  };\n  defaultOptions.sandboxBundleSrc = {\n    value: \"../build/pdf.sandbox.js\",\n    kind: OptionKind.VIEWER\n  };\n}\nconst userOptions = Object.create(null);\n\nclass AppOptions {\n  constructor() {\n    throw new Error(\"Cannot initialize AppOptions.\");\n  }\n\n  static get(name) {\n    const userOption = userOptions[name];\n\n    if (userOption !== undefined) {\n      return userOption;\n    }\n\n    const defaultOption = defaultOptions[name];\n\n    if (defaultOption !== undefined) {\n      return compatibilityParams[name] ?? defaultOption.value;\n    }\n\n    return undefined;\n  }\n\n  static getAll(kind = null) {\n    const options = Object.create(null);\n\n    for (const name in defaultOptions) {\n      const defaultOption = defaultOptions[name];\n\n      if (kind) {\n        if ((kind & defaultOption.kind) === 0) {\n          continue;\n        }\n\n        if (kind === OptionKind.PREFERENCE) {\n          const value = defaultOption.value,\n                valueType = typeof value;\n\n          if (valueType === \"boolean\" || valueType === \"string\" || valueType === \"number\" && Number.isInteger(value)) {\n            options[name] = value;\n            continue;\n          }\n\n          throw new Error(`Invalid type for preference: ${name}`);\n        }\n      }\n\n      const userOption = userOptions[name];\n      options[name] = userOption !== undefined ? userOption : compatibilityParams[name] ?? defaultOption.value;\n    }\n\n    return options;\n  }\n\n  static set(name, value) {\n    userOptions[name] = value;\n  }\n\n  static setAll(options) {\n    for (const name in options) {\n      userOptions[name] = options[name];\n    }\n  }\n\n  static remove(name) {\n    delete userOptions[name];\n  }\n\n  static _hasUserOptions() {\n    return Object.keys(userOptions).length > 0;\n  }\n\n}\n\nexports.AppOptions = AppOptions;\n\n/***/ }),\n/* 15 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TextAccessibilityManager = void 0;\n\nvar _ui_utils = __w_pdfjs_require__(7);\n\nclass TextAccessibilityManager {\n  #enabled = false;\n  #textChildren = null;\n  #textNodes = new Map();\n  #waitingElements = new Map();\n\n  setTextMapping(textDivs) {\n    this.#textChildren = textDivs;\n  }\n\n  static #compareElementPositions(e1, e2) {\n    const rect1 = e1.getBoundingClientRect();\n    const rect2 = e2.getBoundingClientRect();\n\n    if (rect1.width === 0 && rect1.height === 0) {\n      return +1;\n    }\n\n    if (rect2.width === 0 && rect2.height === 0) {\n      return -1;\n    }\n\n    const top1 = rect1.y;\n    const bot1 = rect1.y + rect1.height;\n    const mid1 = rect1.y + rect1.height / 2;\n    const top2 = rect2.y;\n    const bot2 = rect2.y + rect2.height;\n    const mid2 = rect2.y + rect2.height / 2;\n\n    if (mid1 <= top2 && mid2 >= bot1) {\n      return -1;\n    }\n\n    if (mid2 <= top1 && mid1 >= bot2) {\n      return +1;\n    }\n\n    const centerX1 = rect1.x + rect1.width / 2;\n    const centerX2 = rect2.x + rect2.width / 2;\n    return centerX1 - centerX2;\n  }\n\n  enable() {\n    if (this.#enabled) {\n      throw new Error(\"TextAccessibilityManager is already enabled.\");\n    }\n\n    if (!this.#textChildren) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n\n    this.#enabled = true;\n    this.#textChildren = this.#textChildren.slice();\n    this.#textChildren.sort(TextAccessibilityManager.#compareElementPositions);\n\n    if (this.#textNodes.size > 0) {\n      const textChildren = this.#textChildren;\n\n      for (const [id, nodeIndex] of this.#textNodes) {\n        const element = document.getElementById(id);\n\n        if (!element) {\n          this.#textNodes.delete(id);\n          continue;\n        }\n\n        this.#addIdToAriaOwns(id, textChildren[nodeIndex]);\n      }\n    }\n\n    for (const [element, isRemovable] of this.#waitingElements) {\n      this.addPointerInTextLayer(element, isRemovable);\n    }\n\n    this.#waitingElements.clear();\n  }\n\n  disable() {\n    if (!this.#enabled) {\n      return;\n    }\n\n    this.#waitingElements.clear();\n    this.#textChildren = null;\n    this.#enabled = false;\n  }\n\n  removePointerInTextLayer(element) {\n    if (!this.#enabled) {\n      this.#waitingElements.delete(element);\n      return;\n    }\n\n    const children = this.#textChildren;\n\n    if (!children || children.length === 0) {\n      return;\n    }\n\n    const {\n      id\n    } = element;\n    const nodeIndex = this.#textNodes.get(id);\n\n    if (nodeIndex === undefined) {\n      return;\n    }\n\n    const node = children[nodeIndex];\n    this.#textNodes.delete(id);\n    let owns = node.getAttribute(\"aria-owns\");\n\n    if (owns?.includes(id)) {\n      owns = owns.split(\" \").filter(x => x !== id).join(\" \");\n\n      if (owns) {\n        node.setAttribute(\"aria-owns\", owns);\n      } else {\n        node.removeAttribute(\"aria-owns\");\n        node.setAttribute(\"role\", \"presentation\");\n      }\n    }\n  }\n\n  #addIdToAriaOwns(id, node) {\n    const owns = node.getAttribute(\"aria-owns\");\n\n    if (!owns?.includes(id)) {\n      node.setAttribute(\"aria-owns\", owns ? `${owns} ${id}` : id);\n    }\n\n    node.removeAttribute(\"role\");\n  }\n\n  addPointerInTextLayer(element, isRemovable) {\n    const {\n      id\n    } = element;\n\n    if (!id) {\n      return;\n    }\n\n    if (!this.#enabled) {\n      this.#waitingElements.set(element, isRemovable);\n      return;\n    }\n\n    if (isRemovable) {\n      this.removePointerInTextLayer(element);\n    }\n\n    const children = this.#textChildren;\n\n    if (!children || children.length === 0) {\n      return;\n    }\n\n    const index = (0, _ui_utils.binarySearchFirstItem)(children, node => TextAccessibilityManager.#compareElementPositions(element, node) < 0);\n    const nodeIndex = Math.max(0, index - 1);\n    this.#addIdToAriaOwns(id, children[nodeIndex]);\n    this.#textNodes.set(id, nodeIndex);\n  }\n\n  moveElementInDOM(container, element, contentElement, isRemovable) {\n    this.addPointerInTextLayer(contentElement, isRemovable);\n\n    if (!container.hasChildNodes()) {\n      container.append(element);\n      return;\n    }\n\n    const children = Array.from(container.childNodes).filter(node => node !== element);\n\n    if (children.length === 0) {\n      return;\n    }\n\n    const elementToCompare = contentElement || element;\n    const index = (0, _ui_utils.binarySearchFirstItem)(children, node => TextAccessibilityManager.#compareElementPositions(elementToCompare, node) < 0);\n\n    if (index === 0) {\n      children[0].before(element);\n    } else {\n      children[index - 1].after(element);\n    }\n  }\n\n}\n\nexports.TextAccessibilityManager = TextAccessibilityManager;\n\n/***/ }),\n/* 16 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PDFRenderingQueue = void 0;\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\nvar _ui_utils = __w_pdfjs_require__(7);\n\nconst CLEANUP_TIMEOUT = 30000;\n\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n  }\n\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n\n  hasViewer() {\n    return !!this.pdfViewer;\n  }\n\n  renderHighestPriority(currentlyVisiblePages) {\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n\n    if (this.isThumbnailViewEnabled && this.pdfThumbnailViewer?.forceRendering()) {\n      return;\n    }\n\n    if (this.printing) {\n      return;\n    }\n\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n\n  getHighestPriority(visible, views, scrolledDown, preRenderExtra = false) {\n    const visibleViews = visible.views,\n          numVisible = visibleViews.length;\n\n    if (numVisible === 0) {\n      return null;\n    }\n\n    for (let i = 0; i < numVisible; i++) {\n      const view = visibleViews[i].view;\n\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n\n    const firstId = visible.first.id,\n          lastId = visible.last.id;\n\n    if (lastId - firstId + 1 > numVisible) {\n      const visibleIds = visible.ids;\n\n      for (let i = 1, ii = lastId - firstId; i < ii; i++) {\n        const holeId = scrolledDown ? firstId + i : lastId - i;\n\n        if (visibleIds.has(holeId)) {\n          continue;\n        }\n\n        const holeView = views[holeId - 1];\n\n        if (!this.isViewFinished(holeView)) {\n          return holeView;\n        }\n      }\n    }\n\n    let preRenderIndex = scrolledDown ? lastId : firstId - 2;\n    let preRenderView = views[preRenderIndex];\n\n    if (preRenderView && !this.isViewFinished(preRenderView)) {\n      return preRenderView;\n    }\n\n    if (preRenderExtra) {\n      preRenderIndex += scrolledDown ? 1 : -1;\n      preRenderView = views[preRenderIndex];\n\n      if (preRenderView && !this.isViewFinished(preRenderView)) {\n        return preRenderView;\n      }\n    }\n\n    return null;\n  }\n\n  isViewFinished(view) {\n    return view.renderingState === _ui_utils.RenderingStates.FINISHED;\n  }\n\n  renderView(view) {\n    switch (view.renderingState) {\n      case _ui_utils.RenderingStates.FINISHED:\n        return false;\n\n      case _ui_utils.RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n\n      case _ui_utils.RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n\n      case _ui_utils.RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        view.draw().finally(() => {\n          this.renderHighestPriority();\n        }).catch(reason => {\n          if (reason instanceof _pdfjsLib.RenderingCancelledException) {\n            return;\n          }\n\n          console.error(`renderView: \"${reason}\"`);\n        });\n        break;\n    }\n\n    return true;\n  }\n\n}\n\nexports.PDFRenderingQueue = PDFRenderingQueue;\n\n/***/ }),\n/* 17 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TextHighlighter = void 0;\n\nclass TextHighlighter {\n  constructor({\n    findController,\n    eventBus,\n    pageIndex\n  }) {\n    this.findController = findController;\n    this.matches = [];\n    this.eventBus = eventBus;\n    this.pageIdx = pageIndex;\n    this._onUpdateTextLayerMatches = null;\n    this.textDivs = null;\n    this.textContentItemsStr = null;\n    this.enabled = false;\n  }\n\n  setTextMapping(divs, texts) {\n    this.textDivs = divs;\n    this.textContentItemsStr = texts;\n  }\n\n  enable() {\n    if (!this.textDivs || !this.textContentItemsStr) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n\n    if (this.enabled) {\n      throw new Error(\"TextHighlighter is already enabled.\");\n    }\n\n    this.enabled = true;\n\n    if (!this._onUpdateTextLayerMatches) {\n      this._onUpdateTextLayerMatches = evt => {\n        if (evt.pageIndex === this.pageIdx || evt.pageIndex === -1) {\n          this._updateMatches();\n        }\n      };\n\n      this.eventBus._on(\"updatetextlayermatches\", this._onUpdateTextLayerMatches);\n    }\n\n    this._updateMatches();\n  }\n\n  disable() {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.enabled = false;\n\n    if (this._onUpdateTextLayerMatches) {\n      this.eventBus._off(\"updatetextlayermatches\", this._onUpdateTextLayerMatches);\n\n      this._onUpdateTextLayerMatches = null;\n    }\n  }\n\n  _convertMatches(matches, matchesLength) {\n    if (!matches) {\n      return [];\n    }\n\n    const {\n      textContentItemsStr\n    } = this;\n    let i = 0,\n        iIndex = 0;\n    const end = textContentItemsStr.length - 1;\n    const result = [];\n\n    for (let m = 0, mm = matches.length; m < mm; m++) {\n      let matchIdx = matches[m];\n\n      while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n\n      if (i === textContentItemsStr.length) {\n        console.error(\"Could not find a matching mapping\");\n      }\n\n      const match = {\n        begin: {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        }\n      };\n      matchIdx += matchesLength[m];\n\n      while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n\n      match.end = {\n        divIdx: i,\n        offset: matchIdx - iIndex\n      };\n      result.push(match);\n    }\n\n    return result;\n  }\n\n  _renderMatches(matches) {\n    if (matches.length === 0) {\n      return;\n    }\n\n    const {\n      findController,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    const isSelectedPage = pageIdx === findController.selected.pageIdx;\n    const selectedMatchIdx = findController.selected.matchIdx;\n    const highlightAll = findController.state.highlightAll;\n    let prevEnd = null;\n    const infinity = {\n      divIdx: -1,\n      offset: undefined\n    };\n\n    function beginText(begin, className) {\n      const divIdx = begin.divIdx;\n      textDivs[divIdx].textContent = \"\";\n      return appendTextToDiv(divIdx, 0, begin.offset, className);\n    }\n\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n      let div = textDivs[divIdx];\n\n      if (div.nodeType === Node.TEXT_NODE) {\n        const span = document.createElement(\"span\");\n        div.before(span);\n        span.append(div);\n        textDivs[divIdx] = span;\n        div = span;\n      }\n\n      const content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n      const node = document.createTextNode(content);\n\n      if (className) {\n        const span = document.createElement(\"span\");\n        span.className = `${className} appended`;\n        span.append(node);\n        div.append(span);\n        return className.includes(\"selected\") ? span.offsetLeft : 0;\n      }\n\n      div.append(node);\n      return 0;\n    }\n\n    let i0 = selectedMatchIdx,\n        i1 = i0 + 1;\n\n    if (highlightAll) {\n      i0 = 0;\n      i1 = matches.length;\n    } else if (!isSelectedPage) {\n      return;\n    }\n\n    for (let i = i0; i < i1; i++) {\n      const match = matches[i];\n      const begin = match.begin;\n      const end = match.end;\n      const isSelected = isSelectedPage && i === selectedMatchIdx;\n      const highlightSuffix = isSelected ? \" selected\" : \"\";\n      let selectedLeft = 0;\n\n      if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n        if (prevEnd !== null) {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n        }\n\n        beginText(begin);\n      } else {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n      }\n\n      if (begin.divIdx === end.divIdx) {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n      } else {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n\n        for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n          textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n        }\n\n        beginText(end, \"highlight end\" + highlightSuffix);\n      }\n\n      prevEnd = end;\n\n      if (isSelected) {\n        findController.scrollMatchIntoView({\n          element: textDivs[begin.divIdx],\n          selectedLeft,\n          pageIndex: pageIdx,\n          matchIndex: selectedMatchIdx\n        });\n      }\n    }\n\n    if (prevEnd) {\n      appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n  }\n\n  _updateMatches() {\n    if (!this.enabled) {\n      return;\n    }\n\n    const {\n      findController,\n      matches,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    let clearedUntilDivIdx = -1;\n\n    for (let i = 0, ii = matches.length; i < ii; i++) {\n      const match = matches[i];\n      const begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n\n      for (let n = begin, end = match.end.divIdx; n <= end; n++) {\n        const div = textDivs[n];\n        div.textContent = textContentItemsStr[n];\n        div.className = \"\";\n      }\n\n      clearedUntilDivIdx = match.end.divIdx + 1;\n    }\n\n    if (!findController?.highlightMatches) {\n      return;\n    }\n\n    const pageMatches = findController.pageMatches[pageIdx] || null;\n    const pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n    this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n\n    this._renderMatches(this.matches);\n  }\n\n}\n\nexports.TextHighlighter = TextHighlighter;\n\n/***/ }),\n/* 18 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DownloadManager = void 0;\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\n;\n\nfunction download(blobUrl, filename) {\n  const a = document.createElement(\"a\");\n\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n\n  a.href = blobUrl;\n  a.target = \"_parent\";\n\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n\n  (document.body || document.documentElement).append(a);\n  a.click();\n  a.remove();\n}\n\nclass DownloadManager {\n  constructor() {\n    this._openBlobUrls = new WeakMap();\n  }\n\n  downloadUrl(url, filename) {\n    if (!(0, _pdfjsLib.createValidAbsoluteUrl)(url, \"http://example.com\")) {\n      console.error(`downloadUrl - not a valid URL: ${url}`);\n      return;\n    }\n\n    download(url + \"#pdfjs.action=download\", filename);\n  }\n\n  downloadData(data, filename, contentType) {\n    const blobUrl = URL.createObjectURL(new Blob([data], {\n      type: contentType\n    }));\n    download(blobUrl, filename);\n  }\n\n  openOrDownloadData(element, data, filename) {\n    const isPdfData = (0, _pdfjsLib.isPdfFile)(filename);\n    const contentType = isPdfData ? \"application/pdf\" : \"\";\n\n    if (isPdfData) {\n      let blobUrl = this._openBlobUrls.get(element);\n\n      if (!blobUrl) {\n        blobUrl = URL.createObjectURL(new Blob([data], {\n          type: contentType\n        }));\n\n        this._openBlobUrls.set(element, blobUrl);\n      }\n\n      let viewerUrl;\n      viewerUrl = \"?file=\" + encodeURIComponent(blobUrl + \"#\" + filename);\n\n      try {\n        window.open(viewerUrl);\n        return true;\n      } catch (ex) {\n        console.error(`openOrDownloadData: ${ex}`);\n        URL.revokeObjectURL(blobUrl);\n\n        this._openBlobUrls.delete(element);\n      }\n    }\n\n    this.downloadData(data, filename, contentType);\n    return false;\n  }\n\n  download(blob, url, filename) {\n    const blobUrl = URL.createObjectURL(blob);\n    download(blobUrl, filename);\n  }\n\n}\n\nexports.DownloadManager = DownloadManager;\n\n/***/ }),\n/* 19 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.WaitOnType = exports.EventBus = exports.AutomationEventBus = void 0;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    const eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    const timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nclass EventBus {\n  constructor() {\n    this._listeners = Object.create(null);\n  }\n\n  on(eventName, listener, options = null) {\n    this._on(eventName, listener, {\n      external: true,\n      once: options?.once\n    });\n  }\n\n  off(eventName, listener, options = null) {\n    this._off(eventName, listener, {\n      external: true,\n      once: options?.once\n    });\n  }\n\n  dispatch(eventName, data) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n\n    let externalListeners;\n\n    for (const {\n      listener,\n      external,\n      once\n    } of eventListeners.slice(0)) {\n      if (once) {\n        this._off(eventName, listener);\n      }\n\n      if (external) {\n        (externalListeners ||= []).push(listener);\n        continue;\n      }\n\n      listener(data);\n    }\n\n    if (externalListeners) {\n      for (const listener of externalListeners) {\n        listener(data);\n      }\n\n      externalListeners = null;\n    }\n  }\n\n  _on(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName] ||= [];\n    eventListeners.push({\n      listener,\n      external: options?.external === true,\n      once: options?.once === true\n    });\n  }\n\n  _off(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      return;\n    }\n\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      if (eventListeners[i].listener === listener) {\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n\nexports.EventBus = EventBus;\n\nclass AutomationEventBus extends EventBus {\n  dispatch(eventName, data) {\n    throw new Error(\"Not implemented: AutomationEventBus.dispatch\");\n  }\n\n}\n\nexports.AutomationEventBus = AutomationEventBus;\n\n/***/ }),\n/* 20 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.GenericL10n = void 0;\n\n__w_pdfjs_require__(21);\n\nvar _l10n_utils = __w_pdfjs_require__(4);\n\nconst webL10n = document.webL10n;\n\nclass GenericL10n {\n  constructor(lang) {\n    this._lang = lang;\n    this._ready = new Promise((resolve, reject) => {\n      webL10n.setLanguage((0, _l10n_utils.fixupLangCode)(lang), () => {\n        resolve(webL10n);\n      });\n    });\n  }\n\n  async getLanguage() {\n    const l10n = await this._ready;\n    return l10n.getLanguage();\n  }\n\n  async getDirection() {\n    const l10n = await this._ready;\n    return l10n.getDirection();\n  }\n\n  async get(key, args = null, fallback = (0, _l10n_utils.getL10nFallback)(key, args)) {\n    const l10n = await this._ready;\n    return l10n.get(key, args, fallback);\n  }\n\n  async translate(element) {\n    const l10n = await this._ready;\n    return l10n.translate(element);\n  }\n\n}\n\nexports.GenericL10n = GenericL10n;\n\n/***/ }),\n/* 21 */\n/***/ (() => {\n\n\n\ndocument.webL10n = function (window, document, undefined) {\n  var gL10nData = {};\n  var gTextData = '';\n  var gTextProp = 'textContent';\n  var gLanguage = '';\n  var gMacros = {};\n  var gReadyState = 'loading';\n  var gAsyncResourceLoading = true;\n\n  function getL10nResourceLinks() {\n    return document.querySelectorAll('link[type=\"application/l10n\"]');\n  }\n\n  function getL10nDictionary() {\n    var script = document.querySelector('script[type=\"application/l10n\"]');\n    return script ? JSON.parse(script.innerHTML) : null;\n  }\n\n  function getTranslatableChildren(element) {\n    return element ? element.querySelectorAll('*[data-l10n-id]') : [];\n  }\n\n  function getL10nAttributes(element) {\n    if (!element) return {};\n    var l10nId = element.getAttribute('data-l10n-id');\n    var l10nArgs = element.getAttribute('data-l10n-args');\n    var args = {};\n\n    if (l10nArgs) {\n      try {\n        args = JSON.parse(l10nArgs);\n      } catch (e) {\n        console.warn('could not parse arguments for #' + l10nId);\n      }\n    }\n\n    return {\n      id: l10nId,\n      args: args\n    };\n  }\n\n  function xhrLoadText(url, onSuccess, onFailure) {\n    onSuccess = onSuccess || function _onSuccess(data) {};\n\n    onFailure = onFailure || function _onFailure() {};\n\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, gAsyncResourceLoading);\n\n    if (xhr.overrideMimeType) {\n      xhr.overrideMimeType('text/plain; charset=utf-8');\n    }\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        if (xhr.status == 200 || xhr.status === 0) {\n          onSuccess(xhr.responseText);\n        } else {\n          onFailure();\n        }\n      }\n    };\n\n    xhr.onerror = onFailure;\n    xhr.ontimeout = onFailure;\n\n    try {\n      xhr.send(null);\n    } catch (e) {\n      onFailure();\n    }\n  }\n\n  function parseResource(href, lang, successCallback, failureCallback) {\n    var baseURL = href.replace(/[^\\/]*$/, '') || './';\n\n    function evalString(text) {\n      if (text.lastIndexOf('\\\\') < 0) return text;\n      return text.replace(/\\\\\\\\/g, '\\\\').replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r').replace(/\\\\t/g, '\\t').replace(/\\\\b/g, '\\b').replace(/\\\\f/g, '\\f').replace(/\\\\{/g, '{').replace(/\\\\}/g, '}').replace(/\\\\\"/g, '\"').replace(/\\\\'/g, \"'\");\n    }\n\n    function parseProperties(text, parsedPropertiesCallback) {\n      var dictionary = {};\n      var reBlank = /^\\s*|\\s*$/;\n      var reComment = /^\\s*#|^\\s*$/;\n      var reSection = /^\\s*\\[(.*)\\]\\s*$/;\n      var reImport = /^\\s*@import\\s+url\\((.*)\\)\\s*$/i;\n      var reSplit = /^([^=\\s]*)\\s*=\\s*(.+)$/;\n\n      function parseRawLines(rawText, extendedSyntax, parsedRawLinesCallback) {\n        var entries = rawText.replace(reBlank, '').split(/[\\r\\n]+/);\n        var currentLang = '*';\n        var genericLang = lang.split('-', 1)[0];\n        var skipLang = false;\n        var match = '';\n\n        function nextEntry() {\n          while (true) {\n            if (!entries.length) {\n              parsedRawLinesCallback();\n              return;\n            }\n\n            var line = entries.shift();\n            if (reComment.test(line)) continue;\n\n            if (extendedSyntax) {\n              match = reSection.exec(line);\n\n              if (match) {\n                currentLang = match[1].toLowerCase();\n                skipLang = currentLang !== '*' && currentLang !== lang && currentLang !== genericLang;\n                continue;\n              } else if (skipLang) {\n                continue;\n              }\n\n              match = reImport.exec(line);\n\n              if (match) {\n                loadImport(baseURL + match[1], nextEntry);\n                return;\n              }\n            }\n\n            var tmp = line.match(reSplit);\n\n            if (tmp && tmp.length == 3) {\n              dictionary[tmp[1]] = evalString(tmp[2]);\n            }\n          }\n        }\n\n        nextEntry();\n      }\n\n      function loadImport(url, callback) {\n        xhrLoadText(url, function (content) {\n          parseRawLines(content, false, callback);\n        }, function () {\n          console.warn(url + ' not found.');\n          callback();\n        });\n      }\n\n      parseRawLines(text, true, function () {\n        parsedPropertiesCallback(dictionary);\n      });\n    }\n\n    xhrLoadText(href, function (response) {\n      gTextData += response;\n      parseProperties(response, function (data) {\n        for (var key in data) {\n          var id,\n              prop,\n              index = key.lastIndexOf('.');\n\n          if (index > 0) {\n            id = key.substring(0, index);\n            prop = key.substring(index + 1);\n          } else {\n            id = key;\n            prop = gTextProp;\n          }\n\n          if (!gL10nData[id]) {\n            gL10nData[id] = {};\n          }\n\n          gL10nData[id][prop] = data[key];\n        }\n\n        if (successCallback) {\n          successCallback();\n        }\n      });\n    }, failureCallback);\n  }\n\n  function loadLocale(lang, callback) {\n    if (lang) {\n      lang = lang.toLowerCase();\n    }\n\n    callback = callback || function _callback() {};\n\n    clear();\n    gLanguage = lang;\n    var langLinks = getL10nResourceLinks();\n    var langCount = langLinks.length;\n\n    if (langCount === 0) {\n      var dict = getL10nDictionary();\n\n      if (dict && dict.locales && dict.default_locale) {\n        console.log('using the embedded JSON directory, early way out');\n        gL10nData = dict.locales[lang];\n\n        if (!gL10nData) {\n          var defaultLocale = dict.default_locale.toLowerCase();\n\n          for (var anyCaseLang in dict.locales) {\n            anyCaseLang = anyCaseLang.toLowerCase();\n\n            if (anyCaseLang === lang) {\n              gL10nData = dict.locales[lang];\n              break;\n            } else if (anyCaseLang === defaultLocale) {\n              gL10nData = dict.locales[defaultLocale];\n            }\n          }\n        }\n\n        callback();\n      } else {\n        console.log('no resource to load, early way out');\n      }\n\n      gReadyState = 'complete';\n      return;\n    }\n\n    var onResourceLoaded = null;\n    var gResourceCount = 0;\n\n    onResourceLoaded = function () {\n      gResourceCount++;\n\n      if (gResourceCount >= langCount) {\n        callback();\n        gReadyState = 'complete';\n      }\n    };\n\n    function L10nResourceLink(link) {\n      var href = link.href;\n\n      this.load = function (lang, callback) {\n        parseResource(href, lang, callback, function () {\n          console.warn(href + ' not found.');\n          console.warn('\"' + lang + '\" resource not found');\n          gLanguage = '';\n          callback();\n        });\n      };\n    }\n\n    for (var i = 0; i < langCount; i++) {\n      var resource = new L10nResourceLink(langLinks[i]);\n      resource.load(lang, onResourceLoaded);\n    }\n  }\n\n  function clear() {\n    gL10nData = {};\n    gTextData = '';\n    gLanguage = '';\n  }\n\n  function getPluralRules(lang) {\n    var locales2rules = {\n      'af': 3,\n      'ak': 4,\n      'am': 4,\n      'ar': 1,\n      'asa': 3,\n      'az': 0,\n      'be': 11,\n      'bem': 3,\n      'bez': 3,\n      'bg': 3,\n      'bh': 4,\n      'bm': 0,\n      'bn': 3,\n      'bo': 0,\n      'br': 20,\n      'brx': 3,\n      'bs': 11,\n      'ca': 3,\n      'cgg': 3,\n      'chr': 3,\n      'cs': 12,\n      'cy': 17,\n      'da': 3,\n      'de': 3,\n      'dv': 3,\n      'dz': 0,\n      'ee': 3,\n      'el': 3,\n      'en': 3,\n      'eo': 3,\n      'es': 3,\n      'et': 3,\n      'eu': 3,\n      'fa': 0,\n      'ff': 5,\n      'fi': 3,\n      'fil': 4,\n      'fo': 3,\n      'fr': 5,\n      'fur': 3,\n      'fy': 3,\n      'ga': 8,\n      'gd': 24,\n      'gl': 3,\n      'gsw': 3,\n      'gu': 3,\n      'guw': 4,\n      'gv': 23,\n      'ha': 3,\n      'haw': 3,\n      'he': 2,\n      'hi': 4,\n      'hr': 11,\n      'hu': 0,\n      'id': 0,\n      'ig': 0,\n      'ii': 0,\n      'is': 3,\n      'it': 3,\n      'iu': 7,\n      'ja': 0,\n      'jmc': 3,\n      'jv': 0,\n      'ka': 0,\n      'kab': 5,\n      'kaj': 3,\n      'kcg': 3,\n      'kde': 0,\n      'kea': 0,\n      'kk': 3,\n      'kl': 3,\n      'km': 0,\n      'kn': 0,\n      'ko': 0,\n      'ksb': 3,\n      'ksh': 21,\n      'ku': 3,\n      'kw': 7,\n      'lag': 18,\n      'lb': 3,\n      'lg': 3,\n      'ln': 4,\n      'lo': 0,\n      'lt': 10,\n      'lv': 6,\n      'mas': 3,\n      'mg': 4,\n      'mk': 16,\n      'ml': 3,\n      'mn': 3,\n      'mo': 9,\n      'mr': 3,\n      'ms': 0,\n      'mt': 15,\n      'my': 0,\n      'nah': 3,\n      'naq': 7,\n      'nb': 3,\n      'nd': 3,\n      'ne': 3,\n      'nl': 3,\n      'nn': 3,\n      'no': 3,\n      'nr': 3,\n      'nso': 4,\n      'ny': 3,\n      'nyn': 3,\n      'om': 3,\n      'or': 3,\n      'pa': 3,\n      'pap': 3,\n      'pl': 13,\n      'ps': 3,\n      'pt': 3,\n      'rm': 3,\n      'ro': 9,\n      'rof': 3,\n      'ru': 11,\n      'rwk': 3,\n      'sah': 0,\n      'saq': 3,\n      'se': 7,\n      'seh': 3,\n      'ses': 0,\n      'sg': 0,\n      'sh': 11,\n      'shi': 19,\n      'sk': 12,\n      'sl': 14,\n      'sma': 7,\n      'smi': 7,\n      'smj': 7,\n      'smn': 7,\n      'sms': 7,\n      'sn': 3,\n      'so': 3,\n      'sq': 3,\n      'sr': 11,\n      'ss': 3,\n      'ssy': 3,\n      'st': 3,\n      'sv': 3,\n      'sw': 3,\n      'syr': 3,\n      'ta': 3,\n      'te': 3,\n      'teo': 3,\n      'th': 0,\n      'ti': 4,\n      'tig': 3,\n      'tk': 3,\n      'tl': 4,\n      'tn': 3,\n      'to': 0,\n      'tr': 0,\n      'ts': 3,\n      'tzm': 22,\n      'uk': 11,\n      'ur': 3,\n      've': 3,\n      'vi': 0,\n      'vun': 3,\n      'wa': 4,\n      'wae': 3,\n      'wo': 0,\n      'xh': 3,\n      'xog': 3,\n      'yo': 0,\n      'zh': 0,\n      'zu': 3\n    };\n\n    function isIn(n, list) {\n      return list.indexOf(n) !== -1;\n    }\n\n    function isBetween(n, start, end) {\n      return start <= n && n <= end;\n    }\n\n    var pluralRules = {\n      '0': function (n) {\n        return 'other';\n      },\n      '1': function (n) {\n        if (isBetween(n % 100, 3, 10)) return 'few';\n        if (n === 0) return 'zero';\n        if (isBetween(n % 100, 11, 99)) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '2': function (n) {\n        if (n !== 0 && n % 10 === 0) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '3': function (n) {\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '4': function (n) {\n        if (isBetween(n, 0, 1)) return 'one';\n        return 'other';\n      },\n      '5': function (n) {\n        if (isBetween(n, 0, 2) && n != 2) return 'one';\n        return 'other';\n      },\n      '6': function (n) {\n        if (n === 0) return 'zero';\n        if (n % 10 == 1 && n % 100 != 11) return 'one';\n        return 'other';\n      },\n      '7': function (n) {\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '8': function (n) {\n        if (isBetween(n, 3, 6)) return 'few';\n        if (isBetween(n, 7, 10)) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '9': function (n) {\n        if (n === 0 || n != 1 && isBetween(n % 100, 1, 19)) return 'few';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '10': function (n) {\n        if (isBetween(n % 10, 2, 9) && !isBetween(n % 100, 11, 19)) return 'few';\n        if (n % 10 == 1 && !isBetween(n % 100, 11, 19)) return 'one';\n        return 'other';\n      },\n      '11': function (n) {\n        if (isBetween(n % 10, 2, 4) && !isBetween(n % 100, 12, 14)) return 'few';\n        if (n % 10 === 0 || isBetween(n % 10, 5, 9) || isBetween(n % 100, 11, 14)) return 'many';\n        if (n % 10 == 1 && n % 100 != 11) return 'one';\n        return 'other';\n      },\n      '12': function (n) {\n        if (isBetween(n, 2, 4)) return 'few';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '13': function (n) {\n        if (isBetween(n % 10, 2, 4) && !isBetween(n % 100, 12, 14)) return 'few';\n        if (n != 1 && isBetween(n % 10, 0, 1) || isBetween(n % 10, 5, 9) || isBetween(n % 100, 12, 14)) return 'many';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '14': function (n) {\n        if (isBetween(n % 100, 3, 4)) return 'few';\n        if (n % 100 == 2) return 'two';\n        if (n % 100 == 1) return 'one';\n        return 'other';\n      },\n      '15': function (n) {\n        if (n === 0 || isBetween(n % 100, 2, 10)) return 'few';\n        if (isBetween(n % 100, 11, 19)) return 'many';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '16': function (n) {\n        if (n % 10 == 1 && n != 11) return 'one';\n        return 'other';\n      },\n      '17': function (n) {\n        if (n == 3) return 'few';\n        if (n === 0) return 'zero';\n        if (n == 6) return 'many';\n        if (n == 2) return 'two';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '18': function (n) {\n        if (n === 0) return 'zero';\n        if (isBetween(n, 0, 2) && n !== 0 && n != 2) return 'one';\n        return 'other';\n      },\n      '19': function (n) {\n        if (isBetween(n, 2, 10)) return 'few';\n        if (isBetween(n, 0, 1)) return 'one';\n        return 'other';\n      },\n      '20': function (n) {\n        if ((isBetween(n % 10, 3, 4) || n % 10 == 9) && !(isBetween(n % 100, 10, 19) || isBetween(n % 100, 70, 79) || isBetween(n % 100, 90, 99))) return 'few';\n        if (n % 1000000 === 0 && n !== 0) return 'many';\n        if (n % 10 == 2 && !isIn(n % 100, [12, 72, 92])) return 'two';\n        if (n % 10 == 1 && !isIn(n % 100, [11, 71, 91])) return 'one';\n        return 'other';\n      },\n      '21': function (n) {\n        if (n === 0) return 'zero';\n        if (n == 1) return 'one';\n        return 'other';\n      },\n      '22': function (n) {\n        if (isBetween(n, 0, 1) || isBetween(n, 11, 99)) return 'one';\n        return 'other';\n      },\n      '23': function (n) {\n        if (isBetween(n % 10, 1, 2) || n % 20 === 0) return 'one';\n        return 'other';\n      },\n      '24': function (n) {\n        if (isBetween(n, 3, 10) || isBetween(n, 13, 19)) return 'few';\n        if (isIn(n, [2, 12])) return 'two';\n        if (isIn(n, [1, 11])) return 'one';\n        return 'other';\n      }\n    };\n    var index = locales2rules[lang.replace(/-.*$/, '')];\n\n    if (!(index in pluralRules)) {\n      console.warn('plural form unknown for [' + lang + ']');\n      return function () {\n        return 'other';\n      };\n    }\n\n    return pluralRules[index];\n  }\n\n  gMacros.plural = function (str, param, key, prop) {\n    var n = parseFloat(param);\n    if (isNaN(n)) return str;\n    if (prop != gTextProp) return str;\n\n    if (!gMacros._pluralRules) {\n      gMacros._pluralRules = getPluralRules(gLanguage);\n    }\n\n    var index = '[' + gMacros._pluralRules(n) + ']';\n\n    if (n === 0 && key + '[zero]' in gL10nData) {\n      str = gL10nData[key + '[zero]'][prop];\n    } else if (n == 1 && key + '[one]' in gL10nData) {\n      str = gL10nData[key + '[one]'][prop];\n    } else if (n == 2 && key + '[two]' in gL10nData) {\n      str = gL10nData[key + '[two]'][prop];\n    } else if (key + index in gL10nData) {\n      str = gL10nData[key + index][prop];\n    } else if (key + '[other]' in gL10nData) {\n      str = gL10nData[key + '[other]'][prop];\n    }\n\n    return str;\n  };\n\n  function getL10nData(key, args, fallback) {\n    var data = gL10nData[key];\n\n    if (!data) {\n      console.warn('#' + key + ' is undefined.');\n\n      if (!fallback) {\n        return null;\n      }\n\n      data = fallback;\n    }\n\n    var rv = {};\n\n    for (var prop in data) {\n      var str = data[prop];\n      str = substIndexes(str, args, key, prop);\n      str = substArguments(str, args, key);\n      rv[prop] = str;\n    }\n\n    return rv;\n  }\n\n  function substIndexes(str, args, key, prop) {\n    var reIndex = /\\{\\[\\s*([a-zA-Z]+)\\(([a-zA-Z]+)\\)\\s*\\]\\}/;\n    var reMatch = reIndex.exec(str);\n    if (!reMatch || !reMatch.length) return str;\n    var macroName = reMatch[1];\n    var paramName = reMatch[2];\n    var param;\n\n    if (args && paramName in args) {\n      param = args[paramName];\n    } else if (paramName in gL10nData) {\n      param = gL10nData[paramName];\n    }\n\n    if (macroName in gMacros) {\n      var macro = gMacros[macroName];\n      str = macro(str, param, key, prop);\n    }\n\n    return str;\n  }\n\n  function substArguments(str, args, key) {\n    var reArgs = /\\{\\{\\s*(.+?)\\s*\\}\\}/g;\n    return str.replace(reArgs, function (matched_text, arg) {\n      if (args && arg in args) {\n        return args[arg];\n      }\n\n      if (arg in gL10nData) {\n        return gL10nData[arg];\n      }\n\n      console.log('argument {{' + arg + '}} for #' + key + ' is undefined.');\n      return matched_text;\n    });\n  }\n\n  function translateElement(element) {\n    var l10n = getL10nAttributes(element);\n    if (!l10n.id) return;\n    var data = getL10nData(l10n.id, l10n.args);\n\n    if (!data) {\n      console.warn('#' + l10n.id + ' is undefined.');\n      return;\n    }\n\n    if (data[gTextProp]) {\n      if (getChildElementCount(element) === 0) {\n        element[gTextProp] = data[gTextProp];\n      } else {\n        var children = element.childNodes;\n        var found = false;\n\n        for (var i = 0, l = children.length; i < l; i++) {\n          if (children[i].nodeType === 3 && /\\S/.test(children[i].nodeValue)) {\n            if (found) {\n              children[i].nodeValue = '';\n            } else {\n              children[i].nodeValue = data[gTextProp];\n              found = true;\n            }\n          }\n        }\n\n        if (!found) {\n          var textNode = document.createTextNode(data[gTextProp]);\n          element.prepend(textNode);\n        }\n      }\n\n      delete data[gTextProp];\n    }\n\n    for (var k in data) {\n      element[k] = data[k];\n    }\n  }\n\n  function getChildElementCount(element) {\n    if (element.children) {\n      return element.children.length;\n    }\n\n    if (typeof element.childElementCount !== 'undefined') {\n      return element.childElementCount;\n    }\n\n    var count = 0;\n\n    for (var i = 0; i < element.childNodes.length; i++) {\n      count += element.nodeType === 1 ? 1 : 0;\n    }\n\n    return count;\n  }\n\n  function translateFragment(element) {\n    element = element || document.documentElement;\n    var children = getTranslatableChildren(element);\n    var elementCount = children.length;\n\n    for (var i = 0; i < elementCount; i++) {\n      translateElement(children[i]);\n    }\n\n    translateElement(element);\n  }\n\n  return {\n    get: function (key, args, fallbackString) {\n      var index = key.lastIndexOf('.');\n      var prop = gTextProp;\n\n      if (index > 0) {\n        prop = key.substring(index + 1);\n        key = key.substring(0, index);\n      }\n\n      var fallback;\n\n      if (fallbackString) {\n        fallback = {};\n        fallback[prop] = fallbackString;\n      }\n\n      var data = getL10nData(key, args, fallback);\n\n      if (data && prop in data) {\n        return data[prop];\n      }\n\n      return '{{' + key + '}}';\n    },\n    getData: function () {\n      return gL10nData;\n    },\n    getText: function () {\n      return gTextData;\n    },\n    getLanguage: function () {\n      return gLanguage;\n    },\n    setLanguage: function (lang, callback) {\n      loadLocale(lang, function () {\n        if (callback) callback();\n      });\n    },\n    getDirection: function () {\n      var rtlList = ['ar', 'he', 'fa', 'ps', 'ur'];\n      var shortCode = gLanguage.split('-', 1)[0];\n      return rtlList.indexOf(shortCode) >= 0 ? 'rtl' : 'ltr';\n    },\n    translate: translateFragment,\n    getReadyState: function () {\n      return gReadyState;\n    },\n    ready: function (callback) {\n      if (!callback) {\n        return;\n      } else if (gReadyState == 'complete' || gReadyState == 'interactive') {\n        window.setTimeout(function () {\n          callback();\n        });\n      } else if (document.addEventListener) {\n        document.addEventListener('localized', function once() {\n          document.removeEventListener('localized', once);\n          callback();\n        });\n      }\n    }\n  };\n}(window, document);\n\n/***/ }),\n/* 22 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PDFFindController = exports.FindState = void 0;\n\nvar _ui_utils = __w_pdfjs_require__(7);\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\nvar _pdf_find_utils = __w_pdfjs_require__(23);\n\nconst FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3\n};\nexports.FindState = FindState;\nconst FIND_TIMEOUT = 250;\nconst MATCH_SCROLL_OFFSET_TOP = -50;\nconst MATCH_SCROLL_OFFSET_LEFT = -400;\nconst CHARACTERS_TO_NORMALIZE = {\n  \"\\u2010\": \"-\",\n  \"\\u2018\": \"'\",\n  \"\\u2019\": \"'\",\n  \"\\u201A\": \"'\",\n  \"\\u201B\": \"'\",\n  \"\\u201C\": '\"',\n  \"\\u201D\": '\"',\n  \"\\u201E\": '\"',\n  \"\\u201F\": '\"',\n  \"\\u00BC\": \"1/4\",\n  \"\\u00BD\": \"1/2\",\n  \"\\u00BE\": \"3/4\"\n};\nconst DIACRITICS_EXCEPTION = new Set([0x3099, 0x309a, 0x094d, 0x09cd, 0x0a4d, 0x0acd, 0x0b4d, 0x0bcd, 0x0c4d, 0x0ccd, 0x0d3b, 0x0d3c, 0x0d4d, 0x0dca, 0x0e3a, 0x0eba, 0x0f84, 0x1039, 0x103a, 0x1714, 0x1734, 0x17d2, 0x1a60, 0x1b44, 0x1baa, 0x1bab, 0x1bf2, 0x1bf3, 0x2d7f, 0xa806, 0xa82c, 0xa8c4, 0xa953, 0xa9c0, 0xaaf6, 0xabed, 0x0c56, 0x0f71, 0x0f72, 0x0f7a, 0x0f7b, 0x0f7c, 0x0f7d, 0x0f80, 0x0f74]);\nconst DIACRITICS_EXCEPTION_STR = [...DIACRITICS_EXCEPTION.values()].map(x => String.fromCharCode(x)).join(\"\");\nconst DIACRITICS_REG_EXP = /\\p{M}+/gu;\nconst SPECIAL_CHARS_REG_EXP = /([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})/gu;\nconst NOT_DIACRITIC_FROM_END_REG_EXP = /([^\\p{M}])\\p{M}*$/u;\nconst NOT_DIACRITIC_FROM_START_REG_EXP = /^\\p{M}*([^\\p{M}])/u;\nconst SYLLABLES_REG_EXP = /[\\uAC00-\\uD7AF\\uFA6C\\uFACF-\\uFAD1\\uFAD5-\\uFAD7]+/g;\nconst SYLLABLES_LENGTHS = new Map();\nconst FIRST_CHAR_SYLLABLES_REG_EXP = \"[\\\\u1100-\\\\u1112\\\\ud7a4-\\\\ud7af\\\\ud84a\\\\ud84c\\\\ud850\\\\ud854\\\\ud857\\\\ud85f]\";\nlet noSyllablesRegExp = null;\nlet withSyllablesRegExp = null;\n\nfunction normalize(text) {\n  const syllablePositions = [];\n  let m;\n\n  while ((m = SYLLABLES_REG_EXP.exec(text)) !== null) {\n    let {\n      index\n    } = m;\n\n    for (const char of m[0]) {\n      let len = SYLLABLES_LENGTHS.get(char);\n\n      if (!len) {\n        len = char.normalize(\"NFD\").length;\n        SYLLABLES_LENGTHS.set(char, len);\n      }\n\n      syllablePositions.push([len, index++]);\n    }\n  }\n\n  let normalizationRegex;\n\n  if (syllablePositions.length === 0 && noSyllablesRegExp) {\n    normalizationRegex = noSyllablesRegExp;\n  } else if (syllablePositions.length > 0 && withSyllablesRegExp) {\n    normalizationRegex = withSyllablesRegExp;\n  } else {\n    const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n    const regexp = `([${replace}])|(\\\\p{M}+(?:-\\\\n)?)|(\\\\S-\\\\n)|(\\\\n)`;\n\n    if (syllablePositions.length === 0) {\n      normalizationRegex = noSyllablesRegExp = new RegExp(regexp + \"|(\\\\u0000)\", \"gum\");\n    } else {\n      normalizationRegex = withSyllablesRegExp = new RegExp(regexp + `|(${FIRST_CHAR_SYLLABLES_REG_EXP})`, \"gum\");\n    }\n  }\n\n  const rawDiacriticsPositions = [];\n\n  while ((m = DIACRITICS_REG_EXP.exec(text)) !== null) {\n    rawDiacriticsPositions.push([m[0].length, m.index]);\n  }\n\n  let normalized = text.normalize(\"NFD\");\n  const positions = [[0, 0]];\n  let rawDiacriticsIndex = 0;\n  let syllableIndex = 0;\n  let shift = 0;\n  let shiftOrigin = 0;\n  let eol = 0;\n  let hasDiacritics = false;\n  normalized = normalized.replace(normalizationRegex, (match, p1, p2, p3, p4, p5, i) => {\n    i -= shiftOrigin;\n\n    if (p1) {\n      const replacement = CHARACTERS_TO_NORMALIZE[match];\n      const jj = replacement.length;\n\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n\n      shift -= jj - 1;\n      return replacement;\n    }\n\n    if (p2) {\n      const hasTrailingDashEOL = p2.endsWith(\"\\n\");\n      const len = hasTrailingDashEOL ? p2.length - 2 : p2.length;\n      hasDiacritics = true;\n      let jj = len;\n\n      if (i + eol === rawDiacriticsPositions[rawDiacriticsIndex]?.[1]) {\n        jj -= rawDiacriticsPositions[rawDiacriticsIndex][0];\n        ++rawDiacriticsIndex;\n      }\n\n      for (let j = 1; j <= jj; j++) {\n        positions.push([i - 1 - shift + j, shift - j]);\n      }\n\n      shift -= jj;\n      shiftOrigin += jj;\n\n      if (hasTrailingDashEOL) {\n        i += len - 1;\n        positions.push([i - shift + 1, 1 + shift]);\n        shift += 1;\n        shiftOrigin += 1;\n        eol += 1;\n        return p2.slice(0, len);\n      }\n\n      return p2;\n    }\n\n    if (p3) {\n      positions.push([i - shift + 1, 1 + shift]);\n      shift += 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return p3.charAt(0);\n    }\n\n    if (p4) {\n      positions.push([i - shift + 1, shift - 1]);\n      shift -= 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return \" \";\n    }\n\n    if (i + eol === syllablePositions[syllableIndex]?.[1]) {\n      const newCharLen = syllablePositions[syllableIndex][0] - 1;\n      ++syllableIndex;\n\n      for (let j = 1; j <= newCharLen; j++) {\n        positions.push([i - (shift - j), shift - j]);\n      }\n\n      shift -= newCharLen;\n      shiftOrigin += newCharLen;\n    }\n\n    return p5;\n  });\n  positions.push([normalized.length, shift]);\n  return [normalized, positions, hasDiacritics];\n}\n\nfunction getOriginalIndex(diffs, pos, len) {\n  if (!diffs) {\n    return [pos, len];\n  }\n\n  const start = pos;\n  const end = pos + len;\n  let i = (0, _ui_utils.binarySearchFirstItem)(diffs, x => x[0] >= start);\n\n  if (diffs[i][0] > start) {\n    --i;\n  }\n\n  let j = (0, _ui_utils.binarySearchFirstItem)(diffs, x => x[0] >= end, i);\n\n  if (diffs[j][0] > end) {\n    --j;\n  }\n\n  return [start + diffs[i][1], len + diffs[j][1] - diffs[i][1]];\n}\n\nclass PDFFindController {\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    this._linkService = linkService;\n    this._eventBus = eventBus;\n    this.#reset();\n\n    eventBus._on(\"find\", this.#onFind.bind(this));\n\n    eventBus._on(\"findbarclose\", this.#onFindBarClose.bind(this));\n  }\n\n  get highlightMatches() {\n    return this._highlightMatches;\n  }\n\n  get pageMatches() {\n    return this._pageMatches;\n  }\n\n  get pageMatchesLength() {\n    return this._pageMatchesLength;\n  }\n\n  get selected() {\n    return this._selected;\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  setDocument(pdfDocument) {\n    if (this._pdfDocument) {\n      this.#reset();\n    }\n\n    if (!pdfDocument) {\n      return;\n    }\n\n    this._pdfDocument = pdfDocument;\n\n    this._firstPageCapability.resolve();\n  }\n\n  #onFind(state) {\n    if (!state) {\n      return;\n    }\n\n    const pdfDocument = this._pdfDocument;\n    const {\n      type\n    } = state;\n\n    if (this._state === null || this.#shouldDirtyMatch(state)) {\n      this._dirtyMatch = true;\n    }\n\n    this._state = state;\n\n    if (type !== \"highlightallchange\") {\n      this.#updateUIState(FindState.PENDING);\n    }\n\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n\n      this.#extractText();\n      const findbarClosed = !this._highlightMatches;\n      const pendingTimeout = !!this._findTimeout;\n\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n\n      if (!type) {\n        this._findTimeout = setTimeout(() => {\n          this.#nextMatch();\n          this._findTimeout = null;\n        }, FIND_TIMEOUT);\n      } else if (this._dirtyMatch) {\n        this.#nextMatch();\n      } else if (type === \"again\") {\n        this.#nextMatch();\n\n        if (findbarClosed && this._state.highlightAll) {\n          this.#updateAllPages();\n        }\n      } else if (type === \"highlightallchange\") {\n        if (pendingTimeout) {\n          this.#nextMatch();\n        } else {\n          this._highlightMatches = true;\n        }\n\n        this.#updateAllPages();\n      } else {\n        this.#nextMatch();\n      }\n    });\n  }\n\n  scrollMatchIntoView({\n    element = null,\n    selectedLeft = 0,\n    pageIndex = -1,\n    matchIndex = -1\n  }) {\n    if (!this._scrollMatches || !element) {\n      return;\n    } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n      return;\n    } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n      return;\n    }\n\n    this._scrollMatches = false;\n    const spot = {\n      top: MATCH_SCROLL_OFFSET_TOP,\n      left: selectedLeft + MATCH_SCROLL_OFFSET_LEFT\n    };\n    (0, _ui_utils.scrollIntoView)(element, spot, true);\n  }\n\n  #reset() {\n    this._highlightMatches = false;\n    this._scrollMatches = false;\n    this._pdfDocument = null;\n    this._pageMatches = [];\n    this._pageMatchesLength = [];\n    this._state = null;\n    this._selected = {\n      pageIdx: -1,\n      matchIdx: -1\n    };\n    this._offset = {\n      pageIdx: null,\n      matchIdx: null,\n      wrapped: false\n    };\n    this._extractTextPromises = [];\n    this._pageContents = [];\n    this._pageDiffs = [];\n    this._hasDiacritics = [];\n    this._matchesCountTotal = 0;\n    this._pagesToSearch = null;\n    this._pendingFindMatches = new Set();\n    this._resumePageIdx = null;\n    this._dirtyMatch = false;\n    clearTimeout(this._findTimeout);\n    this._findTimeout = null;\n    this._firstPageCapability = (0, _pdfjsLib.createPromiseCapability)();\n  }\n\n  get #query() {\n    if (this._state.query !== this._rawQuery) {\n      this._rawQuery = this._state.query;\n      [this._normalizedQuery] = normalize(this._state.query);\n    }\n\n    return this._normalizedQuery;\n  }\n\n  #shouldDirtyMatch(state) {\n    if (state.query !== this._state.query) {\n      return true;\n    }\n\n    switch (state.type) {\n      case \"again\":\n        const pageNumber = this._selected.pageIdx + 1;\n        const linkService = this._linkService;\n\n        if (pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !linkService.isPageVisible(pageNumber)) {\n          return true;\n        }\n\n        return false;\n\n      case \"highlightallchange\":\n        return false;\n    }\n\n    return true;\n  }\n\n  #isEntireWord(content, startIdx, length) {\n    let match = content.slice(0, startIdx).match(NOT_DIACRITIC_FROM_END_REG_EXP);\n\n    if (match) {\n      const first = content.charCodeAt(startIdx);\n      const limit = match[1].charCodeAt(0);\n\n      if ((0, _pdf_find_utils.getCharacterType)(first) === (0, _pdf_find_utils.getCharacterType)(limit)) {\n        return false;\n      }\n    }\n\n    match = content.slice(startIdx + length).match(NOT_DIACRITIC_FROM_START_REG_EXP);\n\n    if (match) {\n      const last = content.charCodeAt(startIdx + length - 1);\n      const limit = match[1].charCodeAt(0);\n\n      if ((0, _pdf_find_utils.getCharacterType)(last) === (0, _pdf_find_utils.getCharacterType)(limit)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  #calculateRegExpMatch(query, entireWord, pageIndex, pageContent) {\n    const matches = [],\n          matchesLength = [];\n    const diffs = this._pageDiffs[pageIndex];\n    let match;\n\n    while ((match = query.exec(pageContent)) !== null) {\n      if (entireWord && !this.#isEntireWord(pageContent, match.index, match[0].length)) {\n        continue;\n      }\n\n      const [matchPos, matchLen] = getOriginalIndex(diffs, match.index, match[0].length);\n\n      if (matchLen) {\n        matches.push(matchPos);\n        matchesLength.push(matchLen);\n      }\n    }\n\n    this._pageMatches[pageIndex] = matches;\n    this._pageMatchesLength[pageIndex] = matchesLength;\n  }\n\n  #convertToRegExpString(query, hasDiacritics) {\n    const {\n      matchDiacritics\n    } = this._state;\n    let isUnicode = false;\n    query = query.replace(SPECIAL_CHARS_REG_EXP, (match, p1, p2, p3, p4, p5) => {\n      if (p1) {\n        return `[ ]*\\\\${p1}[ ]*`;\n      }\n\n      if (p2) {\n        return `[ ]*${p2}[ ]*`;\n      }\n\n      if (p3) {\n        return \"[ ]+\";\n      }\n\n      if (matchDiacritics) {\n        return p4 || p5;\n      }\n\n      if (p4) {\n        return DIACRITICS_EXCEPTION.has(p4.charCodeAt(0)) ? p4 : \"\";\n      }\n\n      if (hasDiacritics) {\n        isUnicode = true;\n        return `${p5}\\\\p{M}*`;\n      }\n\n      return p5;\n    });\n    const trailingSpaces = \"[ ]*\";\n\n    if (query.endsWith(trailingSpaces)) {\n      query = query.slice(0, query.length - trailingSpaces.length);\n    }\n\n    if (matchDiacritics) {\n      if (hasDiacritics) {\n        isUnicode = true;\n        query = `${query}(?=[${DIACRITICS_EXCEPTION_STR}]|[^\\\\p{M}]|$)`;\n      }\n    }\n\n    return [isUnicode, query];\n  }\n\n  #calculateMatch(pageIndex) {\n    let query = this.#query;\n\n    if (query.length === 0) {\n      return;\n    }\n\n    const {\n      caseSensitive,\n      entireWord,\n      phraseSearch\n    } = this._state;\n    const pageContent = this._pageContents[pageIndex];\n    const hasDiacritics = this._hasDiacritics[pageIndex];\n    let isUnicode = false;\n\n    if (phraseSearch) {\n      [isUnicode, query] = this.#convertToRegExpString(query, hasDiacritics);\n    } else {\n      const match = query.match(/\\S+/g);\n\n      if (match) {\n        query = match.sort().reverse().map(q => {\n          const [isUnicodePart, queryPart] = this.#convertToRegExpString(q, hasDiacritics);\n          isUnicode ||= isUnicodePart;\n          return `(${queryPart})`;\n        }).join(\"|\");\n      }\n    }\n\n    const flags = `g${isUnicode ? \"u\" : \"\"}${caseSensitive ? \"\" : \"i\"}`;\n    query = new RegExp(query, flags);\n    this.#calculateRegExpMatch(query, entireWord, pageIndex, pageContent);\n\n    if (this._state.highlightAll) {\n      this.#updatePage(pageIndex);\n    }\n\n    if (this._resumePageIdx === pageIndex) {\n      this._resumePageIdx = null;\n      this.#nextPageMatch();\n    }\n\n    const pageMatchesCount = this._pageMatches[pageIndex].length;\n\n    if (pageMatchesCount > 0) {\n      this._matchesCountTotal += pageMatchesCount;\n      this.#updateUIResultsCount();\n    }\n  }\n\n  #extractText() {\n    if (this._extractTextPromises.length > 0) {\n      return;\n    }\n\n    let promise = Promise.resolve();\n\n    for (let i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n      const extractTextCapability = (0, _pdfjsLib.createPromiseCapability)();\n      this._extractTextPromises[i] = extractTextCapability.promise;\n      promise = promise.then(() => {\n        return this._pdfDocument.getPage(i + 1).then(pdfPage => {\n          return pdfPage.getTextContent();\n        }).then(textContent => {\n          const strBuf = [];\n\n          for (const textItem of textContent.items) {\n            strBuf.push(textItem.str);\n\n            if (textItem.hasEOL) {\n              strBuf.push(\"\\n\");\n            }\n          }\n\n          [this._pageContents[i], this._pageDiffs[i], this._hasDiacritics[i]] = normalize(strBuf.join(\"\"));\n          extractTextCapability.resolve();\n        }, reason => {\n          console.error(`Unable to get text content for page ${i + 1}`, reason);\n          this._pageContents[i] = \"\";\n          this._pageDiffs[i] = null;\n          this._hasDiacritics[i] = false;\n          extractTextCapability.resolve();\n        });\n      });\n    }\n  }\n\n  #updatePage(index) {\n    if (this._scrollMatches && this._selected.pageIdx === index) {\n      this._linkService.page = index + 1;\n    }\n\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: index\n    });\n  }\n\n  #updateAllPages() {\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: -1\n    });\n  }\n\n  #nextMatch() {\n    const previous = this._state.findPrevious;\n    const currentPageIndex = this._linkService.page - 1;\n    const numPages = this._linkService.pagesCount;\n    this._highlightMatches = true;\n\n    if (this._dirtyMatch) {\n      this._dirtyMatch = false;\n      this._selected.pageIdx = this._selected.matchIdx = -1;\n      this._offset.pageIdx = currentPageIndex;\n      this._offset.matchIdx = null;\n      this._offset.wrapped = false;\n      this._resumePageIdx = null;\n      this._pageMatches.length = 0;\n      this._pageMatchesLength.length = 0;\n      this._matchesCountTotal = 0;\n      this.#updateAllPages();\n\n      for (let i = 0; i < numPages; i++) {\n        if (this._pendingFindMatches.has(i)) {\n          continue;\n        }\n\n        this._pendingFindMatches.add(i);\n\n        this._extractTextPromises[i].then(() => {\n          this._pendingFindMatches.delete(i);\n\n          this.#calculateMatch(i);\n        });\n      }\n    }\n\n    if (this.#query === \"\") {\n      this.#updateUIState(FindState.FOUND);\n      return;\n    }\n\n    if (this._resumePageIdx) {\n      return;\n    }\n\n    const offset = this._offset;\n    this._pagesToSearch = numPages;\n\n    if (offset.matchIdx !== null) {\n      const numPageMatches = this._pageMatches[offset.pageIdx].length;\n\n      if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n        offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n        this.#updateMatch(true);\n        return;\n      }\n\n      this.#advanceOffsetPage(previous);\n    }\n\n    this.#nextPageMatch();\n  }\n\n  #matchesReady(matches) {\n    const offset = this._offset;\n    const numMatches = matches.length;\n    const previous = this._state.findPrevious;\n\n    if (numMatches) {\n      offset.matchIdx = previous ? numMatches - 1 : 0;\n      this.#updateMatch(true);\n      return true;\n    }\n\n    this.#advanceOffsetPage(previous);\n\n    if (offset.wrapped) {\n      offset.matchIdx = null;\n\n      if (this._pagesToSearch < 0) {\n        this.#updateMatch(false);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  #nextPageMatch() {\n    if (this._resumePageIdx !== null) {\n      console.error(\"There can only be one pending page.\");\n    }\n\n    let matches = null;\n\n    do {\n      const pageIdx = this._offset.pageIdx;\n      matches = this._pageMatches[pageIdx];\n\n      if (!matches) {\n        this._resumePageIdx = pageIdx;\n        break;\n      }\n    } while (!this.#matchesReady(matches));\n  }\n\n  #advanceOffsetPage(previous) {\n    const offset = this._offset;\n    const numPages = this._linkService.pagesCount;\n    offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n    offset.matchIdx = null;\n    this._pagesToSearch--;\n\n    if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n      offset.pageIdx = previous ? numPages - 1 : 0;\n      offset.wrapped = true;\n    }\n  }\n\n  #updateMatch(found = false) {\n    let state = FindState.NOT_FOUND;\n    const wrapped = this._offset.wrapped;\n    this._offset.wrapped = false;\n\n    if (found) {\n      const previousPage = this._selected.pageIdx;\n      this._selected.pageIdx = this._offset.pageIdx;\n      this._selected.matchIdx = this._offset.matchIdx;\n      state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n\n      if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n        this.#updatePage(previousPage);\n      }\n    }\n\n    this.#updateUIState(state, this._state.findPrevious);\n\n    if (this._selected.pageIdx !== -1) {\n      this._scrollMatches = true;\n      this.#updatePage(this._selected.pageIdx);\n    }\n  }\n\n  #onFindBarClose(evt) {\n    const pdfDocument = this._pdfDocument;\n\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n\n      if (this._resumePageIdx) {\n        this._resumePageIdx = null;\n        this._dirtyMatch = true;\n      }\n\n      this.#updateUIState(FindState.FOUND);\n      this._highlightMatches = false;\n      this.#updateAllPages();\n    });\n  }\n\n  #requestMatchesCount() {\n    const {\n      pageIdx,\n      matchIdx\n    } = this._selected;\n    let current = 0,\n        total = this._matchesCountTotal;\n\n    if (matchIdx !== -1) {\n      for (let i = 0; i < pageIdx; i++) {\n        current += this._pageMatches[i]?.length || 0;\n      }\n\n      current += matchIdx + 1;\n    }\n\n    if (current < 1 || current > total) {\n      current = total = 0;\n    }\n\n    return {\n      current,\n      total\n    };\n  }\n\n  #updateUIResultsCount() {\n    this._eventBus.dispatch(\"updatefindmatchescount\", {\n      source: this,\n      matchesCount: this.#requestMatchesCount()\n    });\n  }\n\n  #updateUIState(state, previous = false) {\n    this._eventBus.dispatch(\"updatefindcontrolstate\", {\n      source: this,\n      state,\n      previous,\n      matchesCount: this.#requestMatchesCount(),\n      rawQuery: this._state?.query ?? null\n    });\n  }\n\n}\n\nexports.PDFFindController = PDFFindController;\n\n/***/ }),\n/* 23 */\n/***/ ((__unused_webpack_module, exports) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CharacterType = void 0;\nexports.getCharacterType = getCharacterType;\nconst CharacterType = {\n  SPACE: 0,\n  ALPHA_LETTER: 1,\n  PUNCT: 2,\n  HAN_LETTER: 3,\n  KATAKANA_LETTER: 4,\n  HIRAGANA_LETTER: 5,\n  HALFWIDTH_KATAKANA_LETTER: 6,\n  THAI_LETTER: 7\n};\nexports.CharacterType = CharacterType;\n\nfunction isAlphabeticalScript(charCode) {\n  return charCode < 0x2e80;\n}\n\nfunction isAscii(charCode) {\n  return (charCode & 0xff80) === 0;\n}\n\nfunction isAsciiAlpha(charCode) {\n  return charCode >= 0x61 && charCode <= 0x7a || charCode >= 0x41 && charCode <= 0x5a;\n}\n\nfunction isAsciiDigit(charCode) {\n  return charCode >= 0x30 && charCode <= 0x39;\n}\n\nfunction isAsciiSpace(charCode) {\n  return charCode === 0x20 || charCode === 0x09 || charCode === 0x0d || charCode === 0x0a;\n}\n\nfunction isHan(charCode) {\n  return charCode >= 0x3400 && charCode <= 0x9fff || charCode >= 0xf900 && charCode <= 0xfaff;\n}\n\nfunction isKatakana(charCode) {\n  return charCode >= 0x30a0 && charCode <= 0x30ff;\n}\n\nfunction isHiragana(charCode) {\n  return charCode >= 0x3040 && charCode <= 0x309f;\n}\n\nfunction isHalfwidthKatakana(charCode) {\n  return charCode >= 0xff60 && charCode <= 0xff9f;\n}\n\nfunction isThai(charCode) {\n  return (charCode & 0xff80) === 0x0e00;\n}\n\nfunction getCharacterType(charCode) {\n  if (isAlphabeticalScript(charCode)) {\n    if (isAscii(charCode)) {\n      if (isAsciiSpace(charCode)) {\n        return CharacterType.SPACE;\n      } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 0x5f) {\n        return CharacterType.ALPHA_LETTER;\n      }\n\n      return CharacterType.PUNCT;\n    } else if (isThai(charCode)) {\n      return CharacterType.THAI_LETTER;\n    } else if (charCode === 0xa0) {\n      return CharacterType.SPACE;\n    }\n\n    return CharacterType.ALPHA_LETTER;\n  }\n\n  if (isHan(charCode)) {\n    return CharacterType.HAN_LETTER;\n  } else if (isKatakana(charCode)) {\n    return CharacterType.KATAKANA_LETTER;\n  } else if (isHiragana(charCode)) {\n    return CharacterType.HIRAGANA_LETTER;\n  } else if (isHalfwidthKatakana(charCode)) {\n    return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n  }\n\n  return CharacterType.ALPHA_LETTER;\n}\n\n/***/ }),\n/* 24 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PDFHistory = void 0;\nexports.isDestArraysEqual = isDestArraysEqual;\nexports.isDestHashesEqual = isDestHashesEqual;\n\nvar _ui_utils = __w_pdfjs_require__(7);\n\nvar _event_utils = __w_pdfjs_require__(19);\n\nconst HASH_CHANGE_TIMEOUT = 1000;\nconst POSITION_UPDATED_THRESHOLD = 50;\nconst UPDATE_VIEWAREA_TIMEOUT = 1000;\n\nfunction getCurrentHash() {\n  return document.location.hash;\n}\n\nclass PDFHistory {\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this._initialized = false;\n    this._fingerprint = \"\";\n    this.reset();\n    this._boundEvents = null;\n\n    this.eventBus._on(\"pagesinit\", () => {\n      this._isPagesLoaded = false;\n\n      this.eventBus._on(\"pagesloaded\", evt => {\n        this._isPagesLoaded = !!evt.pagesCount;\n      }, {\n        once: true\n      });\n    });\n  }\n\n  initialize({\n    fingerprint,\n    resetHistory = false,\n    updateUrl = false\n  }) {\n    if (!fingerprint || typeof fingerprint !== \"string\") {\n      console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n      return;\n    }\n\n    if (this._initialized) {\n      this.reset();\n    }\n\n    const reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n    this._fingerprint = fingerprint;\n    this._updateUrl = updateUrl === true;\n    this._initialized = true;\n\n    this._bindEvents();\n\n    const state = window.history.state;\n    this._popStateInProgress = false;\n    this._blockHashChange = 0;\n    this._currentHash = getCurrentHash();\n    this._numPositionUpdates = 0;\n    this._uid = this._maxUid = 0;\n    this._destination = null;\n    this._position = null;\n\n    if (!this._isValidState(state, true) || resetHistory) {\n      const {\n        hash,\n        page,\n        rotation\n      } = this._parseCurrentHash(true);\n\n      if (!hash || reInitialized || resetHistory) {\n        this._pushOrReplaceState(null, true);\n\n        return;\n      }\n\n      this._pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n\n      return;\n    }\n\n    const destination = state.destination;\n\n    this._updateInternalState(destination, state.uid, true);\n\n    if (destination.rotation !== undefined) {\n      this._initialRotation = destination.rotation;\n    }\n\n    if (destination.dest) {\n      this._initialBookmark = JSON.stringify(destination.dest);\n      this._destination.page = null;\n    } else if (destination.hash) {\n      this._initialBookmark = destination.hash;\n    } else if (destination.page) {\n      this._initialBookmark = `page=${destination.page}`;\n    }\n  }\n\n  reset() {\n    if (this._initialized) {\n      this._pageHide();\n\n      this._initialized = false;\n\n      this._unbindEvents();\n    }\n\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n\n    this._initialBookmark = null;\n    this._initialRotation = null;\n  }\n\n  push({\n    namedDest = null,\n    explicitDest,\n    pageNumber\n  }) {\n    if (!this._initialized) {\n      return;\n    }\n\n    if (namedDest && typeof namedDest !== \"string\") {\n      console.error(\"PDFHistory.push: \" + `\"${namedDest}\" is not a valid namedDest parameter.`);\n      return;\n    } else if (!Array.isArray(explicitDest)) {\n      console.error(\"PDFHistory.push: \" + `\"${explicitDest}\" is not a valid explicitDest parameter.`);\n      return;\n    } else if (!this._isValidPage(pageNumber)) {\n      if (pageNumber !== null || this._destination) {\n        console.error(\"PDFHistory.push: \" + `\"${pageNumber}\" is not a valid pageNumber parameter.`);\n        return;\n      }\n    }\n\n    const hash = namedDest || JSON.stringify(explicitDest);\n\n    if (!hash) {\n      return;\n    }\n\n    let forceReplace = false;\n\n    if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n      if (this._destination.page) {\n        return;\n      }\n\n      forceReplace = true;\n    }\n\n    if (this._popStateInProgress && !forceReplace) {\n      return;\n    }\n\n    this._pushOrReplaceState({\n      dest: explicitDest,\n      hash,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    }, forceReplace);\n\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n\n  pushPage(pageNumber) {\n    if (!this._initialized) {\n      return;\n    }\n\n    if (!this._isValidPage(pageNumber)) {\n      console.error(`PDFHistory.pushPage: \"${pageNumber}\" is not a valid page number.`);\n      return;\n    }\n\n    if (this._destination?.page === pageNumber) {\n      return;\n    }\n\n    if (this._popStateInProgress) {\n      return;\n    }\n\n    this._pushOrReplaceState({\n      dest: null,\n      hash: `page=${pageNumber}`,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    });\n\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n\n  pushCurrentPosition() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n\n    this._tryPushCurrentPosition();\n  }\n\n  back() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n\n    const state = window.history.state;\n\n    if (this._isValidState(state) && state.uid > 0) {\n      window.history.back();\n    }\n  }\n\n  forward() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n\n    const state = window.history.state;\n\n    if (this._isValidState(state) && state.uid < this._maxUid) {\n      window.history.forward();\n    }\n  }\n\n  get popStateInProgress() {\n    return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n  }\n\n  get initialBookmark() {\n    return this._initialized ? this._initialBookmark : null;\n  }\n\n  get initialRotation() {\n    return this._initialized ? this._initialRotation : null;\n  }\n\n  _pushOrReplaceState(destination, forceReplace = false) {\n    const shouldReplace = forceReplace || !this._destination;\n    const newState = {\n      fingerprint: this._fingerprint,\n      uid: shouldReplace ? this._uid : this._uid + 1,\n      destination\n    };\n\n    this._updateInternalState(destination, newState.uid);\n\n    let newUrl;\n\n    if (this._updateUrl && destination?.hash) {\n      const baseUrl = document.location.href.split(\"#\")[0];\n\n      if (!baseUrl.startsWith(\"file://\")) {\n        newUrl = `${baseUrl}#${destination.hash}`;\n      }\n    }\n\n    if (shouldReplace) {\n      window.history.replaceState(newState, \"\", newUrl);\n    } else {\n      window.history.pushState(newState, \"\", newUrl);\n    }\n  }\n\n  _tryPushCurrentPosition(temporary = false) {\n    if (!this._position) {\n      return;\n    }\n\n    let position = this._position;\n\n    if (temporary) {\n      position = Object.assign(Object.create(null), this._position);\n      position.temporary = true;\n    }\n\n    if (!this._destination) {\n      this._pushOrReplaceState(position);\n\n      return;\n    }\n\n    if (this._destination.temporary) {\n      this._pushOrReplaceState(position, true);\n\n      return;\n    }\n\n    if (this._destination.hash === position.hash) {\n      return;\n    }\n\n    if (!this._destination.page && (POSITION_UPDATED_THRESHOLD <= 0 || this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD)) {\n      return;\n    }\n\n    let forceReplace = false;\n\n    if (this._destination.page >= position.first && this._destination.page <= position.page) {\n      if (this._destination.dest !== undefined || !this._destination.first) {\n        return;\n      }\n\n      forceReplace = true;\n    }\n\n    this._pushOrReplaceState(position, forceReplace);\n  }\n\n  _isValidPage(val) {\n    return Number.isInteger(val) && val > 0 && val <= this.linkService.pagesCount;\n  }\n\n  _isValidState(state, checkReload = false) {\n    if (!state) {\n      return false;\n    }\n\n    if (state.fingerprint !== this._fingerprint) {\n      if (checkReload) {\n        if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n          return false;\n        }\n\n        const [perfEntry] = performance.getEntriesByType(\"navigation\");\n\n        if (perfEntry?.type !== \"reload\") {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n\n    if (!Number.isInteger(state.uid) || state.uid < 0) {\n      return false;\n    }\n\n    if (state.destination === null || typeof state.destination !== \"object\") {\n      return false;\n    }\n\n    return true;\n  }\n\n  _updateInternalState(destination, uid, removeTemporary = false) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n\n    if (removeTemporary && destination?.temporary) {\n      delete destination.temporary;\n    }\n\n    this._destination = destination;\n    this._uid = uid;\n    this._maxUid = Math.max(this._maxUid, uid);\n    this._numPositionUpdates = 0;\n  }\n\n  _parseCurrentHash(checkNameddest = false) {\n    const hash = unescape(getCurrentHash()).substring(1);\n    const params = (0, _ui_utils.parseQueryString)(hash);\n    const nameddest = params.get(\"nameddest\") || \"\";\n    let page = params.get(\"page\") | 0;\n\n    if (!this._isValidPage(page) || checkNameddest && nameddest.length > 0) {\n      page = null;\n    }\n\n    return {\n      hash,\n      page,\n      rotation: this.linkService.rotation\n    };\n  }\n\n  _updateViewarea({\n    location\n  }) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n\n    this._position = {\n      hash: location.pdfOpenParams.substring(1),\n      page: this.linkService.page,\n      first: location.pageNumber,\n      rotation: location.rotation\n    };\n\n    if (this._popStateInProgress) {\n      return;\n    }\n\n    if (POSITION_UPDATED_THRESHOLD > 0 && this._isPagesLoaded && this._destination && !this._destination.page) {\n      this._numPositionUpdates++;\n    }\n\n    if (UPDATE_VIEWAREA_TIMEOUT > 0) {\n      this._updateViewareaTimeout = setTimeout(() => {\n        if (!this._popStateInProgress) {\n          this._tryPushCurrentPosition(true);\n        }\n\n        this._updateViewareaTimeout = null;\n      }, UPDATE_VIEWAREA_TIMEOUT);\n    }\n  }\n\n  _popState({\n    state\n  }) {\n    const newHash = getCurrentHash(),\n          hashChanged = this._currentHash !== newHash;\n    this._currentHash = newHash;\n\n    if (!state) {\n      this._uid++;\n\n      const {\n        hash,\n        page,\n        rotation\n      } = this._parseCurrentHash();\n\n      this._pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n\n      return;\n    }\n\n    if (!this._isValidState(state)) {\n      return;\n    }\n\n    this._popStateInProgress = true;\n\n    if (hashChanged) {\n      this._blockHashChange++;\n      (0, _event_utils.waitOnEventOrTimeout)({\n        target: window,\n        name: \"hashchange\",\n        delay: HASH_CHANGE_TIMEOUT\n      }).then(() => {\n        this._blockHashChange--;\n      });\n    }\n\n    const destination = state.destination;\n\n    this._updateInternalState(destination, state.uid, true);\n\n    if ((0, _ui_utils.isValidRotation)(destination.rotation)) {\n      this.linkService.rotation = destination.rotation;\n    }\n\n    if (destination.dest) {\n      this.linkService.goToDestination(destination.dest);\n    } else if (destination.hash) {\n      this.linkService.setHash(destination.hash);\n    } else if (destination.page) {\n      this.linkService.page = destination.page;\n    }\n\n    Promise.resolve().then(() => {\n      this._popStateInProgress = false;\n    });\n  }\n\n  _pageHide() {\n    if (!this._destination || this._destination.temporary) {\n      this._tryPushCurrentPosition();\n    }\n  }\n\n  _bindEvents() {\n    if (this._boundEvents) {\n      return;\n    }\n\n    this._boundEvents = {\n      updateViewarea: this._updateViewarea.bind(this),\n      popState: this._popState.bind(this),\n      pageHide: this._pageHide.bind(this)\n    };\n\n    this.eventBus._on(\"updateviewarea\", this._boundEvents.updateViewarea);\n\n    window.addEventListener(\"popstate\", this._boundEvents.popState);\n    window.addEventListener(\"pagehide\", this._boundEvents.pageHide);\n  }\n\n  _unbindEvents() {\n    if (!this._boundEvents) {\n      return;\n    }\n\n    this.eventBus._off(\"updateviewarea\", this._boundEvents.updateViewarea);\n\n    window.removeEventListener(\"popstate\", this._boundEvents.popState);\n    window.removeEventListener(\"pagehide\", this._boundEvents.pageHide);\n    this._boundEvents = null;\n  }\n\n}\n\nexports.PDFHistory = PDFHistory;\n\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n    return false;\n  }\n\n  if (destHash === pushHash) {\n    return true;\n  }\n\n  const nameddest = (0, _ui_utils.parseQueryString)(destHash).get(\"nameddest\");\n\n  if (nameddest === pushHash) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (typeof first !== typeof second) {\n      return false;\n    }\n\n    if (Array.isArray(first) || Array.isArray(second)) {\n      return false;\n    }\n\n    if (first !== null && typeof first === \"object\" && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n\n      for (const key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    return first === second || Number.isNaN(first) && Number.isNaN(second);\n  }\n\n  if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n    return false;\n  }\n\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n\n  for (let i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/***/ }),\n/* 25 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PDFScriptingManager = void 0;\n\nvar _ui_utils = __w_pdfjs_require__(7);\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\nclass PDFScriptingManager {\n  constructor({\n    eventBus,\n    sandboxBundleSrc = null,\n    scriptingFactory = null,\n    docPropertiesLookup = null\n  }) {\n    this._pdfDocument = null;\n    this._pdfViewer = null;\n    this._closeCapability = null;\n    this._destroyCapability = null;\n    this._scripting = null;\n    this._mouseState = Object.create(null);\n    this._ready = false;\n    this._eventBus = eventBus;\n    this._sandboxBundleSrc = sandboxBundleSrc;\n    this._scriptingFactory = scriptingFactory;\n    this._docPropertiesLookup = docPropertiesLookup;\n\n    if (!this._scriptingFactory) {\n      window.addEventListener(\"updatefromsandbox\", event => {\n        this._eventBus.dispatch(\"updatefromsandbox\", {\n          source: window,\n          detail: event.detail\n        });\n      });\n    }\n  }\n\n  setViewer(pdfViewer) {\n    this._pdfViewer = pdfViewer;\n  }\n\n  async setDocument(pdfDocument) {\n    if (this._pdfDocument) {\n      await this._destroyScripting();\n    }\n\n    this._pdfDocument = pdfDocument;\n\n    if (!pdfDocument) {\n      return;\n    }\n\n    const [objects, calculationOrder, docActions] = await Promise.all([pdfDocument.getFieldObjects(), pdfDocument.getCalculationOrderIds(), pdfDocument.getJSActions()]);\n\n    if (!objects && !docActions) {\n      await this._destroyScripting();\n      return;\n    }\n\n    if (pdfDocument !== this._pdfDocument) {\n      return;\n    }\n\n    try {\n      this._scripting = this._createScripting();\n    } catch (error) {\n      console.error(`PDFScriptingManager.setDocument: \"${error?.message}\".`);\n      await this._destroyScripting();\n      return;\n    }\n\n    this._internalEvents.set(\"updatefromsandbox\", event => {\n      if (event?.source !== window) {\n        return;\n      }\n\n      this._updateFromSandbox(event.detail);\n    });\n\n    this._internalEvents.set(\"dispatcheventinsandbox\", event => {\n      this._scripting?.dispatchEventInSandbox(event.detail);\n    });\n\n    this._internalEvents.set(\"pagechanging\", ({\n      pageNumber,\n      previous\n    }) => {\n      if (pageNumber === previous) {\n        return;\n      }\n\n      this._dispatchPageClose(previous);\n\n      this._dispatchPageOpen(pageNumber);\n    });\n\n    this._internalEvents.set(\"pagerendered\", ({\n      pageNumber\n    }) => {\n      if (!this._pageOpenPending.has(pageNumber)) {\n        return;\n      }\n\n      if (pageNumber !== this._pdfViewer.currentPageNumber) {\n        return;\n      }\n\n      this._dispatchPageOpen(pageNumber);\n    });\n\n    this._internalEvents.set(\"pagesdestroy\", async event => {\n      await this._dispatchPageClose(this._pdfViewer.currentPageNumber);\n      await this._scripting?.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillClose\"\n      });\n      this._closeCapability?.resolve();\n    });\n\n    this._domEvents.set(\"mousedown\", event => {\n      this._mouseState.isDown = true;\n    });\n\n    this._domEvents.set(\"mouseup\", event => {\n      this._mouseState.isDown = false;\n    });\n\n    for (const [name, listener] of this._internalEvents) {\n      this._eventBus._on(name, listener);\n    }\n\n    for (const [name, listener] of this._domEvents) {\n      window.addEventListener(name, listener, true);\n    }\n\n    try {\n      const docProperties = await this._getDocProperties();\n\n      if (pdfDocument !== this._pdfDocument) {\n        return;\n      }\n\n      await this._scripting.createSandbox({\n        objects,\n        calculationOrder,\n        appInfo: {\n          platform: navigator.platform,\n          language: navigator.language\n        },\n        docInfo: { ...docProperties,\n          actions: docActions\n        }\n      });\n\n      this._eventBus.dispatch(\"sandboxcreated\", {\n        source: this\n      });\n    } catch (error) {\n      console.error(`PDFScriptingManager.setDocument: \"${error?.message}\".`);\n      await this._destroyScripting();\n      return;\n    }\n\n    await this._scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"Open\"\n    });\n    await this._dispatchPageOpen(this._pdfViewer.currentPageNumber, true);\n    Promise.resolve().then(() => {\n      if (pdfDocument === this._pdfDocument) {\n        this._ready = true;\n      }\n    });\n  }\n\n  async dispatchWillSave(detail) {\n    return this._scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"WillSave\"\n    });\n  }\n\n  async dispatchDidSave(detail) {\n    return this._scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidSave\"\n    });\n  }\n\n  async dispatchWillPrint(detail) {\n    return this._scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"WillPrint\"\n    });\n  }\n\n  async dispatchDidPrint(detail) {\n    return this._scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidPrint\"\n    });\n  }\n\n  get mouseState() {\n    return this._mouseState;\n  }\n\n  get destroyPromise() {\n    return this._destroyCapability?.promise || null;\n  }\n\n  get ready() {\n    return this._ready;\n  }\n\n  get _internalEvents() {\n    return (0, _pdfjsLib.shadow)(this, \"_internalEvents\", new Map());\n  }\n\n  get _domEvents() {\n    return (0, _pdfjsLib.shadow)(this, \"_domEvents\", new Map());\n  }\n\n  get _pageOpenPending() {\n    return (0, _pdfjsLib.shadow)(this, \"_pageOpenPending\", new Set());\n  }\n\n  get _visitedPages() {\n    return (0, _pdfjsLib.shadow)(this, \"_visitedPages\", new Map());\n  }\n\n  async _updateFromSandbox(detail) {\n    const isInPresentationMode = this._pdfViewer.isInPresentationMode || this._pdfViewer.isChangingPresentationMode;\n    const {\n      id,\n      siblings,\n      command,\n      value\n    } = detail;\n\n    if (!id) {\n      switch (command) {\n        case \"clear\":\n          console.clear();\n          break;\n\n        case \"error\":\n          console.error(value);\n          break;\n\n        case \"layout\":\n          if (isInPresentationMode) {\n            return;\n          }\n\n          const modes = (0, _ui_utils.apiPageLayoutToViewerModes)(value);\n          this._pdfViewer.spreadMode = modes.spreadMode;\n          break;\n\n        case \"page-num\":\n          this._pdfViewer.currentPageNumber = value + 1;\n          break;\n\n        case \"print\":\n          await this._pdfViewer.pagesPromise;\n\n          this._eventBus.dispatch(\"print\", {\n            source: this\n          });\n\n          break;\n\n        case \"println\":\n          console.log(value);\n          break;\n\n        case \"zoom\":\n          if (isInPresentationMode) {\n            return;\n          }\n\n          this._pdfViewer.currentScaleValue = value;\n          break;\n\n        case \"SaveAs\":\n          this._eventBus.dispatch(\"download\", {\n            source: this\n          });\n\n          break;\n\n        case \"FirstPage\":\n          this._pdfViewer.currentPageNumber = 1;\n          break;\n\n        case \"LastPage\":\n          this._pdfViewer.currentPageNumber = this._pdfViewer.pagesCount;\n          break;\n\n        case \"NextPage\":\n          this._pdfViewer.nextPage();\n\n          break;\n\n        case \"PrevPage\":\n          this._pdfViewer.previousPage();\n\n          break;\n\n        case \"ZoomViewIn\":\n          if (isInPresentationMode) {\n            return;\n          }\n\n          this._pdfViewer.increaseScale();\n\n          break;\n\n        case \"ZoomViewOut\":\n          if (isInPresentationMode) {\n            return;\n          }\n\n          this._pdfViewer.decreaseScale();\n\n          break;\n      }\n\n      return;\n    }\n\n    if (isInPresentationMode) {\n      if (detail.focus) {\n        return;\n      }\n    }\n\n    delete detail.id;\n    delete detail.siblings;\n    const ids = siblings ? [id, ...siblings] : [id];\n\n    for (const elementId of ids) {\n      const element = document.querySelector(`[data-element-id=\"${elementId}\"]`);\n\n      if (element) {\n        element.dispatchEvent(new CustomEvent(\"updatefromsandbox\", {\n          detail\n        }));\n      } else {\n        this._pdfDocument?.annotationStorage.setValue(elementId, detail);\n      }\n    }\n  }\n\n  async _dispatchPageOpen(pageNumber, initialize = false) {\n    const pdfDocument = this._pdfDocument,\n          visitedPages = this._visitedPages;\n\n    if (initialize) {\n      this._closeCapability = (0, _pdfjsLib.createPromiseCapability)();\n    }\n\n    if (!this._closeCapability) {\n      return;\n    }\n\n    const pageView = this._pdfViewer.getPageView(pageNumber - 1);\n\n    if (pageView?.renderingState !== _ui_utils.RenderingStates.FINISHED) {\n      this._pageOpenPending.add(pageNumber);\n\n      return;\n    }\n\n    this._pageOpenPending.delete(pageNumber);\n\n    const actionsPromise = (async () => {\n      const actions = await (!visitedPages.has(pageNumber) ? pageView.pdfPage?.getJSActions() : null);\n\n      if (pdfDocument !== this._pdfDocument) {\n        return;\n      }\n\n      await this._scripting?.dispatchEventInSandbox({\n        id: \"page\",\n        name: \"PageOpen\",\n        pageNumber,\n        actions\n      });\n    })();\n\n    visitedPages.set(pageNumber, actionsPromise);\n  }\n\n  async _dispatchPageClose(pageNumber) {\n    const pdfDocument = this._pdfDocument,\n          visitedPages = this._visitedPages;\n\n    if (!this._closeCapability) {\n      return;\n    }\n\n    if (this._pageOpenPending.has(pageNumber)) {\n      return;\n    }\n\n    const actionsPromise = visitedPages.get(pageNumber);\n\n    if (!actionsPromise) {\n      return;\n    }\n\n    visitedPages.set(pageNumber, null);\n    await actionsPromise;\n\n    if (pdfDocument !== this._pdfDocument) {\n      return;\n    }\n\n    await this._scripting?.dispatchEventInSandbox({\n      id: \"page\",\n      name: \"PageClose\",\n      pageNumber\n    });\n  }\n\n  async _getDocProperties() {\n    if (this._docPropertiesLookup) {\n      return this._docPropertiesLookup(this._pdfDocument);\n    }\n\n    const {\n      docPropertiesLookup\n    } = __w_pdfjs_require__(26);\n\n    return docPropertiesLookup(this._pdfDocument);\n  }\n\n  _createScripting() {\n    this._destroyCapability = (0, _pdfjsLib.createPromiseCapability)();\n\n    if (this._scripting) {\n      throw new Error(\"_createScripting: Scripting already exists.\");\n    }\n\n    if (this._scriptingFactory) {\n      return this._scriptingFactory.createScripting({\n        sandboxBundleSrc: this._sandboxBundleSrc\n      });\n    }\n\n    const {\n      GenericScripting\n    } = __w_pdfjs_require__(26);\n\n    return new GenericScripting(this._sandboxBundleSrc);\n  }\n\n  async _destroyScripting() {\n    if (!this._scripting) {\n      this._pdfDocument = null;\n      this._destroyCapability?.resolve();\n      return;\n    }\n\n    if (this._closeCapability) {\n      await Promise.race([this._closeCapability.promise, new Promise(resolve => {\n        setTimeout(resolve, 1000);\n      })]).catch(reason => {});\n      this._closeCapability = null;\n    }\n\n    this._pdfDocument = null;\n\n    try {\n      await this._scripting.destroySandbox();\n    } catch (ex) {}\n\n    for (const [name, listener] of this._internalEvents) {\n      this._eventBus._off(name, listener);\n    }\n\n    this._internalEvents.clear();\n\n    for (const [name, listener] of this._domEvents) {\n      window.removeEventListener(name, listener, true);\n    }\n\n    this._domEvents.clear();\n\n    this._pageOpenPending.clear();\n\n    this._visitedPages.clear();\n\n    this._scripting = null;\n    delete this._mouseState.isDown;\n    this._ready = false;\n    this._destroyCapability?.resolve();\n  }\n\n}\n\nexports.PDFScriptingManager = PDFScriptingManager;\n\n/***/ }),\n/* 26 */\n/***/ ((__unused_webpack_module, exports, __w_pdfjs_require__) => {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.GenericScripting = void 0;\nexports.docPropertiesLookup = docPropertiesLookup;\n\nvar _pdfjsLib = __w_pdfjs_require__(3);\n\nasync function docPropertiesLookup(pdfDocument) {\n  const url = \"\",\n        baseUrl = url.split(\"#\")[0];\n  let {\n    info,\n    metadata,\n    contentDispositionFilename,\n    contentLength\n  } = await pdfDocument.getMetadata();\n\n  if (!contentLength) {\n    const {\n      length\n    } = await pdfDocument.getDownloadInfo();\n    contentLength = length;\n  }\n\n  return { ...info,\n    baseURL: baseUrl,\n    filesize: contentLength,\n    filename: contentDispositionFilename || (0, _pdfjsLib.getPdfFilenameFromUrl)(url),\n    metadata: metadata?.getRaw(),\n    authors: metadata?.get(\"dc:creator\"),\n    numPages: pdfDocument.numPages,\n    URL: url\n  };\n}\n\nclass GenericScripting {\n  constructor(sandboxBundleSrc) {\n    this._ready = (0, _pdfjsLib.loadScript)(sandboxBundleSrc, true).then(() => {\n      return window.pdfjsSandbox.QuickJSSandbox();\n    });\n  }\n\n  async createSandbox(data) {\n    const sandbox = await this._ready;\n    sandbox.create(data);\n  }\n\n  async dispatchEventInSandbox(event) {\n    const sandbox = await this._ready;\n    setTimeout(() => sandbox.dispatchEvent(event), 0);\n  }\n\n  async destroySandbox() {\n    const sandbox = await this._ready;\n    sandbox.nukeSandbox();\n  }\n\n}\n\nexports.GenericScripting = GenericScripting;\n\n/***/ })\n/******/ \t]);\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __w_pdfjs_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __w_pdfjs_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n(() => {\nvar exports = __webpack_exports__;\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"AnnotationLayerBuilder\", ({\n  enumerable: true,\n  get: function () {\n    return _annotation_layer_builder.AnnotationLayerBuilder;\n  }\n}));\nObject.defineProperty(exports, \"DefaultAnnotationLayerFactory\", ({\n  enumerable: true,\n  get: function () {\n    return _default_factory.DefaultAnnotationLayerFactory;\n  }\n}));\nObject.defineProperty(exports, \"DefaultStructTreeLayerFactory\", ({\n  enumerable: true,\n  get: function () {\n    return _default_factory.DefaultStructTreeLayerFactory;\n  }\n}));\nObject.defineProperty(exports, \"DefaultTextLayerFactory\", ({\n  enumerable: true,\n  get: function () {\n    return _default_factory.DefaultTextLayerFactory;\n  }\n}));\nObject.defineProperty(exports, \"DefaultXfaLayerFactory\", ({\n  enumerable: true,\n  get: function () {\n    return _default_factory.DefaultXfaLayerFactory;\n  }\n}));\nObject.defineProperty(exports, \"DownloadManager\", ({\n  enumerable: true,\n  get: function () {\n    return _download_manager.DownloadManager;\n  }\n}));\nObject.defineProperty(exports, \"EventBus\", ({\n  enumerable: true,\n  get: function () {\n    return _event_utils.EventBus;\n  }\n}));\nObject.defineProperty(exports, \"GenericL10n\", ({\n  enumerable: true,\n  get: function () {\n    return _genericl10n.GenericL10n;\n  }\n}));\nObject.defineProperty(exports, \"LinkTarget\", ({\n  enumerable: true,\n  get: function () {\n    return _pdf_link_service.LinkTarget;\n  }\n}));\nObject.defineProperty(exports, \"NullL10n\", ({\n  enumerable: true,\n  get: function () {\n    return _l10n_utils.NullL10n;\n  }\n}));\nObject.defineProperty(exports, \"PDFFindController\", ({\n  enumerable: true,\n  get: function () {\n    return _pdf_find_controller.PDFFindController;\n  }\n}));\nObject.defineProperty(exports, \"PDFHistory\", ({\n  enumerable: true,\n  get: function () {\n    return _pdf_history.PDFHistory;\n  }\n}));\nObject.defineProperty(exports, \"PDFLinkService\", ({\n  enumerable: true,\n  get: function () {\n    return _pdf_link_service.PDFLinkService;\n  }\n}));\nObject.defineProperty(exports, \"PDFPageView\", ({\n  enumerable: true,\n  get: function () {\n    return _pdf_page_view.PDFPageView;\n  }\n}));\nObject.defineProperty(exports, \"PDFScriptingManager\", ({\n  enumerable: true,\n  get: function () {\n    return _pdf_scripting_manager.PDFScriptingManager;\n  }\n}));\nObject.defineProperty(exports, \"PDFSinglePageViewer\", ({\n  enumerable: true,\n  get: function () {\n    return _pdf_viewer.PDFSinglePageViewer;\n  }\n}));\nObject.defineProperty(exports, \"PDFViewer\", ({\n  enumerable: true,\n  get: function () {\n    return _pdf_viewer.PDFViewer;\n  }\n}));\nObject.defineProperty(exports, \"ProgressBar\", ({\n  enumerable: true,\n  get: function () {\n    return _ui_utils.ProgressBar;\n  }\n}));\nObject.defineProperty(exports, \"RenderingStates\", ({\n  enumerable: true,\n  get: function () {\n    return _ui_utils.RenderingStates;\n  }\n}));\nObject.defineProperty(exports, \"ScrollMode\", ({\n  enumerable: true,\n  get: function () {\n    return _ui_utils.ScrollMode;\n  }\n}));\nObject.defineProperty(exports, \"SimpleLinkService\", ({\n  enumerable: true,\n  get: function () {\n    return _pdf_link_service.SimpleLinkService;\n  }\n}));\nObject.defineProperty(exports, \"SpreadMode\", ({\n  enumerable: true,\n  get: function () {\n    return _ui_utils.SpreadMode;\n  }\n}));\nObject.defineProperty(exports, \"StructTreeLayerBuilder\", ({\n  enumerable: true,\n  get: function () {\n    return _struct_tree_layer_builder.StructTreeLayerBuilder;\n  }\n}));\nObject.defineProperty(exports, \"TextLayerBuilder\", ({\n  enumerable: true,\n  get: function () {\n    return _text_layer_builder.TextLayerBuilder;\n  }\n}));\nObject.defineProperty(exports, \"XfaLayerBuilder\", ({\n  enumerable: true,\n  get: function () {\n    return _xfa_layer_builder.XfaLayerBuilder;\n  }\n}));\nObject.defineProperty(exports, \"parseQueryString\", ({\n  enumerable: true,\n  get: function () {\n    return _ui_utils.parseQueryString;\n  }\n}));\n\nvar _default_factory = __w_pdfjs_require__(1);\n\nvar _pdf_link_service = __w_pdfjs_require__(6);\n\nvar _ui_utils = __w_pdfjs_require__(7);\n\nvar _pdf_viewer = __w_pdfjs_require__(11);\n\nvar _annotation_layer_builder = __w_pdfjs_require__(5);\n\nvar _download_manager = __w_pdfjs_require__(18);\n\nvar _event_utils = __w_pdfjs_require__(19);\n\nvar _genericl10n = __w_pdfjs_require__(20);\n\nvar _l10n_utils = __w_pdfjs_require__(4);\n\nvar _pdf_find_controller = __w_pdfjs_require__(22);\n\nvar _pdf_history = __w_pdfjs_require__(24);\n\nvar _pdf_page_view = __w_pdfjs_require__(13);\n\nvar _pdf_scripting_manager = __w_pdfjs_require__(25);\n\nvar _struct_tree_layer_builder = __w_pdfjs_require__(8);\n\nvar _text_layer_builder = __w_pdfjs_require__(9);\n\nvar _xfa_layer_builder = __w_pdfjs_require__(10);\n\nconst pdfjsVersion = '2.16.105';\nconst pdfjsBuild = '172ccdbe5';\n})();\n\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,CAAC,SAASA,gCAAT,CAA0CC,IAA1C,EAAgDC,OAAhD,EAAyD;EACzD,IAAG,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,QAApD,EACCA,MAAM,CAACD,OAAP,GAAiBD,OAAO,EAAxB,CADD,KAEK,IAAG,OAAOG,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA1C,EACJD,MAAM,CAAC,2BAAD,EAA8B,EAA9B,EAAkCH,OAAlC,CAAN,CADI,KAEA,IAAG,OAAOC,OAAP,KAAmB,QAAtB,EACJA,OAAO,CAAC,2BAAD,CAAP,GAAuCD,OAAO,EAA9C,CADI,KAGJD,IAAI,CAAC,2BAAD,CAAJ,GAAoCA,IAAI,CAACM,WAAL,GAAmBL,OAAO,EAA9D;AACD,CATD,EASGM,UATH,EASe,MAAM;EACrB;IAAO;IAAS,CAAC,MAAM;MAAE;;MACzB;MAAU;MACV;;MAAU,IAAIC,mBAAmB,GAAI;QACrC;MADqC;MAErC;;MACA;MAAO,CAACC,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACY,sBAAR,GAAiCZ,OAAO,CAACa,uBAAR,GAAkCb,OAAO,CAACc,6BAAR,GAAwCd,OAAO,CAACe,6BAAR,GAAwCf,OAAO,CAACgB,mCAAR,GAA8C,KAAK,CAAtM;;QAEA,IAAIC,gCAAgC,GAAGT,mBAAmB,CAAC,CAAD,CAA1D;;QAEA,IAAIU,yBAAyB,GAAGV,mBAAmB,CAAC,CAAD,CAAnD;;QAEA,IAAIW,WAAW,GAAGX,mBAAmB,CAAC,CAAD,CAArC;;QAEA,IAAIY,iBAAiB,GAAGZ,mBAAmB,CAAC,CAAD,CAA3C;;QAEA,IAAIa,0BAA0B,GAAGb,mBAAmB,CAAC,CAAD,CAApD;;QAEA,IAAIc,mBAAmB,GAAGd,mBAAmB,CAAC,CAAD,CAA7C;;QAEA,IAAIe,kBAAkB,GAAGf,mBAAmB,CAAC,EAAD,CAA5C;;QAEA,MAAMO,6BAAN,CAAoC;UAClCS,4BAA4B,CAAC;YAC3BC,OAD2B;YAE3BC,OAF2B;YAG3BC,iBAAiB,GAAG,IAHO;YAI3BC,kBAAkB,GAAG,EAJM;YAK3BC,WAAW,GAAG,IALa;YAM3BC,IAAI,GAAGX,WAAW,CAACY,QANQ;YAO3BC,eAAe,GAAG,KAPS;YAQ3BC,mBAAmB,GAAG,IARK;YAS3BC,UAAU,GAAG,IATc;YAU3BC,mBAAmB,GAAG,IAVK;YAW3BC,mBAAmB,GAAG,IAXK;YAY3BC,oBAAoB,GAAG;UAZI,CAAD,EAazB;YACD,OAAO,IAAInB,yBAAyB,CAACoB,sBAA9B,CAAqD;cAC1Db,OAD0D;cAE1DC,OAF0D;cAG1DE,kBAH0D;cAI1DC,WAJ0D;cAK1DU,WAAW,EAAE,IAAInB,iBAAiB,CAACoB,iBAAtB,EAL6C;cAM1DV,IAN0D;cAO1DH,iBAP0D;cAQ1DK,eAR0D;cAS1DC,mBAT0D;cAU1DE,mBAV0D;cAW1DD,UAX0D;cAY1DE,mBAZ0D;cAa1DC;YAb0D,CAArD,CAAP;UAeD;;QA9BiC;;QAkCpCrC,OAAO,CAACe,6BAAR,GAAwCA,6BAAxC;;QAEA,MAAMC,mCAAN,CAA0C;UACxCyB,kCAAkC,CAAC;YACjCC,SAAS,GAAG,IADqB;YAEjCjB,OAFiC;YAGjCC,OAHiC;YAIjCW,oBAAoB,GAAG,IAJU;YAKjCP,IALiC;YAMjCH,iBAAiB,GAAG;UANa,CAAD,EAO/B;YACD,OAAO,IAAIV,gCAAgC,CAAC0B,4BAArC,CAAkE;cACvED,SADuE;cAEvEjB,OAFuE;cAGvEC,OAHuE;cAIvEW,oBAJuE;cAKvEP,IALuE;cAMvEH;YANuE,CAAlE,CAAP;UAQD;;QAjBuC;;QAqB1C3B,OAAO,CAACgB,mCAAR,GAA8CA,mCAA9C;;QAEA,MAAMF,6BAAN,CAAoC;UAClC8B,4BAA4B,CAAC;YAC3BlB;UAD2B,CAAD,EAEzB;YACD,OAAO,IAAIL,0BAA0B,CAACwB,sBAA/B,CAAsD;cAC3DnB;YAD2D,CAAtD,CAAP;UAGD;;QAPiC;;QAWpC1B,OAAO,CAACc,6BAAR,GAAwCA,6BAAxC;;QAEA,MAAMD,uBAAN,CAA8B;UAC5BiC,sBAAsB,CAAC;YACrBC,YADqB;YAErBC,SAFqB;YAGrBC,QAHqB;YAIrBC,oBAAoB,GAAG,KAJF;YAKrBC,QALqB;YAMrBC,WANqB;YAOrBf,oBAAoB,GAAG;UAPF,CAAD,EAQnB;YACD,OAAO,IAAIf,mBAAmB,CAAC+B,gBAAxB,CAAyC;cAC9CN,YAD8C;cAE9CC,SAF8C;cAG9CC,QAH8C;cAI9CC,oBAJ8C;cAK9CC,QAL8C;cAM9CC,WAN8C;cAO9Cf;YAP8C,CAAzC,CAAP;UASD;;QAnB2B;;QAuB9BrC,OAAO,CAACa,uBAAR,GAAkCA,uBAAlC;;QAEA,MAAMD,sBAAN,CAA6B;UAC3B0C,qBAAqB,CAAC;YACpB7B,OADoB;YAEpBC,OAFoB;YAGpBC,iBAAiB,GAAG;UAHA,CAAD,EAIlB;YACD,OAAO,IAAIJ,kBAAkB,CAACgC,eAAvB,CAAuC;cAC5C9B,OAD4C;cAE5CC,OAF4C;cAG5CC,iBAH4C;cAI5CY,WAAW,EAAE,IAAInB,iBAAiB,CAACoB,iBAAtB;YAJ+B,CAAvC,CAAP;UAMD;;QAZ0B;;QAgB7BxC,OAAO,CAACY,sBAAR,GAAiCA,sBAAjC;QAEA;MAAO,CA7I8B;MA8IrC;;MACA;MAAO,CAACL,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAC2C,4BAAR,GAAuC,KAAK,CAA5C;;QAEA,IAAIa,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIW,WAAW,GAAGX,mBAAmB,CAAC,CAAD,CAArC;;QAEA,MAAMmC,4BAAN,CAAmC;UACjC,CAACD,SAAD;;UAEAe,WAAW,CAACC,OAAD,EAAU;YACnB,KAAKjC,OAAL,GAAeiC,OAAO,CAACjC,OAAvB;YACA,KAAKC,OAAL,GAAegC,OAAO,CAAChC,OAAvB;YACA,KAAKC,iBAAL,GAAyB+B,OAAO,CAAC/B,iBAAR,IAA6B,IAAtD;YACA,KAAKU,oBAAL,GAA4BqB,OAAO,CAACrB,oBAApC;YACA,KAAKP,IAAL,GAAY4B,OAAO,CAAC5B,IAAR,IAAgBX,WAAW,CAACY,QAAxC;YACA,KAAK4B,qBAAL,GAA6B,IAA7B;YACA,KAAKC,GAAL,GAAW,IAAX;YACA,KAAKC,UAAL,GAAkB,KAAlB;YACA,KAAK,CAACnB,SAAN,GAAkBgB,OAAO,CAAChB,SAA1B;UACD;;UAEKoB,MAAM,CAACb,QAAD,EAAWc,MAAM,GAAG,SAApB,EAA+B;YAAA;;YAAA;cACzC,IAAIA,MAAM,KAAK,SAAf,EAA0B;gBACxB;cACD;;cAED,IAAI,KAAI,CAACF,UAAT,EAAqB;gBACnB;cACD;;cAED,MAAMG,cAAc,GAAGf,QAAQ,CAACgB,KAAT,CAAe;gBACpCC,QAAQ,EAAE;cAD0B,CAAf,CAAvB;;cAIA,IAAI,KAAI,CAACN,GAAT,EAAc;gBACZ,KAAI,CAACD,qBAAL,CAA2BQ,MAA3B,CAAkC;kBAChClB,QAAQ,EAAEe;gBADsB,CAAlC;;gBAGA,KAAI,CAACI,IAAL;;gBACA;cACD;;cAED,KAAI,CAACR,GAAL,GAAWS,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;cACA,KAAI,CAACV,GAAL,CAASW,SAAT,GAAqB,uBAArB;cACA,KAAI,CAACX,GAAL,CAASY,QAAT,GAAoB,CAApB;;cACA,KAAI,CAAC/C,OAAL,CAAagD,MAAb,CAAoB,KAAI,CAACb,GAAzB;;cACA,KAAI,CAACD,qBAAL,GAA6B,IAAIH,SAAS,CAACkB,qBAAd,CAAoC;gBAC/DhC,SAAS,EAAE,KAAI,CAAC,CAACA,SAD8C;gBAE/DkB,GAAG,EAAE,KAAI,CAACA,GAFqD;gBAG/DjC,iBAAiB,EAAE,KAAI,CAACA,iBAHuC;gBAI/DU,oBAAoB,EAAE,KAAI,CAACA,oBAJoC;gBAK/DW,SAAS,EAAE,KAAI,CAACtB,OAAL,CAAaiD,UALuC;gBAM/D7C,IAAI,EAAE,KAAI,CAACA,IANoD;gBAO/DmB,QAAQ,EAAEe;cAPqD,CAApC,CAA7B;cASA,MAAMY,UAAU,GAAG;gBACjB3B,QAAQ,EAAEe,cADO;gBAEjBJ,GAAG,EAAE,KAAI,CAACA,GAFO;gBAGjBiB,WAAW,EAAE,IAHI;gBAIjBd;cAJiB,CAAnB;;cAMA,KAAI,CAACJ,qBAAL,CAA2BG,MAA3B,CAAkCc,UAAlC;YAxCyC;UAyC1C;;UAEDE,MAAM,GAAG;YACP,KAAKjB,UAAL,GAAkB,IAAlB;YACA,KAAKkB,OAAL;UACD;;UAEDC,IAAI,GAAG;YACL,IAAI,CAAC,KAAKpB,GAAV,EAAe;cACb;YACD;;YAED,KAAKA,GAAL,CAASqB,MAAT,GAAkB,IAAlB;UACD;;UAEDb,IAAI,GAAG;YACL,IAAI,CAAC,KAAKR,GAAV,EAAe;cACb;YACD;;YAED,KAAKA,GAAL,CAASqB,MAAT,GAAkB,KAAlB;UACD;;UAEDF,OAAO,GAAG;YACR,IAAI,CAAC,KAAKnB,GAAV,EAAe;cACb;YACD;;YAED,KAAKnC,OAAL,GAAe,IAAf;YACA,KAAKkC,qBAAL,CAA2BoB,OAA3B;YACA,KAAKnB,GAAL,CAASsB,MAAT;UACD;;QAvFgC;;QA2FnClF,OAAO,CAAC2C,4BAAR,GAAuCA,4BAAvC;QAEA;MAAO,CAzP8B;MA0PrC;;MACA;MAAQ1C,MAAD,IAAY;QAInB,IAAIkF,QAAJ;;QAEA,IAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAAC,sBAAD,CAA3C,EAAqE;UACnED,QAAQ,GAAGC,MAAM,CAAC,sBAAD,CAAjB;QACD,CAFD,MAEO;UACLD,QAAQ,GAAGE,OAAO,CAAC,iBAAD,CAAlB;QACD;;QAEDpF,MAAM,CAACD,OAAP,GAAiBmF,QAAjB;QAEA;MAAO,CAzQ8B;MA0QrC;;MACA;MAAO,CAAC5E,uBAAD,EAA0BP,OAA1B,KAAsC;QAI7CS,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAC+B,QAAR,GAAmB,KAAK,CAAxB;QACA/B,OAAO,CAACsF,aAAR,GAAwBA,aAAxB;QACAtF,OAAO,CAACuF,eAAR,GAA0BA,eAA1B;QACA,MAAMC,oBAAoB,GAAG;UAC3BC,QAAQ,EAAE,mBADiB;UAE3BC,aAAa,EAAE,oCAFY;UAG3BC,sBAAsB,EAAE,mCAHG;UAI3BC,sBAAsB,EAAE,mCAJG;UAK3BC,+BAA+B,EAAE,oBALN;UAM3BC,yCAAyC,EAAE,IANhB;UAO3BC,8CAA8C,EAAE,IAPrB;UAQ3BC,kDAAkD,EAAE,UARzB;UAS3BC,mDAAmD,EAAE,WAT1B;UAU3BC,qCAAqC,EAAE,IAVZ;UAW3BC,qCAAqC,EAAE,IAXZ;UAY3BC,yCAAyC,EAAE,QAZhB;UAa3BC,wCAAwC,EAAE,OAbf;UAc3BC,8CAA8C,EAAE,mDAdrB;UAe3BC,mDAAmD,EAAE,6DAf1B;UAgB3BC,kCAAkC,EAAE,KAhBT;UAiB3BC,iCAAiC,EAAE,IAjBR;UAkB3BC,sBAAsB,EAAE,eAlBG;UAmB3B,wBAAwB,gBAnBG;UAoB3B,sCAAsC,+DApBX;UAqB3BC,iBAAiB,EAAE,mBArBQ;UAsB3BC,aAAa,EAAE,eAtBY;UAuB3BC,gBAAgB,EAAE,eAvBS;UAwB3BC,iBAAiB,EAAE,4BAxBQ;UAyB3BC,gBAAgB,EAAE,gDAzBS;UA0B3BC,mBAAmB,EAAE,6CA1BM;UA2B3B,yBAAyB,gCA3BE;UA4B3B,2BAA2B,kCA5BA;UA6B3B,+BAA+B,2BA7BJ;UA8B3B,iCAAiC,6BA9BN;UA+B3BC,cAAc,EAAE,kBA/BW;UAgC3BC,kBAAkB,EAAE,wCAhCO;UAiC3BC,aAAa,EAAE,sBAjCY;UAkC3BC,WAAW,EAAE,kBAlCc;UAmC3BC,UAAU,EAAE,gBAnCe;UAoC3BC,UAAU,EAAE,gBApCe;UAqC3BC,eAAe,EAAE,6CArCU;UAsC3BC,gBAAgB,EAAE,YAtCS;UAuC3BC,cAAc,EAAE,UAvCW;UAwC3BC,eAAe,EAAE,gBAxCU;UAyC3BC,iBAAiB,EAAE,aAzCQ;UA0C3BC,kBAAkB,EAAE,YA1CO;UA2C3BC,OAAO,EAAE,UA3CkB;UA4C3BC,aAAa,EAAE,0CA5CY;UA6C3BC,kBAAkB,EAAE,gCA7CO;UA8C3BC,kBAAkB,EAAE,mBA9CO;UA+C3BC,yBAAyB,EAAE,6BA/CA;UAgD3BC,sBAAsB,EAAE,2DAhDG;UAiD3BC,kBAAkB,EAAE,oDAjDO;UAkD3BC,kBAAkB,EAAE,2DAlDO;UAmD3BC,yBAAyB,EAAE,aAnDA;UAoD3BC,2BAA2B,EAAE,iBApDF;UAqD3BC,qBAAqB,EAAE,YArDI;UAsD3BC,4BAA4B,EAAE;QAtDH,CAA7B;;QAyDA,SAASjD,eAAT,CAAyBkD,GAAzB,EAA8BC,IAA9B,EAAoC;UAClC,QAAQD,GAAR;YACE,KAAK,kBAAL;cACEA,GAAG,GAAI,oBAAmBC,IAAI,CAACC,KAAL,KAAe,CAAf,GAAmB,KAAnB,GAA2B,OAAQ,GAA7D;cACA;;YAEF,KAAK,wBAAL;cACEF,GAAG,GAAI,0BAAyBC,IAAI,CAACE,KAAL,KAAe,CAAf,GAAmB,KAAnB,GAA2B,OAAQ,GAAnE;cACA;UAPJ;;UAUA,OAAOpD,oBAAoB,CAACiD,GAAD,CAApB,IAA6B,EAApC;QACD;;QAED,MAAMI,kBAAkB,GAAG;UACzBC,EAAE,EAAE,OADqB;UAEzBC,EAAE,EAAE,OAFqB;UAGzBC,EAAE,EAAE,OAHqB;UAIzBC,EAAE,EAAE,OAJqB;UAKzBC,EAAE,EAAE,OALqB;UAMzBC,EAAE,EAAE,OANqB;UAOzBC,EAAE,EAAE,OAPqB;UAQzBC,EAAE,EAAE,OARqB;UASzBC,EAAE,EAAE,OATqB;UAUzBC,EAAE,EAAE,OAVqB;UAWzBC,EAAE,EAAE,OAXqB;UAYzBC,EAAE,EAAE,OAZqB;UAazBC,EAAE,EAAE,OAbqB;UAczBC,EAAE,EAAE;QAdqB,CAA3B;;QAiBA,SAASrE,aAAT,CAAuBsE,QAAvB,EAAiC;UAC/B,OAAOf,kBAAkB,CAACe,QAAQ,EAAEC,WAAV,EAAD,CAAlB,IAA+CD,QAAtD;QACD;;QAED,SAASE,eAAT,CAAyBC,IAAzB,EAA+BrB,IAA/B,EAAqC;UACnC,IAAI,CAACA,IAAL,EAAW;YACT,OAAOqB,IAAP;UACD;;UAED,OAAOA,IAAI,CAACC,OAAL,CAAa,sBAAb,EAAqC,CAACC,GAAD,EAAMC,IAAN,KAAe;YACzD,OAAOA,IAAI,IAAIxB,IAAR,GAAeA,IAAI,CAACwB,IAAD,CAAnB,GAA4B,OAAOA,IAAP,GAAc,IAAjD;UACD,CAFM,CAAP;QAGD;;QAED,MAAMnI,QAAQ,GAAG;UACToI,WAAN,GAAoB;YAAA;cAClB,OAAO,OAAP;YADkB;UAEnB,CAHc;;UAKTC,YAAN,GAAqB;YAAA;cACnB,OAAO,KAAP;YADmB;UAEpB,CAPc;;UASTC,GAAN,CAAU5B,GAAV,EAAeC,IAAI,GAAG,IAAtB,EAA4B4B,QAAQ,GAAG/E,eAAe,CAACkD,GAAD,EAAMC,IAAN,CAAtD,EAAmE;YAAA;cACjE,OAAOoB,eAAe,CAACQ,QAAD,EAAW5B,IAAX,CAAtB;YADiE;UAElE,CAXc;;UAaT6B,SAAN,CAAgBC,OAAhB,EAAyB;YAAA;UAAE;;QAbZ,CAAjB;QAgBAxK,OAAO,CAAC+B,QAAR,GAAmBA,QAAnB;QAEA;MAAO,CA7Y8B;MA8YrC;;MACA;MAAO,CAACxB,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACsC,sBAAR,GAAiC,KAAK,CAAtC;;QAEA,IAAIkB,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIW,WAAW,GAAGX,mBAAmB,CAAC,CAAD,CAArC;;QAEA,MAAM8B,sBAAN,CAA6B;UAC3BmB,WAAW,CAAC;YACVhC,OADU;YAEVC,OAFU;YAGVa,WAHU;YAIVkI,eAJU;YAKV9I,iBAAiB,GAAG,IALV;YAMVC,kBAAkB,GAAG,EANX;YAOVC,WAAW,GAAG,IAPJ;YAQVC,IAAI,GAAGX,WAAW,CAACY,QART;YASVC,eAAe,GAAG,KATR;YAUVC,mBAAmB,GAAG,IAVZ;YAWVE,mBAAmB,GAAG,IAXZ;YAYVD,UAAU,GAAG,IAZH;YAaVE,mBAAmB,GAAG,IAbZ;YAcVC,oBAAoB,GAAG;UAdb,CAAD,EAeR;YACD,KAAKZ,OAAL,GAAeA,OAAf;YACA,KAAKC,OAAL,GAAeA,OAAf;YACA,KAAKa,WAAL,GAAmBA,WAAnB;YACA,KAAKkI,eAAL,GAAuBA,eAAvB;YACA,KAAK7I,kBAAL,GAA0BA,kBAA1B;YACA,KAAKC,WAAL,GAAmBA,WAAnB;YACA,KAAKC,IAAL,GAAYA,IAAZ;YACA,KAAKH,iBAAL,GAAyBA,iBAAzB;YACA,KAAKK,eAAL,GAAuBA,eAAvB;YACA,KAAK0I,oBAAL,GAA4BzI,mBAA5B;YACA,KAAK0I,oBAAL,GAA4BxI,mBAA5B;YACA,KAAKyI,WAAL,GAAmB1I,UAAnB;YACA,KAAK2I,oBAAL,GAA4BzI,mBAA5B;YACA,KAAK0I,qBAAL,GAA6BzI,oBAA7B;YACA,KAAKuB,GAAL,GAAW,IAAX;YACA,KAAKC,UAAL,GAAkB,KAAlB;UACD;;UAEKC,MAAM,CAACb,QAAD,EAAWc,MAAM,GAAG,SAApB,EAA+B;YAAA;;YAAA;cACzC,MAAM,CAACc,WAAD,EAAckG,YAAY,GAAG,KAA7B,EAAoCC,YAAY,GAAG,IAAnD,UAAiEC,OAAO,CAAChB,GAAR,CAAY,CAAC,MAAI,CAACvI,OAAL,CAAawJ,cAAb,CAA4B;gBAC9GnH;cAD8G,CAA5B,CAAD,EAE/E,MAAI,CAAC2G,oBAF0E,EAEpD,MAAI,CAACC,oBAF+C,CAAZ,CAAvE;;cAIA,IAAI,MAAI,CAAC9G,UAAL,IAAmBgB,WAAW,CAACsG,MAAZ,KAAuB,CAA9C,EAAiD;gBAC/C;cACD;;cAED,MAAMvG,UAAU,GAAG;gBACjB3B,QAAQ,EAAEA,QAAQ,CAACgB,KAAT,CAAe;kBACvBC,QAAQ,EAAE;gBADa,CAAf,CADO;gBAIjBN,GAAG,EAAE,MAAI,CAACA,GAJO;gBAKjBiB,WALiB;gBAMjBuG,IAAI,EAAE,MAAI,CAAC1J,OANM;gBAOjBE,kBAAkB,EAAE,MAAI,CAACA,kBAPR;gBAQjBC,WAAW,EAAE,MAAI,CAACA,WARD;gBASjBU,WAAW,EAAE,MAAI,CAACA,WATD;gBAUjBkI,eAAe,EAAE,MAAI,CAACA,eAVL;gBAWjB9I,iBAAiB,EAAE,MAAI,CAACA,iBAXP;gBAYjBK,eAAe,EAAE,MAAI,CAACA,eAZL;gBAajB+I,YAbiB;gBAcjBC,YAdiB;gBAejB9I,UAAU,EAAE,MAAI,CAAC0I,WAfA;gBAgBjBxI,mBAAmB,EAAE,MAAI,CAACyI,oBAhBT;gBAiBjBxI,oBAAoB,EAAE,MAAI,CAACyI;cAjBV,CAAnB;;cAoBA,IAAI,MAAI,CAAClH,GAAT,EAAc;gBACZJ,SAAS,CAAC6H,eAAV,CAA0BlH,MAA1B,CAAiCS,UAAjC;cACD,CAFD,MAEO;gBACL,MAAI,CAAChB,GAAL,GAAWS,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;gBACA,MAAI,CAACV,GAAL,CAASW,SAAT,GAAqB,iBAArB;;gBACA,MAAI,CAAC9C,OAAL,CAAagD,MAAb,CAAoB,MAAI,CAACb,GAAzB;;gBACAgB,UAAU,CAAChB,GAAX,GAAiB,MAAI,CAACA,GAAtB;;gBAEAJ,SAAS,CAAC6H,eAAV,CAA0BvH,MAA1B,CAAiCc,UAAjC;;gBAEA,MAAI,CAAC9C,IAAL,CAAUyI,SAAV,CAAoB,MAAI,CAAC3G,GAAzB;cACD;YAxCwC;UAyC1C;;UAEDkB,MAAM,GAAG;YACP,KAAKjB,UAAL,GAAkB,IAAlB;UACD;;UAEDmB,IAAI,GAAG;YACL,IAAI,CAAC,KAAKpB,GAAV,EAAe;cACb;YACD;;YAED,KAAKA,GAAL,CAASqB,MAAT,GAAkB,IAAlB;UACD;;QAxF0B;;QA4F7BjF,OAAO,CAACsC,sBAAR,GAAiCA,sBAAjC;QAEA;MAAO,CA1f8B;MA2frC;;MACA;MAAO,CAAC/B,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACwC,iBAAR,GAA4BxC,OAAO,CAACsL,cAAR,GAAyBtL,OAAO,CAACuL,UAAR,GAAqB,KAAK,CAA/E;;QAEA,IAAIC,SAAS,GAAGhL,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,MAAMiL,gBAAgB,GAAG,8BAAzB;QACA,MAAMF,UAAU,GAAG;UACjBG,IAAI,EAAE,CADW;UAEjBC,IAAI,EAAE,CAFW;UAGjBC,KAAK,EAAE,CAHU;UAIjBC,MAAM,EAAE,CAJS;UAKjBC,GAAG,EAAE;QALY,CAAnB;QAOA9L,OAAO,CAACuL,UAAR,GAAqBA,UAArB;;QAEA,SAASQ,iBAAT,CAA2BC,IAA3B,EAAiC;UAC/BC,GAD+B;UAE/BC,MAF+B;UAG/BC,GAH+B;UAI/BC,OAAO,GAAG;QAJqB,IAK7B,EALJ,EAKQ;UACN,IAAI,CAACH,GAAD,IAAQ,OAAOA,GAAP,KAAe,QAA3B,EAAqC;YACnC,MAAM,IAAII,KAAJ,CAAU,wCAAV,CAAN;UACD;;UAED,MAAMC,cAAc,GAAG,CAAC,GAAGd,SAAS,CAACe,oBAAd,EAAoCN,GAApC,CAAvB;;UAEA,IAAIG,OAAJ,EAAa;YACXJ,IAAI,CAACQ,IAAL,GAAYR,IAAI,CAACS,KAAL,GAAaH,cAAzB;UACD,CAFD,MAEO;YACLN,IAAI,CAACQ,IAAL,GAAY,EAAZ;YACAR,IAAI,CAACS,KAAL,GAAc,aAAYH,cAAe,EAAzC;;YAEAN,IAAI,CAACU,OAAL,GAAe,MAAM;cACnB,OAAO,KAAP;YACD,CAFD;UAGD;;UAED,IAAIC,SAAS,GAAG,EAAhB;;UAEA,QAAQT,MAAR;YACE,KAAKX,UAAU,CAACG,IAAhB;cACE;;YAEF,KAAKH,UAAU,CAACI,IAAhB;cACEgB,SAAS,GAAG,OAAZ;cACA;;YAEF,KAAKpB,UAAU,CAACK,KAAhB;cACEe,SAAS,GAAG,QAAZ;cACA;;YAEF,KAAKpB,UAAU,CAACM,MAAhB;cACEc,SAAS,GAAG,SAAZ;cACA;;YAEF,KAAKpB,UAAU,CAACO,GAAhB;cACEa,SAAS,GAAG,MAAZ;cACA;UAlBJ;;UAqBAX,IAAI,CAACE,MAAL,GAAcS,SAAd;UACAX,IAAI,CAACG,GAAL,GAAW,OAAOA,GAAP,KAAe,QAAf,GAA0BA,GAA1B,GAAgCV,gBAA3C;QACD;;QAED,MAAMH,cAAN,CAAqB;UACnB,CAACsB,aAAD,GAAiB,IAAIC,GAAJ,EAAjB;;UAEApJ,WAAW,CAAC;YACVN,QADU;YAEV2J,kBAAkB,GAAG,IAFX;YAGVC,eAAe,GAAG,IAHR;YAIVC,qBAAqB,GAAG;UAJd,IAKR,EALO,EAKH;YACN,KAAK7J,QAAL,GAAgBA,QAAhB;YACA,KAAK2J,kBAAL,GAA0BA,kBAA1B;YACA,KAAKC,eAAL,GAAuBA,eAAvB;YACA,KAAKE,mBAAL,GAA2B,IAA3B;YACA,KAAKC,sBAAL,GAA8BF,qBAA9B;YACA,KAAKG,OAAL,GAAe,IAAf;YACA,KAAKC,WAAL,GAAmB,IAAnB;YACA,KAAKC,SAAL,GAAiB,IAAjB;YACA,KAAKC,UAAL,GAAkB,IAAlB;UACD;;UAEDC,WAAW,CAACH,WAAD,EAAcD,OAAO,GAAG,IAAxB,EAA8B;YACvC,KAAKA,OAAL,GAAeA,OAAf;YACA,KAAKC,WAAL,GAAmBA,WAAnB;YACA,KAAK,CAACR,aAAN,CAAoBY,KAApB;UACD;;UAEDC,SAAS,CAACJ,SAAD,EAAY;YACnB,KAAKA,SAAL,GAAiBA,SAAjB;UACD;;UAEDK,UAAU,CAACJ,UAAD,EAAa;YACrB,KAAKA,UAAL,GAAkBA,UAAlB;UACD;;UAEa,IAAVK,UAAU,GAAG;YACf,OAAO,KAAKP,WAAL,GAAmB,KAAKA,WAAL,CAAiBQ,QAApC,GAA+C,CAAtD;UACD;;UAEO,IAAJxC,IAAI,GAAG;YACT,OAAO,KAAKiC,SAAL,CAAeQ,iBAAtB;UACD;;UAEO,IAAJzC,IAAI,CAACzK,KAAD,EAAQ;YACd,KAAK0M,SAAL,CAAeQ,iBAAf,GAAmClN,KAAnC;UACD;;UAEW,IAARmN,QAAQ,GAAG;YACb,OAAO,KAAKT,SAAL,CAAeU,aAAtB;UACD;;UAEW,IAARD,QAAQ,CAACnN,KAAD,EAAQ;YAClB,KAAK0M,SAAL,CAAeU,aAAf,GAA+BpN,KAA/B;UACD;;UAED,CAACqN,qBAAqB,CAACC,OAAD,EAAUC,SAAS,GAAG,IAAtB,EAA4BC,YAA5B,EAA0C;YAC9D,MAAMC,OAAO,GAAGD,YAAY,CAAC,CAAD,CAA5B;YACA,IAAIE,UAAJ;;YAEA,IAAI,OAAOD,OAAP,KAAmB,QAAnB,IAA+BA,OAAO,KAAK,IAA/C,EAAqD;cACnDC,UAAU,GAAG,KAAKC,iBAAL,CAAuBF,OAAvB,CAAb;;cAEA,IAAI,CAACC,UAAL,EAAiB;gBACf,KAAKjB,WAAL,CAAiBmB,YAAjB,CAA8BH,OAA9B,EAAuCI,IAAvC,CAA4CxL,SAAS,IAAI;kBACvD,KAAKyL,YAAL,CAAkBzL,SAAS,GAAG,CAA9B,EAAiCoL,OAAjC;kBACA,KAAK,CAACJ,qBAAN,CAA4BC,OAA5B,EAAqCC,SAArC,EAAgDC,YAAhD;gBACD,CAHD,EAGGO,KAHH,CAGS,MAAM;kBACbC,OAAO,CAACC,KAAR,CAAe,2CAA0CR,OAAQ,WAAnD,GAAiE,qCAAoCH,OAAQ,IAA3H;gBACD,CALD;gBAMA;cACD;YACF,CAZD,MAYO,IAAIY,MAAM,CAACC,SAAP,CAAiBV,OAAjB,CAAJ,EAA+B;cACpCC,UAAU,GAAGD,OAAO,GAAG,CAAvB;YACD,CAFM,MAEA;cACLO,OAAO,CAACC,KAAR,CAAe,2CAA0CR,OAAQ,WAAnD,GAAiE,4CAA2CH,OAAQ,IAAlI;cACA;YACD;;YAED,IAAI,CAACI,UAAD,IAAeA,UAAU,GAAG,CAA5B,IAAiCA,UAAU,GAAG,KAAKV,UAAvD,EAAmE;cACjEgB,OAAO,CAACC,KAAR,CAAe,2CAA0CP,UAAW,WAAtD,GAAoE,kCAAiCJ,OAAQ,IAA3H;cACA;YACD;;YAED,IAAI,KAAKX,UAAT,EAAqB;cACnB,KAAKA,UAAL,CAAgByB,mBAAhB;cACA,KAAKzB,UAAL,CAAgB0B,IAAhB,CAAqB;gBACnBd,SADmB;gBAEnBC,YAFmB;gBAGnBE;cAHmB,CAArB;YAKD;;YAED,KAAKhB,SAAL,CAAe4B,kBAAf,CAAkC;cAChCZ,UADgC;cAEhCa,SAAS,EAAEf,YAFqB;cAGhCnB,qBAAqB,EAAE,KAAKE;YAHI,CAAlC;UAKD;;UAEKiC,eAAe,CAACC,IAAD,EAAO;YAAA;;YAAA;cAC1B,IAAI,CAAC,MAAI,CAAChC,WAAV,EAAuB;gBACrB;cACD;;cAED,IAAIc,SAAJ,EAAeC,YAAf;;cAEA,IAAI,OAAOiB,IAAP,KAAgB,QAApB,EAA8B;gBAC5BlB,SAAS,GAAGkB,IAAZ;gBACAjB,YAAY,SAAS,MAAI,CAACf,WAAL,CAAiBiC,cAAjB,CAAgCD,IAAhC,CAArB;cACD,CAHD,MAGO;gBACLlB,SAAS,GAAG,IAAZ;gBACAC,YAAY,SAASiB,IAArB;cACD;;cAED,IAAI,CAACE,KAAK,CAACC,OAAN,CAAcpB,YAAd,CAAL,EAAkC;gBAChCQ,OAAO,CAACC,KAAR,CAAe,oCAAmCT,YAAa,WAAjD,GAA+D,wCAAuCiB,IAAK,IAAzH;gBACA;cACD;;cAED,MAAI,CAAC,CAACpB,qBAAN,CAA4BoB,IAA5B,EAAkClB,SAAlC,EAA6CC,YAA7C;YApB0B;UAqB3B;;UAEDqB,QAAQ,CAACC,GAAD,EAAM;YACZ,IAAI,CAAC,KAAKrC,WAAV,EAAuB;cACrB;YACD;;YAED,MAAMiB,UAAU,GAAG,OAAOoB,GAAP,KAAe,QAAf,IAA2B,KAAKpC,SAAL,CAAeqC,qBAAf,CAAqCD,GAArC,CAA3B,IAAwEA,GAAG,GAAG,CAAjG;;YAEA,IAAI,EAAEZ,MAAM,CAACC,SAAP,CAAiBT,UAAjB,KAAgCA,UAAU,GAAG,CAA7C,IAAkDA,UAAU,IAAI,KAAKV,UAAvE,CAAJ,EAAwF;cACtFgB,OAAO,CAACC,KAAR,CAAe,6BAA4Ba,GAAI,wBAA/C;cACA;YACD;;YAED,IAAI,KAAKnC,UAAT,EAAqB;cACnB,KAAKA,UAAL,CAAgByB,mBAAhB;cACA,KAAKzB,UAAL,CAAgBqC,QAAhB,CAAyBtB,UAAzB;YACD;;YAED,KAAKhB,SAAL,CAAe4B,kBAAf,CAAkC;cAChCZ;YADgC,CAAlC;UAGD;;UAEDtC,iBAAiB,CAACC,IAAD,EAAOC,GAAP,EAAY2D,SAAS,GAAG,KAAxB,EAA+B;YAC9C7D,iBAAiB,CAACC,IAAD,EAAO;cACtBC,GADsB;cAEtBC,MAAM,EAAE0D,SAAS,GAAGrE,UAAU,CAACK,KAAd,GAAsB,KAAKkB,kBAFtB;cAGtBX,GAAG,EAAE,KAAKY,eAHY;cAItBX,OAAO,EAAE,KAAKa;YAJQ,CAAP,CAAjB;UAMD;;UAED4C,kBAAkB,CAACT,IAAD,EAAO;YACvB,IAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;cAC5B,IAAIA,IAAI,CAACjE,MAAL,GAAc,CAAlB,EAAqB;gBACnB,OAAO,KAAK2E,YAAL,CAAkB,MAAMC,MAAM,CAACX,IAAD,CAA9B,CAAP;cACD;YACF,CAJD,MAIO,IAAIE,KAAK,CAACC,OAAN,CAAcH,IAAd,CAAJ,EAAyB;cAC9B,MAAMY,GAAG,GAAGC,IAAI,CAACC,SAAL,CAAed,IAAf,CAAZ;;cAEA,IAAIY,GAAG,CAAC7E,MAAJ,GAAa,CAAjB,EAAoB;gBAClB,OAAO,KAAK2E,YAAL,CAAkB,MAAMC,MAAM,CAACC,GAAD,CAA9B,CAAP;cACD;YACF;;YAED,OAAO,KAAKF,YAAL,CAAkB,EAAlB,CAAP;UACD;;UAEDA,YAAY,CAACK,MAAD,EAAS;YACnB,OAAO,CAAC,KAAKhD,OAAL,IAAgB,EAAjB,IAAuBgD,MAA9B;UACD;;UAEDC,OAAO,CAACC,IAAD,EAAO;YACZ,IAAI,CAAC,KAAKjD,WAAV,EAAuB;cACrB;YACD;;YAED,IAAIiB,UAAJ,EAAgBe,IAAhB;;YAEA,IAAIiB,IAAI,CAACC,QAAL,CAAc,GAAd,CAAJ,EAAwB;cACtB,MAAMC,MAAM,GAAG,CAAC,GAAG/E,SAAS,CAACgF,gBAAd,EAAgCH,IAAhC,CAAf;;cAEA,IAAIE,MAAM,CAACE,GAAP,CAAW,QAAX,CAAJ,EAA0B;gBACxB,KAAKtN,QAAL,CAAcuN,QAAd,CAAuB,iBAAvB,EAA0C;kBACxCC,MAAM,EAAE,IADgC;kBAExCC,KAAK,EAAEL,MAAM,CAAClG,GAAP,CAAW,QAAX,EAAqBL,OAArB,CAA6B,IAA7B,EAAmC,EAAnC,CAFiC;kBAGxC6G,YAAY,EAAEN,MAAM,CAAClG,GAAP,CAAW,QAAX,MAAyB;gBAHC,CAA1C;cAKD;;cAED,IAAIkG,MAAM,CAACE,GAAP,CAAW,MAAX,CAAJ,EAAwB;gBACtBpC,UAAU,GAAGkC,MAAM,CAAClG,GAAP,CAAW,MAAX,IAAqB,CAArB,IAA0B,CAAvC;cACD;;cAED,IAAIkG,MAAM,CAACE,GAAP,CAAW,MAAX,CAAJ,EAAwB;gBACtB,MAAMK,QAAQ,GAAGP,MAAM,CAAClG,GAAP,CAAW,MAAX,EAAmB0G,KAAnB,CAAyB,GAAzB,CAAjB;gBACA,MAAMC,OAAO,GAAGF,QAAQ,CAAC,CAAD,CAAxB;gBACA,MAAMG,aAAa,GAAGC,UAAU,CAACF,OAAD,CAAhC;;gBAEA,IAAI,CAACA,OAAO,CAACV,QAAR,CAAiB,KAAjB,CAAL,EAA8B;kBAC5BlB,IAAI,GAAG,CAAC,IAAD,EAAO;oBACZlF,IAAI,EAAE;kBADM,CAAP,EAEJ4G,QAAQ,CAAC3F,MAAT,GAAkB,CAAlB,GAAsB2F,QAAQ,CAAC,CAAD,CAAR,GAAc,CAApC,GAAwC,IAFpC,EAE0CA,QAAQ,CAAC3F,MAAT,GAAkB,CAAlB,GAAsB2F,QAAQ,CAAC,CAAD,CAAR,GAAc,CAApC,GAAwC,IAFlF,EAEwFG,aAAa,GAAGA,aAAa,GAAG,GAAnB,GAAyBD,OAF9H,CAAP;gBAGD,CAJD,MAIO;kBACL,IAAIA,OAAO,KAAK,KAAZ,IAAqBA,OAAO,KAAK,MAArC,EAA6C;oBAC3C5B,IAAI,GAAG,CAAC,IAAD,EAAO;sBACZlF,IAAI,EAAE8G;oBADM,CAAP,CAAP;kBAGD,CAJD,MAIO,IAAIA,OAAO,KAAK,MAAZ,IAAsBA,OAAO,KAAK,OAAlC,IAA6CA,OAAO,KAAK,MAAzD,IAAmEA,OAAO,KAAK,OAAnF,EAA4F;oBACjG5B,IAAI,GAAG,CAAC,IAAD,EAAO;sBACZlF,IAAI,EAAE8G;oBADM,CAAP,EAEJF,QAAQ,CAAC3F,MAAT,GAAkB,CAAlB,GAAsB2F,QAAQ,CAAC,CAAD,CAAR,GAAc,CAApC,GAAwC,IAFpC,CAAP;kBAGD,CAJM,MAIA,IAAIE,OAAO,KAAK,MAAhB,EAAwB;oBAC7B,IAAIF,QAAQ,CAAC3F,MAAT,KAAoB,CAAxB,EAA2B;sBACzBwD,OAAO,CAACC,KAAR,CAAc,2DAAd;oBACD,CAFD,MAEO;sBACLQ,IAAI,GAAG,CAAC,IAAD,EAAO;wBACZlF,IAAI,EAAE8G;sBADM,CAAP,EAEJF,QAAQ,CAAC,CAAD,CAAR,GAAc,CAFV,EAEaA,QAAQ,CAAC,CAAD,CAAR,GAAc,CAF3B,EAE8BA,QAAQ,CAAC,CAAD,CAAR,GAAc,CAF5C,EAE+CA,QAAQ,CAAC,CAAD,CAAR,GAAc,CAF7D,CAAP;oBAGD;kBACF,CARM,MAQA;oBACLnC,OAAO,CAACC,KAAR,CAAe,4BAA2BoC,OAAQ,8BAAlD;kBACD;gBACF;cACF;;cAED,IAAI5B,IAAJ,EAAU;gBACR,KAAK/B,SAAL,CAAe4B,kBAAf,CAAkC;kBAChCZ,UAAU,EAAEA,UAAU,IAAI,KAAKjD,IADC;kBAEhC8D,SAAS,EAAEE,IAFqB;kBAGhC+B,mBAAmB,EAAE;gBAHW,CAAlC;cAKD,CAND,MAMO,IAAI9C,UAAJ,EAAgB;gBACrB,KAAKjD,IAAL,GAAYiD,UAAZ;cACD;;cAED,IAAIkC,MAAM,CAACE,GAAP,CAAW,UAAX,CAAJ,EAA4B;gBAC1B,KAAKtN,QAAL,CAAcuN,QAAd,CAAuB,UAAvB,EAAmC;kBACjCC,MAAM,EAAE,IADyB;kBAEjCS,IAAI,EAAEb,MAAM,CAAClG,GAAP,CAAW,UAAX;gBAF2B,CAAnC;cAID;;cAED,IAAIkG,MAAM,CAACE,GAAP,CAAW,WAAX,CAAJ,EAA6B;gBAC3B,KAAKtB,eAAL,CAAqBoB,MAAM,CAAClG,GAAP,CAAW,WAAX,CAArB;cACD;YACF,CAnED,MAmEO;cACL+E,IAAI,GAAGiC,QAAQ,CAAChB,IAAD,CAAf;;cAEA,IAAI;gBACFjB,IAAI,GAAGa,IAAI,CAACqB,KAAL,CAAWlC,IAAX,CAAP;;gBAEA,IAAI,CAACE,KAAK,CAACC,OAAN,CAAcH,IAAd,CAAL,EAA0B;kBACxBA,IAAI,GAAGA,IAAI,CAACmC,QAAL,EAAP;gBACD;cACF,CAND,CAME,OAAOC,EAAP,EAAW,CAAE;;cAEf,IAAI,OAAOpC,IAAP,KAAgB,QAAhB,IAA4B9D,cAAc,CAAC,CAACmG,0BAAhB,CAA2CrC,IAA3C,CAAhC,EAAkF;gBAChF,KAAKD,eAAL,CAAqBC,IAArB;gBACA;cACD;;cAEDT,OAAO,CAACC,KAAR,CAAe,4BAA2ByC,QAAQ,CAAChB,IAAD,CAAO,+BAAzD;YACD;UACF;;UAEDqB,kBAAkB,CAACC,MAAD,EAAS;YACzB,QAAQA,MAAR;cACE,KAAK,QAAL;gBACE,KAAKrE,UAAL,EAAiBsE,IAAjB;gBACA;;cAEF,KAAK,WAAL;gBACE,KAAKtE,UAAL,EAAiBuE,OAAjB;gBACA;;cAEF,KAAK,UAAL;gBACE,KAAKxE,SAAL,CAAeyE,QAAf;gBACA;;cAEF,KAAK,UAAL;gBACE,KAAKzE,SAAL,CAAe0E,YAAf;gBACA;;cAEF,KAAK,UAAL;gBACE,KAAK3G,IAAL,GAAY,KAAKuC,UAAjB;gBACA;;cAEF,KAAK,WAAL;gBACE,KAAKvC,IAAL,GAAY,CAAZ;gBACA;;cAEF;gBACE;YA1BJ;;YA6BA,KAAKjI,QAAL,CAAcuN,QAAd,CAAuB,aAAvB,EAAsC;cACpCC,MAAM,EAAE,IAD4B;cAEpCgB;YAFoC,CAAtC;UAID;;UAEDlD,YAAY,CAACuD,OAAD,EAAUC,OAAV,EAAmB;YAC7B,IAAI,CAACA,OAAL,EAAc;cACZ;YACD;;YAED,MAAMC,MAAM,GAAGD,OAAO,CAACE,GAAR,KAAgB,CAAhB,GAAqB,GAAEF,OAAO,CAACG,GAAI,GAAnC,GAAyC,GAAEH,OAAO,CAACG,GAAI,IAAGH,OAAO,CAACE,GAAI,EAArF;YACA,KAAK,CAACvF,aAAN,CAAoByF,GAApB,CAAwBH,MAAxB,EAAgCF,OAAhC;UACD;;UAED1D,iBAAiB,CAAC2D,OAAD,EAAU;YACzB,IAAI,CAACA,OAAL,EAAc;cACZ,OAAO,IAAP;YACD;;YAED,MAAMC,MAAM,GAAGD,OAAO,CAACE,GAAR,KAAgB,CAAhB,GAAqB,GAAEF,OAAO,CAACG,GAAI,GAAnC,GAAyC,GAAEH,OAAO,CAACG,GAAI,IAAGH,OAAO,CAACE,GAAI,EAArF;YACA,OAAO,KAAK,CAACvF,aAAN,CAAoBvC,GAApB,CAAwB6H,MAAxB,KAAmC,IAA1C;UACD;;UAEDI,aAAa,CAACjE,UAAD,EAAa;YACxB,OAAO,KAAKhB,SAAL,CAAeiF,aAAf,CAA6BjE,UAA7B,CAAP;UACD;;UAEDkE,YAAY,CAAClE,UAAD,EAAa;YACvB,OAAO,KAAKhB,SAAL,CAAekF,YAAf,CAA4BlE,UAA5B,CAAP;UACD;;UAEiC,OAA3B,CAACoD,0BAA0B,CAACrC,IAAD,EAAO;YACvC,IAAI,CAACE,KAAK,CAACC,OAAN,CAAcH,IAAd,CAAL,EAA0B;cACxB,OAAO,KAAP;YACD;;YAED,MAAMoD,UAAU,GAAGpD,IAAI,CAACjE,MAAxB;;YAEA,IAAIqH,UAAU,GAAG,CAAjB,EAAoB;cAClB,OAAO,KAAP;YACD;;YAED,MAAMpH,IAAI,GAAGgE,IAAI,CAAC,CAAD,CAAjB;;YAEA,IAAI,EAAE,OAAOhE,IAAP,KAAgB,QAAhB,IAA4ByD,MAAM,CAACC,SAAP,CAAiB1D,IAAI,CAACgH,GAAtB,CAA5B,IAA0DvD,MAAM,CAACC,SAAP,CAAiB1D,IAAI,CAAC+G,GAAtB,CAA5D,KAA2F,EAAEtD,MAAM,CAACC,SAAP,CAAiB1D,IAAjB,KAA0BA,IAAI,IAAI,CAApC,CAA/F,EAAuI;cACrI,OAAO,KAAP;YACD;;YAED,MAAMqH,IAAI,GAAGrD,IAAI,CAAC,CAAD,CAAjB;;YAEA,IAAI,EAAE,OAAOqD,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAI,CAACvI,IAAZ,KAAqB,QAAnD,CAAJ,EAAkE;cAChE,OAAO,KAAP;YACD;;YAED,IAAIwI,SAAS,GAAG,IAAhB;;YAEA,QAAQD,IAAI,CAACvI,IAAb;cACE,KAAK,KAAL;gBACE,IAAIsI,UAAU,KAAK,CAAnB,EAAsB;kBACpB,OAAO,KAAP;gBACD;;gBAED;;cAEF,KAAK,KAAL;cACA,KAAK,MAAL;gBACE,OAAOA,UAAU,KAAK,CAAtB;;cAEF,KAAK,MAAL;cACA,KAAK,OAAL;cACA,KAAK,MAAL;cACA,KAAK,OAAL;gBACE,IAAIA,UAAU,KAAK,CAAnB,EAAsB;kBACpB,OAAO,KAAP;gBACD;;gBAED;;cAEF,KAAK,MAAL;gBACE,IAAIA,UAAU,KAAK,CAAnB,EAAsB;kBACpB,OAAO,KAAP;gBACD;;gBAEDE,SAAS,GAAG,KAAZ;gBACA;;cAEF;gBACE,OAAO,KAAP;YA/BJ;;YAkCA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,UAApB,EAAgCG,CAAC,EAAjC,EAAqC;cACnC,MAAMC,KAAK,GAAGxD,IAAI,CAACuD,CAAD,CAAlB;;cAEA,IAAI,EAAE,OAAOC,KAAP,KAAiB,QAAjB,IAA6BF,SAAS,IAAIE,KAAK,KAAK,IAAtD,CAAJ,EAAiE;gBAC/D,OAAO,KAAP;cACD;YACF;;YAED,OAAO,IAAP;UACD;;QA5YkB;;QAgZrB5S,OAAO,CAACsL,cAAR,GAAyBA,cAAzB;;QAEA,MAAM9I,iBAAN,CAAwB;UACtBiB,WAAW,GAAG;YACZ,KAAKwJ,mBAAL,GAA2B,IAA3B;UACD;;UAEa,IAAVU,UAAU,GAAG;YACf,OAAO,CAAP;UACD;;UAEO,IAAJvC,IAAI,GAAG;YACT,OAAO,CAAP;UACD;;UAEO,IAAJA,IAAI,CAACzK,KAAD,EAAQ,CAAE;;UAEN,IAARmN,QAAQ,GAAG;YACb,OAAO,CAAP;UACD;;UAEW,IAARA,QAAQ,CAACnN,KAAD,EAAQ,CAAE;;UAEhBwO,eAAe,CAACC,IAAD,EAAO;YAAA;UAAE;;UAE9BI,QAAQ,CAACC,GAAD,EAAM,CAAE;;UAEhB1D,iBAAiB,CAACC,IAAD,EAAOC,GAAP,EAAY2D,SAAS,GAAG,KAAxB,EAA+B;YAC9C7D,iBAAiB,CAACC,IAAD,EAAO;cACtBC,GADsB;cAEtBG,OAAO,EAAE,KAAKa;YAFQ,CAAP,CAAjB;UAID;;UAED4C,kBAAkB,CAACT,IAAD,EAAO;YACvB,OAAO,GAAP;UACD;;UAEDU,YAAY,CAACO,IAAD,EAAO;YACjB,OAAO,GAAP;UACD;;UAEDD,OAAO,CAACC,IAAD,EAAO,CAAE;;UAEhBqB,kBAAkB,CAACC,MAAD,EAAS,CAAE;;UAE7BlD,YAAY,CAACuD,OAAD,EAAUC,OAAV,EAAmB,CAAE;;UAEjCK,aAAa,CAACjE,UAAD,EAAa;YACxB,OAAO,IAAP;UACD;;UAEDkE,YAAY,CAAClE,UAAD,EAAa;YACvB,OAAO,IAAP;UACD;;QApDqB;;QAwDxBrO,OAAO,CAACwC,iBAAR,GAA4BA,iBAA5B;QAEA;MAAO,CA/gC8B;MAghCrC;;MACA;MAAO,CAACjC,uBAAD,EAA0BP,OAA1B,KAAsC;QAI7CS,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAC6S,gBAAR,GAA2B7S,OAAO,CAAC8S,gBAAR,GAA2B9S,OAAO,CAAC+S,aAAR,GAAwB/S,OAAO,CAACgT,aAAR,GAAwBhT,OAAO,CAACiT,UAAR,GAAqBjT,OAAO,CAACkT,WAAR,GAAsBlT,OAAO,CAACmT,UAAR,GAAqBnT,OAAO,CAACoT,iBAAR,GAA4BpT,OAAO,CAACqT,eAAR,GAA0BrT,OAAO,CAACsT,YAAR,GAAuBtT,OAAO,CAACuT,WAAR,GAAsBvT,OAAO,CAACwT,qBAAR,GAAgCxT,OAAO,CAACyT,WAAR,GAAsBzT,OAAO,CAAC0T,SAAR,GAAoB1T,OAAO,CAAC2T,SAAR,GAAoB3T,OAAO,CAAC4T,cAAR,GAAyB5T,OAAO,CAAC6T,mBAAR,GAA8B7T,OAAO,CAAC8T,mBAAR,GAA8B9T,OAAO,CAAC+T,aAAR,GAAwB/T,OAAO,CAACgU,eAAR,GAA0B,KAAK,CAAnf;QACAhU,OAAO,CAACiU,0BAAR,GAAqCA,0BAArC;QACAjU,OAAO,CAACkU,wBAAR,GAAmCA,wBAAnC;QACAlU,OAAO,CAACmU,mBAAR,GAA8BA,mBAA9B;QACAnU,OAAO,CAACoU,iCAAR,GAA4CA,iCAA5C;QACApU,OAAO,CAACqU,qBAAR,GAAgCA,qBAAhC;QACArU,OAAO,CAACsU,QAAR,GAAmB,KAAK,CAAxB;QACAtU,OAAO,CAACuU,yBAAR,GAAoCA,yBAApC;QACAvU,OAAO,CAACwU,iBAAR,GAA4BA,iBAA5B;QACAxU,OAAO,CAACyU,kBAAR,GAA6BA,kBAA7B;QACAzU,OAAO,CAAC0U,qBAAR,GAAgCA,qBAAhC;QACA1U,OAAO,CAAC2U,eAAR,GAA0BA,eAA1B;QACA3U,OAAO,CAAC4U,iBAAR,GAA4BA,iBAA5B;QACA5U,OAAO,CAAC6U,iBAAR,GAA4BA,iBAA5B;QACA7U,OAAO,CAAC8U,oBAAR,GAA+BA,oBAA/B;QACA9U,OAAO,CAAC+U,wBAAR,GAAmCA,wBAAnC;QACA/U,OAAO,CAACgV,4BAAR,GAAuCA,4BAAvC;QACAhV,OAAO,CAACwQ,gBAAR,GAA2BA,gBAA3B;QACAxQ,OAAO,CAACuM,oBAAR,GAA+BA,oBAA/B;QACAvM,OAAO,CAACiV,aAAR,GAAwBA,aAAxB;QACAjV,OAAO,CAACkV,cAAR,GAAyBA,cAAzB;QACAlV,OAAO,CAACmV,WAAR,GAAsBA,WAAtB;QACA,MAAMtB,mBAAmB,GAAG,MAA5B;QACA7T,OAAO,CAAC6T,mBAAR,GAA8BA,mBAA9B;QACA,MAAME,aAAa,GAAG,GAAtB;QACA/T,OAAO,CAAC+T,aAAR,GAAwBA,aAAxB;QACA,MAAMD,mBAAmB,GAAG,GAA5B;QACA9T,OAAO,CAAC8T,mBAAR,GAA8BA,mBAA9B;QACA,MAAMJ,SAAS,GAAG,GAAlB;QACA1T,OAAO,CAAC0T,SAAR,GAAoBA,SAApB;QACA,MAAMC,SAAS,GAAG,IAAlB;QACA3T,OAAO,CAAC2T,SAAR,GAAoBA,SAApB;QACA,MAAMZ,aAAa,GAAG,CAAtB;QACA/S,OAAO,CAAC+S,aAAR,GAAwBA,aAAxB;QACA,MAAMa,cAAc,GAAG,IAAvB;QACA5T,OAAO,CAAC4T,cAAR,GAAyBA,cAAzB;QACA,MAAMR,iBAAiB,GAAG,EAA1B;QACApT,OAAO,CAACoT,iBAAR,GAA4BA,iBAA5B;QACA,MAAMN,gBAAgB,GAAG,CAAzB;QACA9S,OAAO,CAAC8S,gBAAR,GAA2BA,gBAA3B;QACA,MAAMO,eAAe,GAAG;UACtB+B,OAAO,EAAE,CADa;UAEtBC,OAAO,EAAE,CAFa;UAGtBC,MAAM,EAAE,CAHc;UAItBC,QAAQ,EAAE;QAJY,CAAxB;QAMAvV,OAAO,CAACqT,eAAR,GAA0BA,eAA1B;QACA,MAAMG,qBAAqB,GAAG;UAC5BgC,OAAO,EAAE,CADmB;UAE5BC,MAAM,EAAE,CAFoB;UAG5BC,QAAQ,EAAE,CAHkB;UAI5BC,UAAU,EAAE;QAJgB,CAA9B;QAMA3V,OAAO,CAACwT,qBAAR,GAAgCA,qBAAhC;QACA,MAAMN,WAAW,GAAG;UAClBsC,OAAO,EAAE,CAAC,CADQ;UAElB9J,IAAI,EAAE,CAFY;UAGlBkK,MAAM,EAAE,CAHU;UAIlBC,OAAO,EAAE,CAJS;UAKlBC,WAAW,EAAE,CALK;UAMlBC,MAAM,EAAE;QANU,CAApB;QAQA/V,OAAO,CAACkT,WAAR,GAAsBA,WAAtB;QACA,MAAMI,YAAY,GAAG;UACnB0C,MAAM,EAAE,QADW;UAEnBC,GAAG,EAAE;QAFc,CAArB;QAIAjW,OAAO,CAACsT,YAAR,GAAuBA,YAAvB;QACA,MAAMN,aAAa,GAAG;UACpBkD,OAAO,EAAE,CADW;UAEpBC,MAAM,EAAE,CAFY;UAGpBC,cAAc,EAAE;QAHI,CAAtB;QAKApW,OAAO,CAACgT,aAAR,GAAwBA,aAAxB;QACA,MAAMG,UAAU,GAAG;UACjBqC,OAAO,EAAE,CAAC,CADO;UAEjBa,QAAQ,EAAE,CAFO;UAGjBC,UAAU,EAAE,CAHK;UAIjBC,OAAO,EAAE,CAJQ;UAKjBC,IAAI,EAAE;QALW,CAAnB;QAOAxW,OAAO,CAACmT,UAAR,GAAqBA,UAArB;QACA,MAAMF,UAAU,GAAG;UACjBuC,OAAO,EAAE,CAAC,CADO;UAEjB9J,IAAI,EAAE,CAFW;UAGjB+K,GAAG,EAAE,CAHY;UAIjBC,IAAI,EAAE;QAJW,CAAnB;QAMA1W,OAAO,CAACiT,UAAR,GAAqBA,UAArB;QACA,MAAMe,eAAe,GAAG,cAAxB;QACAhU,OAAO,CAACgU,eAAR,GAA0BA,eAA1B;;QAEA,MAAMP,WAAN,CAAkB;UAChBhQ,WAAW,GAAG;YACZ,MAAMkT,UAAU,GAAGvR,MAAM,CAACwR,gBAAP,IAA2B,CAA9C;YACA,KAAKC,EAAL,GAAUF,UAAV;YACA,KAAKG,EAAL,GAAUH,UAAV;UACD;;UAES,IAANI,MAAM,GAAG;YACX,OAAO,KAAKF,EAAL,KAAY,CAAZ,IAAiB,KAAKC,EAAL,KAAY,CAApC;UACD;;QATe;;QAalB9W,OAAO,CAACyT,WAAR,GAAsBA,WAAtB;;QAEA,SAASyB,cAAT,CAAwB1K,OAAxB,EAAiCwM,IAAjC,EAAuCC,aAAa,GAAG,KAAvD,EAA8D;UAC5D,IAAIC,MAAM,GAAG1M,OAAO,CAAC2M,YAArB;;UAEA,IAAI,CAACD,MAAL,EAAa;YACXvI,OAAO,CAACC,KAAR,CAAc,0CAAd;YACA;UACD;;UAED,IAAIwI,OAAO,GAAG5M,OAAO,CAAC6M,SAAR,GAAoB7M,OAAO,CAAC8M,SAA1C;UACA,IAAIC,OAAO,GAAG/M,OAAO,CAACgN,UAAR,GAAqBhN,OAAO,CAACiN,UAA3C;;UAEA,OAAOP,MAAM,CAACQ,YAAP,KAAwBR,MAAM,CAACS,YAA/B,IAA+CT,MAAM,CAACU,WAAP,KAAuBV,MAAM,CAACW,WAA7E,IAA4FZ,aAAa,KAAKC,MAAM,CAACY,SAAP,CAAiBC,QAAjB,CAA0B,eAA1B,KAA8CC,gBAAgB,CAACd,MAAD,CAAhB,CAAyBe,QAAzB,KAAsC,QAAzF,CAAhH,EAAoN;YAClNb,OAAO,IAAIF,MAAM,CAACG,SAAlB;YACAE,OAAO,IAAIL,MAAM,CAACM,UAAlB;YACAN,MAAM,GAAGA,MAAM,CAACC,YAAhB;;YAEA,IAAI,CAACD,MAAL,EAAa;cACX;YACD;UACF;;UAED,IAAIF,IAAJ,EAAU;YACR,IAAIA,IAAI,CAACkB,GAAL,KAAaC,SAAjB,EAA4B;cAC1Bf,OAAO,IAAIJ,IAAI,CAACkB,GAAhB;YACD;;YAED,IAAIlB,IAAI,CAACoB,IAAL,KAAcD,SAAlB,EAA6B;cAC3BZ,OAAO,IAAIP,IAAI,CAACoB,IAAhB;cACAlB,MAAM,CAACmB,UAAP,GAAoBd,OAApB;YACD;UACF;;UAEDL,MAAM,CAACoB,SAAP,GAAmBlB,OAAnB;QACD;;QAED,SAASjC,WAAT,CAAqBoD,eAArB,EAAsCC,QAAtC,EAAgD;UAC9C,MAAMC,cAAc,GAAG,UAAUC,GAAV,EAAe;YACpC,IAAIC,GAAJ,EAAS;cACP;YACD;;YAEDA,GAAG,GAAGvT,MAAM,CAACwT,qBAAP,CAA6B,SAASC,uBAAT,GAAmC;cACpEF,GAAG,GAAG,IAAN;cACA,MAAMG,QAAQ,GAAGP,eAAe,CAACF,UAAjC;cACA,MAAMU,KAAK,GAAGC,KAAK,CAACD,KAApB;;cAEA,IAAID,QAAQ,KAAKC,KAAjB,EAAwB;gBACtBC,KAAK,CAACC,KAAN,GAAcH,QAAQ,GAAGC,KAAzB;cACD;;cAEDC,KAAK,CAACD,KAAN,GAAcD,QAAd;cACA,MAAMI,QAAQ,GAAGX,eAAe,CAACD,SAAjC;cACA,MAAMa,KAAK,GAAGH,KAAK,CAACG,KAApB;;cAEA,IAAID,QAAQ,KAAKC,KAAjB,EAAwB;gBACtBH,KAAK,CAACI,IAAN,GAAaF,QAAQ,GAAGC,KAAxB;cACD;;cAEDH,KAAK,CAACG,KAAN,GAAcD,QAAd;cACAV,QAAQ,CAACQ,KAAD,CAAR;YACD,CAnBK,CAAN;UAoBD,CAzBD;;UA2BA,MAAMA,KAAK,GAAG;YACZC,KAAK,EAAE,IADK;YAEZG,IAAI,EAAE,IAFM;YAGZL,KAAK,EAAER,eAAe,CAACF,UAHX;YAIZc,KAAK,EAAEZ,eAAe,CAACD,SAJX;YAKZe,aAAa,EAAEZ;UALH,CAAd;UAOA,IAAIE,GAAG,GAAG,IAAV;UACAJ,eAAe,CAACe,gBAAhB,CAAiC,QAAjC,EAA2Cb,cAA3C,EAA2D,IAA3D;UACA,OAAOO,KAAP;QACD;;QAED,SAASxI,gBAAT,CAA0BI,KAA1B,EAAiC;UAC/B,MAAML,MAAM,GAAG,IAAI1D,GAAJ,EAAf;;UAEA,KAAK,MAAM,CAACpE,GAAD,EAAM9H,KAAN,CAAX,IAA2B,IAAI4Y,eAAJ,CAAoB3I,KAApB,CAA3B,EAAuD;YACrDL,MAAM,CAAC8B,GAAP,CAAW5J,GAAG,CAACoB,WAAJ,EAAX,EAA8BlJ,KAA9B;UACD;;UAED,OAAO4P,MAAP;QACD;;QAED,MAAMiJ,oBAAoB,GAAG,OAA7B;QACA,MAAMC,yBAAyB,GAAG,cAAlC;;QAEA,SAASlN,oBAAT,CAA8ByD,GAA9B,EAAmC0J,gBAAgB,GAAG,KAAtD,EAA6D;UAC3D,IAAI,OAAO1J,GAAP,KAAe,QAAnB,EAA6B;YAC3BrB,OAAO,CAACC,KAAR,CAAe,gCAAf;YACA,OAAOoB,GAAP;UACD;;UAED,IAAI0J,gBAAJ,EAAsB;YACpB1J,GAAG,GAAGA,GAAG,CAAChG,OAAJ,CAAYyP,yBAAZ,EAAuC,GAAvC,CAAN;UACD;;UAED,OAAOzJ,GAAG,CAAChG,OAAJ,CAAYwP,oBAAZ,EAAkC,EAAlC,CAAP;QACD;;QAED,SAASnF,qBAAT,CAA+BsF,KAA/B,EAAsCC,SAAtC,EAAiDC,KAAK,GAAG,CAAzD,EAA4D;UAC1D,IAAIC,QAAQ,GAAGD,KAAf;UACA,IAAIE,QAAQ,GAAGJ,KAAK,CAACxO,MAAN,GAAe,CAA9B;;UAEA,IAAI4O,QAAQ,GAAG,CAAX,IAAgB,CAACH,SAAS,CAACD,KAAK,CAACI,QAAD,CAAN,CAA9B,EAAiD;YAC/C,OAAOJ,KAAK,CAACxO,MAAb;UACD;;UAED,IAAIyO,SAAS,CAACD,KAAK,CAACG,QAAD,CAAN,CAAb,EAAgC;YAC9B,OAAOA,QAAP;UACD;;UAED,OAAOA,QAAQ,GAAGC,QAAlB,EAA4B;YAC1B,MAAMC,YAAY,GAAGF,QAAQ,GAAGC,QAAX,IAAuB,CAA5C;YACA,MAAME,WAAW,GAAGN,KAAK,CAACK,YAAD,CAAzB;;YAEA,IAAIJ,SAAS,CAACK,WAAD,CAAb,EAA4B;cAC1BF,QAAQ,GAAGC,YAAX;YACD,CAFD,MAEO;cACLF,QAAQ,GAAGE,YAAY,GAAG,CAA1B;YACD;UACF;;UAED,OAAOF,QAAP;QACD;;QAED,SAAS3F,mBAAT,CAA6B+F,CAA7B,EAAgC;UAC9B,IAAIC,IAAI,CAACC,KAAL,CAAWF,CAAX,MAAkBA,CAAtB,EAAyB;YACvB,OAAO,CAACA,CAAD,EAAI,CAAJ,CAAP;UACD;;UAED,MAAMG,IAAI,GAAG,IAAIH,CAAjB;UACA,MAAMtR,KAAK,GAAG,CAAd;;UAEA,IAAIyR,IAAI,GAAGzR,KAAX,EAAkB;YAChB,OAAO,CAAC,CAAD,EAAIA,KAAJ,CAAP;UACD,CAFD,MAEO,IAAIuR,IAAI,CAACC,KAAL,CAAWC,IAAX,MAAqBA,IAAzB,EAA+B;YACpC,OAAO,CAAC,CAAD,EAAIA,IAAJ,CAAP;UACD;;UAED,MAAMC,EAAE,GAAGJ,CAAC,GAAG,CAAJ,GAAQG,IAAR,GAAeH,CAA1B;UACA,IAAIK,CAAC,GAAG,CAAR;UAAA,IACIC,CAAC,GAAG,CADR;UAAA,IAEIC,CAAC,GAAG,CAFR;UAAA,IAGIC,CAAC,GAAG,CAHR;;UAKA,OAAO,IAAP,EAAa;YACX,MAAMC,CAAC,GAAGJ,CAAC,GAAGE,CAAd;YAAA,MACMG,CAAC,GAAGJ,CAAC,GAAGE,CADd;;YAGA,IAAIE,CAAC,GAAGhS,KAAR,EAAe;cACb;YACD;;YAED,IAAI0R,EAAE,IAAIK,CAAC,GAAGC,CAAd,EAAiB;cACfH,CAAC,GAAGE,CAAJ;cACAD,CAAC,GAAGE,CAAJ;YACD,CAHD,MAGO;cACLL,CAAC,GAAGI,CAAJ;cACAH,CAAC,GAAGI,CAAJ;YACD;UACF;;UAED,IAAIC,MAAJ;;UAEA,IAAIP,EAAE,GAAGC,CAAC,GAAGC,CAAT,GAAaC,CAAC,GAAGC,CAAJ,GAAQJ,EAAzB,EAA6B;YAC3BO,MAAM,GAAGP,EAAE,KAAKJ,CAAP,GAAW,CAACK,CAAD,EAAIC,CAAJ,CAAX,GAAoB,CAACA,CAAD,EAAID,CAAJ,CAA7B;UACD,CAFD,MAEO;YACLM,MAAM,GAAGP,EAAE,KAAKJ,CAAP,GAAW,CAACO,CAAD,EAAIC,CAAJ,CAAX,GAAoB,CAACA,CAAD,EAAID,CAAJ,CAA7B;UACD;;UAED,OAAOI,MAAP;QACD;;QAED,SAAS5F,aAAT,CAAuBiF,CAAvB,EAA0BtW,GAA1B,EAA+B;UAC7B,MAAMkX,CAAC,GAAGZ,CAAC,GAAGtW,GAAd;UACA,OAAOkX,CAAC,KAAK,CAAN,GAAUZ,CAAV,GAAcC,IAAI,CAACY,KAAL,CAAWb,CAAC,GAAGY,CAAJ,GAAQlX,GAAnB,CAArB;QACD;;QAED,SAAS4Q,iBAAT,CAA2B;UACzBwG,IADyB;UAEzBC,QAFyB;UAGzBC;QAHyB,CAA3B,EAIG;UACD,MAAM,CAACC,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,IAAmBN,IAAzB;UACA,MAAMO,iBAAiB,GAAGL,MAAM,GAAG,GAAT,KAAiB,CAA3C;UACA,MAAMM,KAAK,GAAG,CAACH,EAAE,GAAGF,EAAN,IAAY,EAAZ,GAAiBF,QAA/B;UACA,MAAMQ,MAAM,GAAG,CAACH,EAAE,GAAGF,EAAN,IAAY,EAAZ,GAAiBH,QAAhC;UACA,OAAO;YACLO,KAAK,EAAED,iBAAiB,GAAGE,MAAH,GAAYD,KAD/B;YAELC,MAAM,EAAEF,iBAAiB,GAAGC,KAAH,GAAWC;UAF/B,CAAP;QAID;;QAED,SAASrH,iCAAT,CAA2CsH,KAA3C,EAAkDC,KAAlD,EAAyDzD,GAAzD,EAA8D;UAC5D,IAAIwD,KAAK,GAAG,CAAZ,EAAe;YACb,OAAOA,KAAP;UACD;;UAED,IAAIE,GAAG,GAAGD,KAAK,CAACD,KAAD,CAAL,CAAa9X,GAAvB;UACA,IAAIiY,OAAO,GAAGD,GAAG,CAACvE,SAAJ,GAAgBuE,GAAG,CAACtE,SAAlC;;UAEA,IAAIuE,OAAO,IAAI3D,GAAf,EAAoB;YAClB0D,GAAG,GAAGD,KAAK,CAACD,KAAK,GAAG,CAAT,CAAL,CAAiB9X,GAAvB;YACAiY,OAAO,GAAGD,GAAG,CAACvE,SAAJ,GAAgBuE,GAAG,CAACtE,SAA9B;UACD;;UAED,KAAK,IAAI3E,CAAC,GAAG+I,KAAK,GAAG,CAArB,EAAwB/I,CAAC,IAAI,CAA7B,EAAgC,EAAEA,CAAlC,EAAqC;YACnCiJ,GAAG,GAAGD,KAAK,CAAChJ,CAAD,CAAL,CAAS/O,GAAf;;YAEA,IAAIgY,GAAG,CAACvE,SAAJ,GAAgBuE,GAAG,CAACtE,SAApB,GAAgCsE,GAAG,CAAClE,YAApC,IAAoDmE,OAAxD,EAAiE;cAC/D;YACD;;YAEDH,KAAK,GAAG/I,CAAR;UACD;;UAED,OAAO+I,KAAP;QACD;;QAED,SAASjH,kBAAT,CAA4B;UAC1BqH,QAD0B;UAE1BH,KAF0B;UAG1BI,gBAAgB,GAAG,KAHO;UAI1BC,UAAU,GAAG,KAJa;UAK1BC,GAAG,GAAG;QALoB,CAA5B,EAMG;UACD,MAAM/D,GAAG,GAAG4D,QAAQ,CAACxD,SAArB;UAAA,MACM4D,MAAM,GAAGhE,GAAG,GAAG4D,QAAQ,CAACpE,YAD9B;UAEA,MAAMU,IAAI,GAAG0D,QAAQ,CAACzD,UAAtB;UAAA,MACMY,KAAK,GAAGb,IAAI,GAAG0D,QAAQ,CAAClE,WAD9B;;UAGA,SAASuE,2BAAT,CAAqCnB,IAArC,EAA2C;YACzC,MAAMxQ,OAAO,GAAGwQ,IAAI,CAACpX,GAArB;YACA,MAAMwY,aAAa,GAAG5R,OAAO,CAAC6M,SAAR,GAAoB7M,OAAO,CAAC8M,SAA5B,GAAwC9M,OAAO,CAACkN,YAAtE;YACA,OAAO0E,aAAa,GAAGlE,GAAvB;UACD;;UAED,SAASmE,kCAAT,CAA4CrB,IAA5C,EAAkD;YAChD,MAAMxQ,OAAO,GAAGwQ,IAAI,CAACpX,GAArB;YACA,MAAM0Y,WAAW,GAAG9R,OAAO,CAACgN,UAAR,GAAqBhN,OAAO,CAACiN,UAAjD;YACA,MAAM8E,YAAY,GAAGD,WAAW,GAAG9R,OAAO,CAACoN,WAA3C;YACA,OAAOqE,GAAG,GAAGK,WAAW,GAAGrD,KAAjB,GAAyBsD,YAAY,GAAGnE,IAAlD;UACD;;UAED,MAAMoE,OAAO,GAAG,EAAhB;UAAA,MACMC,GAAG,GAAG,IAAIC,GAAJ,EADZ;UAAA,MAEMC,QAAQ,GAAGhB,KAAK,CAACxQ,MAFvB;UAGA,IAAIyR,sBAAsB,GAAGvI,qBAAqB,CAACsH,KAAD,EAAQK,UAAU,GAAGK,kCAAH,GAAwCF,2BAA1D,CAAlD;;UAEA,IAAIS,sBAAsB,GAAG,CAAzB,IAA8BA,sBAAsB,GAAGD,QAAvD,IAAmE,CAACX,UAAxE,EAAoF;YAClFY,sBAAsB,GAAGxI,iCAAiC,CAACwI,sBAAD,EAAyBjB,KAAzB,EAAgCzD,GAAhC,CAA1D;UACD;;UAED,IAAI2E,QAAQ,GAAGb,UAAU,GAAG/C,KAAH,GAAW,CAAC,CAArC;;UAEA,KAAK,IAAItG,CAAC,GAAGiK,sBAAb,EAAqCjK,CAAC,GAAGgK,QAAzC,EAAmDhK,CAAC,EAApD,EAAwD;YACtD,MAAMqI,IAAI,GAAGW,KAAK,CAAChJ,CAAD,CAAlB;YAAA,MACMnI,OAAO,GAAGwQ,IAAI,CAACpX,GADrB;YAEA,MAAMkZ,YAAY,GAAGtS,OAAO,CAACgN,UAAR,GAAqBhN,OAAO,CAACiN,UAAlD;YACA,MAAMsF,aAAa,GAAGvS,OAAO,CAAC6M,SAAR,GAAoB7M,OAAO,CAAC8M,SAAlD;YACA,MAAM0F,SAAS,GAAGxS,OAAO,CAACoN,WAA1B;YAAA,MACMqF,UAAU,GAAGzS,OAAO,CAACkN,YAD3B;YAEA,MAAMwF,SAAS,GAAGJ,YAAY,GAAGE,SAAjC;YACA,MAAMG,UAAU,GAAGJ,aAAa,GAAGE,UAAnC;;YAEA,IAAIJ,QAAQ,KAAK,CAAC,CAAlB,EAAqB;cACnB,IAAIM,UAAU,IAAIjB,MAAlB,EAA0B;gBACxBW,QAAQ,GAAGM,UAAX;cACD;YACF,CAJD,MAIO,IAAI,CAACnB,UAAU,GAAGc,YAAH,GAAkBC,aAA7B,IAA8CF,QAAlD,EAA4D;cACjE;YACD;;YAED,IAAIM,UAAU,IAAIjF,GAAd,IAAqB6E,aAAa,IAAIb,MAAtC,IAAgDgB,SAAS,IAAI9E,IAA7D,IAAqE0E,YAAY,IAAI7D,KAAzF,EAAgG;cAC9F;YACD;;YAED,MAAMmE,YAAY,GAAGjD,IAAI,CAACkD,GAAL,CAAS,CAAT,EAAYnF,GAAG,GAAG6E,aAAlB,IAAmC5C,IAAI,CAACkD,GAAL,CAAS,CAAT,EAAYF,UAAU,GAAGjB,MAAzB,CAAxD;YACA,MAAMoB,WAAW,GAAGnD,IAAI,CAACkD,GAAL,CAAS,CAAT,EAAYjF,IAAI,GAAG0E,YAAnB,IAAmC3C,IAAI,CAACkD,GAAL,CAAS,CAAT,EAAYH,SAAS,GAAGjE,KAAxB,CAAvD;YACA,MAAMsE,cAAc,GAAG,CAACN,UAAU,GAAGG,YAAd,IAA8BH,UAArD;YAAA,MACMO,aAAa,GAAG,CAACR,SAAS,GAAGM,WAAb,IAA4BN,SADlD;YAEA,MAAMS,OAAO,GAAGF,cAAc,GAAGC,aAAjB,GAAiC,GAAjC,GAAuC,CAAvD;YACAhB,OAAO,CAACxN,IAAR,CAAa;cACX0O,EAAE,EAAE1C,IAAI,CAAC0C,EADE;cAEXxD,CAAC,EAAE4C,YAFQ;cAGXa,CAAC,EAAEZ,aAHQ;cAIX/B,IAJW;cAKXyC,OALW;cAMXG,YAAY,EAAEJ,aAAa,GAAG,GAAhB,GAAsB;YANzB,CAAb;YAQAf,GAAG,CAACoB,GAAJ,CAAQ7C,IAAI,CAAC0C,EAAb;UACD;;UAED,MAAMI,KAAK,GAAGtB,OAAO,CAAC,CAAD,CAArB;UAAA,MACMuB,IAAI,GAAGvB,OAAO,CAACwB,EAAR,CAAW,CAAC,CAAZ,CADb;;UAGA,IAAIjC,gBAAJ,EAAsB;YACpBS,OAAO,CAACyB,IAAR,CAAa,UAAU1D,CAAV,EAAaC,CAAb,EAAgB;cAC3B,MAAM0D,EAAE,GAAG3D,CAAC,CAACkD,OAAF,GAAYjD,CAAC,CAACiD,OAAzB;;cAEA,IAAItD,IAAI,CAACgE,GAAL,CAASD,EAAT,IAAe,KAAnB,EAA0B;gBACxB,OAAO,CAACA,EAAR;cACD;;cAED,OAAO3D,CAAC,CAACmD,EAAF,GAAOlD,CAAC,CAACkD,EAAhB;YACD,CARD;UASD;;UAED,OAAO;YACLI,KADK;YAELC,IAFK;YAGLpC,KAAK,EAAEa,OAHF;YAILC;UAJK,CAAP;QAMD;;QAED,SAAS3H,oBAAT,CAA8B4D,GAA9B,EAAmC;UACjCA,GAAG,CAAC0F,cAAJ;QACD;;QAED,SAASpJ,4BAAT,CAAsC0D,GAAtC,EAA2C;UACzC,IAAI2F,KAAK,GAAGlE,IAAI,CAACmE,KAAL,CAAW5F,GAAG,CAAC6F,MAAf,EAAuB7F,GAAG,CAAC8F,MAA3B,CAAZ;UACA,MAAMC,KAAK,GAAGtE,IAAI,CAACuE,KAAL,CAAWhG,GAAG,CAAC8F,MAAf,EAAuB9F,GAAG,CAAC6F,MAA3B,CAAd;;UAEA,IAAI,CAAC,IAAD,GAAQpE,IAAI,CAACwE,EAAb,GAAkBF,KAAlB,IAA2BA,KAAK,GAAG,OAAOtE,IAAI,CAACwE,EAAnD,EAAuD;YACrDN,KAAK,GAAG,CAACA,KAAT;UACD;;UAED,OAAOA,KAAP;QACD;;QAED,SAAStJ,wBAAT,CAAkC2D,GAAlC,EAAuC;UACrC,IAAI2F,KAAK,GAAGrJ,4BAA4B,CAAC0D,GAAD,CAAxC;UACA,MAAMkG,0BAA0B,GAAG,CAAnC;UACA,MAAMC,yBAAyB,GAAG,CAAlC;UACA,MAAMC,qBAAqB,GAAG,EAA9B;UACA,MAAMC,oBAAoB,GAAG,EAA7B;;UAEA,IAAIrG,GAAG,CAACsG,SAAJ,KAAkBJ,0BAAtB,EAAkD;YAChDP,KAAK,IAAIS,qBAAqB,GAAGC,oBAAjC;UACD,CAFD,MAEO,IAAIrG,GAAG,CAACsG,SAAJ,KAAkBH,yBAAtB,EAAiD;YACtDR,KAAK,IAAIU,oBAAT;UACD;;UAED,OAAOV,KAAP;QACD;;QAED,SAAS1J,eAAT,CAAyB8J,KAAzB,EAAgC;UAC9B,OAAO5P,MAAM,CAACC,SAAP,CAAiB2P,KAAjB,KAA2BA,KAAK,GAAG,EAAR,KAAe,CAAjD;QACD;;QAED,SAAS7J,iBAAT,CAA2BxD,IAA3B,EAAiC;UAC/B,OAAOvC,MAAM,CAACC,SAAP,CAAiBsC,IAAjB,KAA0B3Q,MAAM,CAACwe,MAAP,CAAc9L,UAAd,EAA0B7C,QAA1B,CAAmCc,IAAnC,CAA1B,IAAsEA,IAAI,KAAK+B,UAAU,CAACqC,OAAjG;QACD;;QAED,SAASX,iBAAT,CAA2BzD,IAA3B,EAAiC;UAC/B,OAAOvC,MAAM,CAACC,SAAP,CAAiBsC,IAAjB,KAA0B3Q,MAAM,CAACwe,MAAP,CAAchM,UAAd,EAA0B3C,QAA1B,CAAmCc,IAAnC,CAA1B,IAAsEA,IAAI,KAAK6B,UAAU,CAACuC,OAAjG;QACD;;QAED,SAASd,qBAAT,CAA+BwK,IAA/B,EAAqC;UACnC,OAAOA,IAAI,CAAC1D,KAAL,IAAc0D,IAAI,CAACzD,MAA1B;QACD;;QAED,MAAM5I,gBAAgB,GAAG,IAAI5H,OAAJ,CAAY,UAAUkU,OAAV,EAAmB;UACtD/Z,MAAM,CAACwT,qBAAP,CAA6BuG,OAA7B;QACD,CAFwB,CAAzB;QAGAnf,OAAO,CAAC6S,gBAAR,GAA2BA,gBAA3B;QACA,MAAMyB,QAAQ,GAAGjQ,QAAQ,CAAC+a,eAAT,CAAyBC,KAA1C;QACArf,OAAO,CAACsU,QAAR,GAAmBA,QAAnB;;QAEA,SAASgL,KAAT,CAAeC,CAAf,EAAkBC,GAAlB,EAAuBnC,GAAvB,EAA4B;UAC1B,OAAOlD,IAAI,CAACqF,GAAL,CAASrF,IAAI,CAACkD,GAAL,CAASkC,CAAT,EAAYC,GAAZ,CAAT,EAA2BnC,GAA3B,CAAP;QACD;;QAED,MAAM9J,WAAN,CAAkB;UAChB,CAACuE,SAAD,GAAa,IAAb;UACA,CAAC2F,OAAD,GAAW,CAAX;UACA,CAACjB,OAAD,GAAW,IAAX;;UAEA/Y,WAAW,CAACia,EAAD,EAAK;YACd,IAAI+B,SAAS,CAACtU,MAAV,GAAmB,CAAvB,EAA0B;cACxB,MAAM,IAAIkB,KAAJ,CAAU,2DAA2D,wDAArE,CAAN;YACD;;YAED,MAAMqT,GAAG,GAAGrb,QAAQ,CAACsb,cAAT,CAAwBjC,EAAxB,CAAZ;YACA,KAAK,CAAC5F,SAAN,GAAkB4H,GAAG,CAAC5H,SAAtB;UACD;;UAEU,IAAP2F,OAAO,GAAG;YACZ,OAAO,KAAK,CAACA,OAAb;UACD;;UAEU,IAAPA,OAAO,CAAChO,GAAD,EAAM;YACf,KAAK,CAACgO,OAAN,GAAgB6B,KAAK,CAAC7P,GAAD,EAAM,CAAN,EAAS,GAAT,CAArB;;YAEA,IAAImQ,KAAK,CAACnQ,GAAD,CAAT,EAAgB;cACd,KAAK,CAACqI,SAAN,CAAgB+F,GAAhB,CAAoB,eAApB;cACA;YACD;;YAED,KAAK,CAAC/F,SAAN,CAAgB5S,MAAhB,CAAuB,eAAvB;YACAoP,QAAQ,CAACuL,WAAT,CAAqB,uBAArB,EAA+C,GAAE,KAAK,CAACpC,OAAQ,GAA/D;UACD;;UAEDqC,QAAQ,CAACC,MAAD,EAAS;YACf,IAAI,CAACA,MAAL,EAAa;cACX;YACD;;YAED,MAAMC,SAAS,GAAGD,MAAM,CAACE,UAAzB;YACA,MAAMC,cAAc,GAAGF,SAAS,CAACG,WAAV,GAAwBJ,MAAM,CAACI,WAAtD;;YAEA,IAAID,cAAc,GAAG,CAArB,EAAwB;cACtB5L,QAAQ,CAACuL,WAAT,CAAqB,0BAArB,EAAkD,GAAEK,cAAe,IAAnE;YACD;UACF;;UAEDlb,IAAI,GAAG;YACL,IAAI,CAAC,KAAK,CAACwX,OAAX,EAAoB;cAClB;YACD;;YAED,KAAK,CAACA,OAAN,GAAgB,KAAhB;YACA,KAAK,CAAC1E,SAAN,CAAgB+F,GAAhB,CAAoB,QAApB;UACD;;UAEDzZ,IAAI,GAAG;YACL,IAAI,KAAK,CAACoY,OAAV,EAAmB;cACjB;YACD;;YAED,KAAK,CAACA,OAAN,GAAgB,IAAhB;YACA,KAAK,CAAC1E,SAAN,CAAgB5S,MAAhB,CAAuB,QAAvB;UACD;;QA3De;;QA+DlBlF,OAAO,CAACuT,WAAR,GAAsBA,WAAtB;;QAEA,SAASgB,yBAAT,GAAqC;UACnC,IAAI6L,OAAO,GAAG/b,QAAd;UACA,IAAIgc,kBAAkB,GAAGD,OAAO,CAACE,aAAR,IAAyBF,OAAO,CAACG,aAAR,CAAsB,QAAtB,CAAlD;;UAEA,OAAOF,kBAAkB,EAAEG,UAA3B,EAAuC;YACrCJ,OAAO,GAAGC,kBAAkB,CAACG,UAA7B;YACAH,kBAAkB,GAAGD,OAAO,CAACE,aAAR,IAAyBF,OAAO,CAACG,aAAR,CAAsB,QAAtB,CAA9C;UACD;;UAED,OAAOF,kBAAP;QACD;;QAED,SAASpM,0BAAT,CAAoCwM,MAApC,EAA4C;UAC1C,IAAIC,UAAU,GAAGvN,UAAU,CAACkD,QAA5B;UAAA,IACIsK,UAAU,GAAG1N,UAAU,CAACvH,IAD5B;;UAGA,QAAQ+U,MAAR;YACE,KAAK,YAAL;cACEC,UAAU,GAAGvN,UAAU,CAACqD,IAAxB;cACA;;YAEF,KAAK,WAAL;cACE;;YAEF,KAAK,aAAL;cACEkK,UAAU,GAAGvN,UAAU,CAACqD,IAAxB;;YAEF,KAAK,eAAL;cACEmK,UAAU,GAAG1N,UAAU,CAACwD,GAAxB;cACA;;YAEF,KAAK,cAAL;cACEiK,UAAU,GAAGvN,UAAU,CAACqD,IAAxB;;YAEF,KAAK,gBAAL;cACEmK,UAAU,GAAG1N,UAAU,CAACyD,IAAxB;cACA;UApBJ;;UAuBA,OAAO;YACLgK,UADK;YAELC;UAFK,CAAP;QAID;;QAED,SAASzM,wBAAT,CAAkC9C,IAAlC,EAAwC;UACtC,QAAQA,IAAR;YACE,KAAK,SAAL;cACE,OAAO8B,WAAW,CAACxH,IAAnB;;YAEF,KAAK,WAAL;cACE,OAAOwH,WAAW,CAAC0C,MAAnB;;YAEF,KAAK,aAAL;cACE,OAAO1C,WAAW,CAAC2C,OAAnB;;YAEF,KAAK,gBAAL;cACE,OAAO3C,WAAW,CAAC4C,WAAnB;;YAEF,KAAK,OAAL;cACE,OAAO5C,WAAW,CAAC6C,MAAnB;UAdJ;;UAiBA,OAAO7C,WAAW,CAACxH,IAAnB;QACD;QAED;;MAAO,CA9nD8B;MA+nDrC;;MACA;MAAO,CAACnL,uBAAD,EAA0BP,OAA1B,KAAsC;QAI7CS,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAC6C,sBAAR,GAAiC,KAAK,CAAtC;QACA,MAAM+d,qBAAqB,GAAG;UAC5BC,QAAQ,EAAE,IADkB;UAE5BC,gBAAgB,EAAE,IAFU;UAG5BC,IAAI,EAAE,OAHsB;UAI5BC,IAAI,EAAE,OAJsB;UAK5BC,GAAG,EAAE,OALuB;UAM5BC,KAAK,EAAE,MANqB;UAO5BC,SAAS,EAAE,MAPiB;UAQ5BC,CAAC,EAAE,IARyB;UAS5BC,CAAC,EAAE,SATyB;UAU5BC,KAAK,EAAE,IAVqB;UAW5BC,MAAM,EAAE,MAXoB;UAY5BC,GAAG,EAAE,OAZuB;UAa5BC,GAAG,EAAE,IAbuB;UAc5BC,IAAI,EAAE,IAdsB;UAe5BC,EAAE,EAAE,IAfwB;UAgB5BC,MAAM,EAAE,IAhBoB;UAiB5BC,IAAI,EAAE,MAjBsB;UAkB5BC,KAAK,EAAE,MAlBqB;UAmB5BC,IAAI,EAAE,MAnBsB;UAoB5BC,IAAI,EAAE,IApBsB;UAqB5BC,EAAE,EAAE,IArBwB;UAsB5BC,EAAE,EAAE,IAtBwB;UAuB5BC,EAAE,EAAE,IAvBwB;UAwB5BC,OAAO,EAAE,IAxBmB;UAyB5BC,EAAE,EAAE,IAzBwB;UA0B5BC,EAAE,EAAE,IA1BwB;UA2B5BC,CAAC,EAAE,MA3ByB;UA4B5BC,EAAE,EAAE,UA5BwB;UA6B5BC,KAAK,EAAE,IA7BqB;UA8B5BC,KAAK,EAAE,OA9BqB;UA+B5BC,EAAE,EAAE,KA/BwB;UAgC5BC,EAAE,EAAE,cAhCwB;UAiC5BC,EAAE,EAAE,MAjCwB;UAkC5BC,KAAK,EAAE,cAlCqB;UAmC5BC,KAAK,EAAE,IAnCqB;UAoC5BC,KAAK,EAAE,IApCqB;UAqC5BC,OAAO,EAAE,IArCmB;UAsC5BC,MAAM,EAAE,QAtCoB;UAuC5BC,OAAO,EAAE,IAvCmB;UAwC5BC,QAAQ,EAAE;QAxCkB,CAA9B;QA0CA,MAAMC,eAAe,GAAG,UAAxB;;QAEA,MAAMxgB,sBAAN,CAA6B;UAC3BY,WAAW,CAAC;YACV/B;UADU,CAAD,EAER;YACD,KAAKA,OAAL,GAAeA,OAAf;UACD;;UAEDoC,MAAM,CAACwf,UAAD,EAAa;YACjB,OAAO,KAAKC,KAAL,CAAWD,UAAX,CAAP;UACD;;UAEDE,cAAc,CAACC,aAAD,EAAgBC,WAAhB,EAA6B;YACzC,IAAID,aAAa,CAACE,GAAd,KAAsBxL,SAA1B,EAAqC;cACnCuL,WAAW,CAACE,YAAZ,CAAyB,YAAzB,EAAuCH,aAAa,CAACE,GAArD;YACD;;YAED,IAAIF,aAAa,CAAC/F,EAAd,KAAqBvF,SAAzB,EAAoC;cAClCuL,WAAW,CAACE,YAAZ,CAAyB,WAAzB,EAAsCH,aAAa,CAAC/F,EAApD;YACD;;YAED,IAAI+F,aAAa,CAACI,IAAd,KAAuB1L,SAA3B,EAAsC;cACpCuL,WAAW,CAACE,YAAZ,CAAyB,MAAzB,EAAiCH,aAAa,CAACI,IAA/C;YACD;UACF;;UAEDN,KAAK,CAACO,IAAD,EAAO;YACV,IAAI,CAACA,IAAL,EAAW;cACT,OAAO,IAAP;YACD;;YAED,MAAMtZ,OAAO,GAAGnG,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAhB;;YAEA,IAAI,UAAUwf,IAAd,EAAoB;cAClB,MAAM;gBACJC;cADI,IAEFD,IAFJ;cAGA,MAAME,KAAK,GAAGD,IAAI,CAACC,KAAL,CAAWX,eAAX,CAAd;;cAEA,IAAIW,KAAJ,EAAW;gBACTxZ,OAAO,CAACoZ,YAAR,CAAqB,MAArB,EAA6B,SAA7B;gBACApZ,OAAO,CAACoZ,YAAR,CAAqB,YAArB,EAAmCI,KAAK,CAAC,CAAD,CAAxC;cACD,CAHD,MAGO,IAAIpD,qBAAqB,CAACmD,IAAD,CAAzB,EAAiC;gBACtCvZ,OAAO,CAACoZ,YAAR,CAAqB,MAArB,EAA6BhD,qBAAqB,CAACmD,IAAD,CAAlD;cACD;YACF;;YAED,KAAKP,cAAL,CAAoBM,IAApB,EAA0BtZ,OAA1B;;YAEA,IAAIsZ,IAAI,CAACG,QAAT,EAAmB;cACjB,IAAIH,IAAI,CAACG,QAAL,CAAc9Y,MAAd,KAAyB,CAAzB,IAA8B,QAAQ2Y,IAAI,CAACG,QAAL,CAAc,CAAd,CAA1C,EAA4D;gBAC1D,KAAKT,cAAL,CAAoBM,IAAI,CAACG,QAAL,CAAc,CAAd,CAApB,EAAsCzZ,OAAtC;cACD,CAFD,MAEO;gBACL,KAAK,MAAM0Z,GAAX,IAAkBJ,IAAI,CAACG,QAAvB,EAAiC;kBAC/BzZ,OAAO,CAAC/F,MAAR,CAAe,KAAK8e,KAAL,CAAWW,GAAX,CAAf;gBACD;cACF;YACF;;YAED,OAAO1Z,OAAP;UACD;;QA3D0B;;QA+D7BxK,OAAO,CAAC6C,sBAAR,GAAiCA,sBAAjC;QAEA;MAAO,CArvD8B;MAsvDrC;;MACA;MAAO,CAACtC,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACqD,gBAAR,GAA2B,KAAK,CAAhC;;QAEA,IAAIG,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,MAAM2jB,mBAAmB,GAAG,GAA5B;;QAEA,MAAM9gB,gBAAN,CAAuB;UACrBI,WAAW,CAAC;YACVV,YADU;YAEVI,QAFU;YAGVH,SAHU;YAIVC,QAJU;YAKVG,WAAW,GAAG,IALJ;YAMVF,oBAAoB,GAAG,KANb;YAOVb,oBAAoB,GAAG;UAPb,CAAD,EAQR;YACD,KAAKU,YAAL,GAAoBA,YAApB;YACA,KAAKI,QAAL,GAAgBA,QAAhB;YACA,KAAKihB,WAAL,GAAmB,IAAnB;YACA,KAAKC,mBAAL,GAA2B,EAA3B;YACA,KAAKC,iBAAL,GAAyB,IAAzB;YACA,KAAKC,aAAL,GAAqB,KAArB;YACA,KAAKlW,UAAL,GAAkBrL,SAAS,GAAG,CAA9B;YACA,KAAKC,QAAL,GAAgBA,QAAhB;YACA,KAAKuhB,QAAL,GAAgB,EAAhB;YACA,KAAKC,mBAAL,GAA2B,IAA3B;YACA,KAAKrhB,WAAL,GAAmBA,WAAnB;YACA,KAAKF,oBAAL,GAA4BA,oBAA5B;YACA,KAAKb,oBAAL,GAA4BA,oBAA5B;;YAEA,KAAKqiB,UAAL;UACD;;UAEDC,gBAAgB,GAAG;YACjB,KAAKJ,aAAL,GAAqB,IAArB;;YAEA,IAAI,CAAC,KAAKrhB,oBAAV,EAAgC;cAC9B,MAAM0hB,YAAY,GAAGvgB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB;cACAsgB,YAAY,CAACrgB,SAAb,GAAyB,cAAzB;cACA,KAAKxB,YAAL,CAAkB0B,MAAlB,CAAyBmgB,YAAzB;YACD;;YAED,KAAKzhB,QAAL,CAAcuN,QAAd,CAAuB,mBAAvB,EAA4C;cAC1CC,MAAM,EAAE,IADkC;cAE1CtC,UAAU,EAAE,KAAKA,UAFyB;cAG1CwW,WAAW,EAAE,KAAKL,QAAL,CAAcrZ;YAHe,CAA5C;UAKD;;UAEDrH,MAAM,CAACghB,OAAO,GAAG,CAAX,EAAc;YAClB,IAAI,EAAE,KAAKV,WAAL,IAAoB,KAAKE,iBAA3B,KAAiD,KAAKC,aAA1D,EAAyE;cACvE;YACD;;YAED,KAAKzf,MAAL;YACA,KAAK0f,QAAL,CAAcrZ,MAAd,GAAuB,CAAvB;YACA,KAAK/H,WAAL,EAAkB2hB,cAAlB,CAAiC,KAAKP,QAAtC,EAAgD,KAAKH,mBAArD;YACA,KAAKhiB,oBAAL,EAA2B0iB,cAA3B,CAA0C,KAAKP,QAA/C;YACA,MAAMQ,aAAa,GAAG3gB,QAAQ,CAAC4gB,sBAAT,EAAtB;YACA,KAAKR,mBAAL,GAA2B,CAAC,GAAGjhB,SAAS,CAAC0hB,eAAd,EAA+B;cACxDd,WAAW,EAAE,KAAKA,WADsC;cAExDE,iBAAiB,EAAE,KAAKA,iBAFgC;cAGxDtE,SAAS,EAAEgF,aAH6C;cAIxD/hB,QAAQ,EAAE,KAAKA,QAJyC;cAKxDuhB,QAAQ,EAAE,KAAKA,QALyC;cAMxDH,mBAAmB,EAAE,KAAKA,mBAN8B;cAOxDS,OAPwD;cAQxD5hB,oBAAoB,EAAE,KAAKA;YAR6B,CAA/B,CAA3B;YAUA,KAAKuhB,mBAAL,CAAyBU,OAAzB,CAAiC3W,IAAjC,CAAsC,MAAM;cAC1C,KAAKzL,YAAL,CAAkB0B,MAAlB,CAAyBugB,aAAzB;;cAEA,KAAKL,gBAAL;;cAEA,KAAKvhB,WAAL,EAAkBgiB,MAAlB;cACA,KAAK/iB,oBAAL,EAA2B+iB,MAA3B;YACD,CAPD,EAOG,UAAUC,MAAV,EAAkB,CAAE,CAPvB;UAQD;;UAEDvgB,MAAM,GAAG;YACP,IAAI,KAAK2f,mBAAT,EAA8B;cAC5B,KAAKA,mBAAL,CAAyB3f,MAAzB;cACA,KAAK2f,mBAAL,GAA2B,IAA3B;YACD;;YAED,KAAKrhB,WAAL,EAAkBkiB,OAAlB;YACA,KAAKjjB,oBAAL,EAA2BijB,OAA3B;UACD;;UAEDC,oBAAoB,CAACC,cAAD,EAAiB;YACnC,KAAK1gB,MAAL;YACA,KAAKwf,iBAAL,GAAyBkB,cAAzB;UACD;;UAEDC,cAAc,CAACrB,WAAD,EAAc;YAC1B,KAAKtf,MAAL;YACA,KAAKsf,WAAL,GAAmBA,WAAnB;UACD;;UAEDM,UAAU,GAAG;YACX,MAAM9gB,GAAG,GAAG,KAAKb,YAAjB;YACA,IAAI2iB,eAAe,GAAG,IAAtB;YACA9hB,GAAG,CAAC0V,gBAAJ,CAAqB,WAArB,EAAkCZ,GAAG,IAAI;cACvC,IAAI,KAAKxV,oBAAL,IAA6B,KAAKuhB,mBAAtC,EAA2D;gBACzD,KAAKA,mBAAL,CAAyBkB,cAAzB,CAAwC,IAAxC;;gBAEA,IAAID,eAAJ,EAAqB;kBACnBE,YAAY,CAACF,eAAD,CAAZ;kBACAA,eAAe,GAAG,IAAlB;gBACD;;gBAED;cACD;;cAED,MAAMG,GAAG,GAAGjiB,GAAG,CAAC2c,aAAJ,CAAkB,eAAlB,CAAZ;;cAEA,IAAI,CAACsF,GAAL,EAAU;gBACR;cACD;;cAED,IAAIC,SAAS,GAAGpN,GAAG,CAACxM,MAAJ,KAAetI,GAA/B;cACAkiB,SAAS,GAAGA,SAAS,IAAI1gB,MAAM,CAAC4S,gBAAP,CAAwB6N,GAAxB,EAA6BE,gBAA7B,CAA8C,kBAA9C,MAAsE,MAA/F;;cAEA,IAAID,SAAJ,EAAe;gBACb,MAAME,SAAS,GAAGpiB,GAAG,CAACqiB,qBAAJ,EAAlB;gBACA,MAAMnL,CAAC,GAAGX,IAAI,CAACkD,GAAL,CAAS,CAAT,EAAY,CAAC3E,GAAG,CAACwN,KAAJ,GAAYF,SAAS,CAAC9N,GAAvB,IAA8B8N,SAAS,CAACvK,MAApD,CAAV;gBACAoK,GAAG,CAACxG,KAAJ,CAAUnH,GAAV,GAAgB,CAAC4C,CAAC,GAAG,GAAL,EAAUqL,OAAV,CAAkB,CAAlB,IAAuB,GAAvC;cACD;;cAEDN,GAAG,CAAC/N,SAAJ,CAAc+F,GAAd,CAAkB,QAAlB;YACD,CA5BD;YA6BAja,GAAG,CAAC0V,gBAAJ,CAAqB,SAArB,EAAgC,MAAM;cACpC,IAAI,KAAKpW,oBAAL,IAA6B,KAAKuhB,mBAAtC,EAA2D;gBACzDiB,eAAe,GAAGU,UAAU,CAAC,MAAM;kBACjC,IAAI,KAAK3B,mBAAT,EAA8B;oBAC5B,KAAKA,mBAAL,CAAyBkB,cAAzB,CAAwC,KAAxC;kBACD;;kBAEDD,eAAe,GAAG,IAAlB;gBACD,CAN2B,EAMzBvB,mBANyB,CAA5B;gBAOA;cACD;;cAED,MAAM0B,GAAG,GAAGjiB,GAAG,CAAC2c,aAAJ,CAAkB,eAAlB,CAAZ;;cAEA,IAAI,CAACsF,GAAL,EAAU;gBACR;cACD;;cAEDA,GAAG,CAACxG,KAAJ,CAAUnH,GAAV,GAAgB,EAAhB;cACA2N,GAAG,CAAC/N,SAAJ,CAAc5S,MAAd,CAAqB,QAArB;YACD,CApBD;UAqBD;;QAlJoB;;QAsJvBlF,OAAO,CAACqD,gBAAR,GAA2BA,gBAA3B;QAEA;MAAO,CA55D8B;MA65DrC;;MACA;MAAO,CAAC9C,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACuD,eAAR,GAA0B,KAAK,CAA/B;;QAEA,IAAIC,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,MAAM+C,eAAN,CAAsB;UACpBE,WAAW,CAAC;YACVhC,OADU;YAEVC,OAFU;YAGVC,iBAAiB,GAAG,IAHV;YAIVY,WAJU;YAKV8jB,OAAO,GAAG;UALA,CAAD,EAMR;YACD,KAAK5kB,OAAL,GAAeA,OAAf;YACA,KAAKC,OAAL,GAAeA,OAAf;YACA,KAAKC,iBAAL,GAAyBA,iBAAzB;YACA,KAAKY,WAAL,GAAmBA,WAAnB;YACA,KAAK8jB,OAAL,GAAeA,OAAf;YACA,KAAKziB,GAAL,GAAW,IAAX;YACA,KAAKC,UAAL,GAAkB,KAAlB;UACD;;UAEDC,MAAM,CAACb,QAAD,EAAWc,MAAM,GAAG,SAApB,EAA+B;YACnC,IAAIA,MAAM,KAAK,OAAf,EAAwB;cACtB,MAAMa,UAAU,GAAG;gBACjB3B,QAAQ,EAAEA,QAAQ,CAACgB,KAAT,CAAe;kBACvBC,QAAQ,EAAE;gBADa,CAAf,CADO;gBAIjBN,GAAG,EAAE,KAAKA,GAJO;gBAKjByiB,OAAO,EAAE,KAAKA,OALG;gBAMjB1kB,iBAAiB,EAAE,KAAKA,iBANP;gBAOjBY,WAAW,EAAE,KAAKA,WAPD;gBAQjBwB;cARiB,CAAnB;cAUA,MAAMH,GAAG,GAAGS,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;cACA,KAAK7C,OAAL,CAAagD,MAAb,CAAoBb,GAApB;cACAgB,UAAU,CAAChB,GAAX,GAAiBA,GAAjB;;cAEA,MAAMiX,MAAM,GAAGrX,SAAS,CAAC8iB,QAAV,CAAmBxiB,MAAnB,CAA0Bc,UAA1B,CAAf;;cAEA,OAAOqG,OAAO,CAACkU,OAAR,CAAgBtE,MAAhB,CAAP;YACD;;YAED,OAAO,KAAKnZ,OAAL,CAAa6kB,MAAb,GAAsB/X,IAAtB,CAA2B6X,OAAO,IAAI;cAC3C,IAAI,KAAKxiB,UAAL,IAAmB,CAACwiB,OAAxB,EAAiC;gBAC/B,OAAO;kBACL7B,QAAQ,EAAE;gBADL,CAAP;cAGD;;cAED,MAAM5f,UAAU,GAAG;gBACjB3B,QAAQ,EAAEA,QAAQ,CAACgB,KAAT,CAAe;kBACvBC,QAAQ,EAAE;gBADa,CAAf,CADO;gBAIjBN,GAAG,EAAE,KAAKA,GAJO;gBAKjByiB,OALiB;gBAMjB1kB,iBAAiB,EAAE,KAAKA,iBANP;gBAOjBY,WAAW,EAAE,KAAKA,WAPD;gBAQjBwB;cARiB,CAAnB;;cAWA,IAAI,KAAKH,GAAT,EAAc;gBACZ,OAAOJ,SAAS,CAAC8iB,QAAV,CAAmBniB,MAAnB,CAA0BS,UAA1B,CAAP;cACD;;cAED,KAAKhB,GAAL,GAAWS,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;cACA,KAAK7C,OAAL,CAAagD,MAAb,CAAoB,KAAKb,GAAzB;cACAgB,UAAU,CAAChB,GAAX,GAAiB,KAAKA,GAAtB;cACA,OAAOJ,SAAS,CAAC8iB,QAAV,CAAmBxiB,MAAnB,CAA0Bc,UAA1B,CAAP;YACD,CA1BM,EA0BJ8J,KA1BI,CA0BEE,KAAK,IAAI;cAChBD,OAAO,CAACC,KAAR,CAAcA,KAAd;YACD,CA5BM,CAAP;UA6BD;;UAED9J,MAAM,GAAG;YACP,KAAKjB,UAAL,GAAkB,IAAlB;UACD;;UAEDmB,IAAI,GAAG;YACL,IAAI,CAAC,KAAKpB,GAAV,EAAe;cACb;YACD;;YAED,KAAKA,GAAL,CAASqB,MAAT,GAAkB,IAAlB;UACD;;QA/EmB;;QAmFtBjF,OAAO,CAACuD,eAAR,GAA0BA,eAA1B;QAEA;MAAO,CA9/D8B;MA+/DrC;;MACA;MAAO,CAAChD,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACwmB,SAAR,GAAoBxmB,OAAO,CAACymB,mBAAR,GAA8B,KAAK,CAAvD;;QAEA,IAAIjb,SAAS,GAAGhL,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIkmB,YAAY,GAAGlmB,mBAAmB,CAAC,EAAD,CAAtC;;QAEA,MAAMgmB,SAAN,SAAwBE,YAAY,CAACC,UAArC,CAAgD;;QAEhD3mB,OAAO,CAACwmB,SAAR,GAAoBA,SAApB;;QAEA,MAAMC,mBAAN,SAAkCC,YAAY,CAACC,UAA/C,CAA0D;UACxDC,UAAU,GAAG;YACX,MAAMA,UAAN;;YAEA,KAAKC,WAAL,GAAmBrb,SAAS,CAAC2H,UAAV,CAAqBqD,IAAxC;YACA,KAAKsQ,WAAL,GAAmBtb,SAAS,CAACyH,UAAV,CAAqBvH,IAAxC;UACD;;UAEa,IAAVgV,UAAU,CAACtP,IAAD,EAAO,CAAE;;UAEvB2V,iBAAiB,GAAG,CAAE;;UAER,IAAVpG,UAAU,CAACvP,IAAD,EAAO,CAAE;;UAEvB4V,iBAAiB,GAAG,CAAE;;QAdkC;;QAkB1DhnB,OAAO,CAACymB,mBAAR,GAA8BA,mBAA9B;QAEA;MAAO,CAriE8B;MAsiErC;;MACA;MAAO,CAAClmB,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACinB,eAAR,GAA0BjnB,OAAO,CAACknB,iBAAR,GAA4BlnB,OAAO,CAAC2mB,UAAR,GAAqB,KAAK,CAAhF;;QAEA,IAAInjB,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIgL,SAAS,GAAGhL,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIS,gCAAgC,GAAGT,mBAAmB,CAAC,CAAD,CAA1D;;QAEA,IAAIU,yBAAyB,GAAGV,mBAAmB,CAAC,CAAD,CAAnD;;QAEA,IAAIW,WAAW,GAAGX,mBAAmB,CAAC,CAAD,CAArC;;QAEA,IAAI2mB,cAAc,GAAG3mB,mBAAmB,CAAC,EAAD,CAAxC;;QAEA,IAAI4mB,oBAAoB,GAAG5mB,mBAAmB,CAAC,EAAD,CAA9C;;QAEA,IAAIY,iBAAiB,GAAGZ,mBAAmB,CAAC,CAAD,CAA3C;;QAEA,IAAIa,0BAA0B,GAAGb,mBAAmB,CAAC,CAAD,CAApD;;QAEA,IAAI6mB,iBAAiB,GAAG7mB,mBAAmB,CAAC,EAAD,CAA3C;;QAEA,IAAIc,mBAAmB,GAAGd,mBAAmB,CAAC,CAAD,CAA7C;;QAEA,IAAIe,kBAAkB,GAAGf,mBAAmB,CAAC,EAAD,CAA5C;;QAEA,MAAM8mB,kBAAkB,GAAG,EAA3B;QACA,MAAMC,wBAAwB,GAAG,mBAAjC;QACA,MAAMN,eAAe,GAAG;UACtBO,sBAAsB,EAAE,KADF;UAEtBC,oBAAoB,EAAE,IAFA;UAGtBC,qBAAqB,EAAE;QAHD,CAAxB;QAKA1nB,OAAO,CAACinB,eAAR,GAA0BA,eAA1B;;QAEA,SAASU,2BAAT,CAAqCvW,IAArC,EAA2C;UACzC,OAAO3Q,MAAM,CAACwe,MAAP,CAAczb,SAAS,CAACokB,oBAAxB,EAA8CtX,QAA9C,CAAuDc,IAAvD,KAAgEA,IAAI,KAAK5N,SAAS,CAACokB,oBAAV,CAA+B1R,OAA/G;QACD;;QAED,MAAMgR,iBAAN,CAAwB;UACtB,CAACW,GAAD,GAAO,IAAInL,GAAJ,EAAP;UACA,CAACwC,IAAD,GAAQ,CAAR;;UAEAzb,WAAW,CAACyb,IAAD,EAAO;YAChB,KAAK,CAACA,IAAN,GAAaA,IAAb;UACD;;UAEDlQ,IAAI,CAACgM,IAAD,EAAO;YACT,MAAM6M,GAAG,GAAG,KAAK,CAACA,GAAlB;;YAEA,IAAIA,GAAG,CAACpX,GAAJ,CAAQuK,IAAR,CAAJ,EAAmB;cACjB6M,GAAG,CAACC,MAAJ,CAAW9M,IAAX;YACD;;YAED6M,GAAG,CAAChK,GAAJ,CAAQ7C,IAAR;;YAEA,IAAI6M,GAAG,CAAC3I,IAAJ,GAAW,KAAK,CAACA,IAArB,EAA2B;cACzB,KAAK,CAAC6I,gBAAN;YACD;UACF;;UAEDC,MAAM,CAACC,OAAD,EAAUC,SAAS,GAAG,IAAtB,EAA4B;YAChC,KAAK,CAAChJ,IAAN,GAAa+I,OAAb;YACA,MAAMJ,GAAG,GAAG,KAAK,CAACA,GAAlB;;YAEA,IAAIK,SAAJ,EAAe;cACb,MAAMC,EAAE,GAAGN,GAAG,CAAC3I,IAAf;cACA,IAAIvM,CAAC,GAAG,CAAR;;cAEA,KAAK,MAAMqI,IAAX,IAAmB6M,GAAnB,EAAwB;gBACtB,IAAIK,SAAS,CAACzX,GAAV,CAAcuK,IAAI,CAAC0C,EAAnB,CAAJ,EAA4B;kBAC1BmK,GAAG,CAACC,MAAJ,CAAW9M,IAAX;kBACA6M,GAAG,CAAChK,GAAJ,CAAQ7C,IAAR;gBACD;;gBAED,IAAI,EAAErI,CAAF,GAAMwV,EAAV,EAAc;kBACZ;gBACD;cACF;YACF;;YAED,OAAON,GAAG,CAAC3I,IAAJ,GAAW,KAAK,CAACA,IAAxB,EAA8B;cAC5B,KAAK,CAAC6I,gBAAN;YACD;UACF;;UAEDtX,GAAG,CAACuK,IAAD,EAAO;YACR,OAAO,KAAK,CAAC6M,GAAN,CAAUpX,GAAV,CAAcuK,IAAd,CAAP;UACD;;UAEe,CAAfoN,MAAM,CAACC,QAAQ,IAAI;YAClB,OAAO,KAAK,CAACR,GAAN,CAAUS,IAAV,EAAP;UACD;;UAED,CAACP,gBAAgB,GAAG;YAClB,MAAMQ,SAAS,GAAG,KAAK,CAACV,GAAN,CAAUS,IAAV,GAAiBE,IAAjB,GAAwB7nB,KAA1C;YACA4nB,SAAS,EAAExjB,OAAX;YACA,KAAK,CAAC8iB,GAAN,CAAUC,MAAV,CAAiBS,SAAjB;UACD;;QA3DqB;;QA+DxBvoB,OAAO,CAACknB,iBAAR,GAA4BA,iBAA5B;;QAEA,MAAMP,UAAN,CAAiB;UACf,CAAC8B,MAAD,GAAU,IAAV;UACA,CAACC,oBAAD,GAAwBllB,SAAS,CAACokB,oBAAV,CAA+B1R,OAAvD;UACA,CAACyS,yBAAD,GAA6B,IAA7B;UACA,CAACC,cAAD,GAAkBplB,SAAS,CAACqlB,cAAV,CAAyBC,YAA3C;UACA,CAACC,iBAAD,GAAqB,KAArB;UACA,CAACC,uBAAD,GAA2B,CAA3B;UACA,CAACC,mBAAD,GAAuB,IAAvB;UACA,CAACC,kBAAD,GAAsB,IAAtB;;UAEAzlB,WAAW,CAACC,OAAD,EAAU;YACnB,IAAI,KAAKD,WAAL,KAAqBkjB,UAAzB,EAAqC;cACnC,MAAM,IAAIta,KAAJ,CAAU,+BAAV,CAAN;YACD;;YAED,MAAM8c,aAAa,GAAG,UAAtB;;YAEA,IAAI3lB,SAAS,CAAC4lB,OAAV,KAAsBD,aAA1B,EAAyC;cACvC,MAAM,IAAI9c,KAAJ,CAAW,oBAAmB7I,SAAS,CAAC4lB,OAAQ,wCAAuCD,aAAc,IAArG,CAAN;YACD;;YAED,KAAKnJ,SAAL,GAAiBtc,OAAO,CAACsc,SAAzB;YACA,KAAKD,MAAL,GAAcrc,OAAO,CAACqc,MAAR,IAAkBrc,OAAO,CAACsc,SAAR,CAAkBqJ,iBAAlD;;YAEA,IAAI,EAAE,KAAKrJ,SAAL,EAAgBsJ,OAAhB,CAAwBC,WAAxB,OAA0C,KAA1C,IAAmD,KAAKxJ,MAAL,EAAauJ,OAAb,CAAqBC,WAArB,OAAuC,KAA5F,CAAJ,EAAwG;cACtG,MAAM,IAAIld,KAAJ,CAAU,6CAAV,CAAN;YACD;;YAED,IAAI,KAAK2T,SAAL,CAAe7I,YAAf,IAA+Ba,gBAAgB,CAAC,KAAKgI,SAAN,CAAhB,CAAiCwJ,QAAjC,KAA8C,UAAjF,EAA6F;cAC3F,MAAM,IAAInd,KAAJ,CAAU,gDAAV,CAAN;YACD;;YAED,KAAKlJ,QAAL,GAAgBO,OAAO,CAACP,QAAxB;YACA,KAAKZ,WAAL,GAAmBmB,OAAO,CAACnB,WAAR,IAAuB,IAAInB,iBAAiB,CAACoB,iBAAtB,EAA1C;YACA,KAAKiI,eAAL,GAAuB/G,OAAO,CAAC+G,eAAR,IAA2B,IAAlD;YACA,KAAKgf,cAAL,GAAsB/lB,OAAO,CAAC+lB,cAAR,IAA0B,IAAhD;YACA,KAAKC,iBAAL,GAAyBhmB,OAAO,CAACimB,gBAAR,IAA4B,IAArD;YACA,KAAKC,iBAAL,GAAyBlmB,OAAO,CAACkmB,iBAAR,IAA6B,KAAtD;YACA,KAAKC,aAAL,GAAqBnmB,OAAO,CAACmmB,aAAR,IAAyBre,SAAS,CAACwH,aAAV,CAAwBmD,MAAtE;YACA,KAAK,CAACyS,cAAN,GAAuBllB,OAAO,CAACklB,cAAR,IAA0BplB,SAAS,CAACqlB,cAAV,CAAyBC,YAA1E;YACA,KAAK,CAACJ,oBAAN,GAA6BhlB,OAAO,CAACglB,oBAAR,IAAgCllB,SAAS,CAACokB,oBAAV,CAA+B1R,OAA5F;YACA,KAAKtU,kBAAL,GAA0B8B,OAAO,CAAC9B,kBAAR,IAA8B,EAAxD;YACA,KAAKkoB,qBAAL,GAA6BpmB,OAAO,CAAComB,qBAAR,IAAiC,KAA9D;YACA,KAAKC,QAAL,GAAgBrmB,OAAO,CAACqmB,QAAR,IAAoBve,SAAS,CAAC8H,YAAV,CAAuB0C,MAA3D;YACA,KAAKgU,cAAL,GAAsBtmB,OAAO,CAACsmB,cAAR,IAA0B,KAAhD;YACA,KAAKC,eAAL,GAAuBvmB,OAAO,CAACumB,eAA/B;YACA,KAAKnoB,IAAL,GAAY4B,OAAO,CAAC5B,IAAR,IAAgBX,WAAW,CAACY,QAAxC;YACA,KAAK,CAACgnB,iBAAN,GAA0BrlB,OAAO,CAACqlB,iBAAR,IAA6B,KAAvD;YACA,KAAKmB,UAAL,GAAkBxmB,OAAO,CAACwmB,UAAR,IAAsB,IAAxC;;YAEA,IAAI,KAAKA,UAAL,IAAmB,EAAEC,GAAG,CAACC,QAAJ,CAAa,OAAb,EAAsB,KAAKF,UAAL,CAAgBG,UAAtC,KAAqDF,GAAG,CAACC,QAAJ,CAAa,OAAb,EAAsB,KAAKF,UAAL,CAAgBI,UAAtC,CAAvD,CAAvB,EAAkI;cAChI,IAAI,KAAKJ,UAAL,CAAgBG,UAAhB,IAA8B,KAAKH,UAAL,CAAgBI,UAAlD,EAA8D;gBAC5D3b,OAAO,CAAC4b,IAAR,CAAa,8FAAb;cACD;;cAED,KAAKL,UAAL,GAAkB,IAAlB;YACD;;YAED,KAAKM,qBAAL,GAA6B,CAAC9mB,OAAO,CAAC+mB,cAAtC;;YAEA,IAAI,KAAKD,qBAAT,EAAgC;cAC9B,KAAKC,cAAL,GAAsB,IAAIrD,oBAAoB,CAACsD,iBAAzB,EAAtB;cACA,KAAKD,cAAL,CAAoBhd,SAApB,CAA8B,IAA9B;YACD,CAHD,MAGO;cACL,KAAKgd,cAAL,GAAsB/mB,OAAO,CAAC+mB,cAA9B;YACD;;YAED,KAAKE,MAAL,GAAc,CAAC,GAAGnf,SAAS,CAAC2J,WAAd,EAA2B,KAAK6K,SAAhC,EAA2C,KAAK4K,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAA3C,CAAd;YACA,KAAKC,qBAAL,GAA6Btf,SAAS,CAACgI,qBAAV,CAAgCgC,OAA7D;YACA,KAAKuV,aAAL,GAAqB,KAAKC,YAAL,GAAoB,IAAzC;;YAEA,KAAKpE,UAAL;;YAEA,IAAI,KAAKgD,iBAAT,EAA4B;cAC1B,KAAK7J,MAAL,CAAYjI,SAAZ,CAAsB+F,GAAtB,CAA0B,mBAA1B;YACD;;YAED,KAAKoN,wBAAL;UACD;;UAEa,IAAVtd,UAAU,GAAG;YACf,OAAO,KAAKud,MAAL,CAAY/f,MAAnB;UACD;;UAEDggB,WAAW,CAACzP,KAAD,EAAQ;YACjB,OAAO,KAAKwP,MAAL,CAAYxP,KAAZ,CAAP;UACD;;UAEiB,IAAd0P,cAAc,GAAG;YACnB,IAAI,CAAC,KAAKC,gBAAL,CAAsBC,OAA3B,EAAoC;cAClC,OAAO,KAAP;YACD;;YAED,OAAO,KAAKJ,MAAL,CAAYK,KAAZ,CAAkB,UAAUC,QAAV,EAAoB;cAC3C,OAAOA,QAAQ,EAAE9pB,OAAjB;YACD,CAFM,CAAP;UAGD;;UAEc,IAAXG,WAAW,GAAG;YAChB,OAAO,KAAK,CAAC+mB,cAAN,KAAyBplB,SAAS,CAACqlB,cAAV,CAAyBC,YAAzD;UACD;;UAEkB,IAAf9mB,eAAe,GAAG;YACpB,OAAO,CAAC,CAAC,KAAK0nB,iBAAd;UACD;;UAEoB,IAAjB7b,iBAAiB,GAAG;YACtB,OAAO,KAAK4d,kBAAZ;UACD;;UAEoB,IAAjB5d,iBAAiB,CAAC4B,GAAD,EAAM;YACzB,IAAI,CAACZ,MAAM,CAACC,SAAP,CAAiBW,GAAjB,CAAL,EAA4B;cAC1B,MAAM,IAAIpD,KAAJ,CAAU,sBAAV,CAAN;YACD;;YAED,IAAI,CAAC,KAAKe,WAAV,EAAuB;cACrB;YACD;;YAED,IAAI,CAAC,KAAKse,qBAAL,CAA2Bjc,GAA3B,EAAgC,IAAhC,CAAL,EAA4C;cAC1Cd,OAAO,CAACC,KAAR,CAAe,uBAAsBa,GAAI,wBAAzC;YACD;UACF;;UAEDic,qBAAqB,CAACjc,GAAD,EAAMkc,oBAAoB,GAAG,KAA7B,EAAoC;YACvD,IAAI,KAAKF,kBAAL,KAA4Bhc,GAAhC,EAAqC;cACnC,IAAIkc,oBAAJ,EAA0B;gBACxB,KAAK,CAACA,oBAAN;cACD;;cAED,OAAO,IAAP;YACD;;YAED,IAAI,EAAE,IAAIlc,GAAJ,IAAWA,GAAG,IAAI,KAAK9B,UAAzB,CAAJ,EAA0C;cACxC,OAAO,KAAP;YACD;;YAED,MAAMie,QAAQ,GAAG,KAAKH,kBAAtB;YACA,KAAKA,kBAAL,GAA0Bhc,GAA1B;YACA,KAAKtM,QAAL,CAAcuN,QAAd,CAAuB,cAAvB,EAAuC;cACrCC,MAAM,EAAE,IAD6B;cAErCtC,UAAU,EAAEoB,GAFyB;cAGrCoc,SAAS,EAAE,KAAKC,WAAL,GAAmBrc,GAAG,GAAG,CAAzB,KAA+B,IAHL;cAIrCmc;YAJqC,CAAvC;;YAOA,IAAID,oBAAJ,EAA0B;cACxB,KAAK,CAACA,oBAAN;YACD;;YAED,OAAO,IAAP;UACD;;UAEmB,IAAhBI,gBAAgB,GAAG;YACrB,OAAO,KAAKD,WAAL,GAAmB,KAAKL,kBAAL,GAA0B,CAA7C,KAAmD,IAA1D;UACD;;UAEmB,IAAhBM,gBAAgB,CAACtc,GAAD,EAAM;YACxB,IAAI,CAAC,KAAKrC,WAAV,EAAuB;cACrB;YACD;;YAED,IAAIhC,IAAI,GAAGqE,GAAG,GAAG,CAAjB;;YAEA,IAAI,KAAKqc,WAAT,EAAsB;cACpB,MAAMnZ,CAAC,GAAG,KAAKmZ,WAAL,CAAiBE,OAAjB,CAAyBvc,GAAzB,CAAV;;cAEA,IAAIkD,CAAC,IAAI,CAAT,EAAY;gBACVvH,IAAI,GAAGuH,CAAC,GAAG,CAAX;cACD;YACF;;YAED,IAAI,CAAC,KAAK+Y,qBAAL,CAA2BtgB,IAA3B,EAAiC,IAAjC,CAAL,EAA6C;cAC3CuD,OAAO,CAACC,KAAR,CAAe,sBAAqBa,GAAI,wBAAxC;YACD;UACF;;UAEe,IAAZwc,YAAY,GAAG;YACjB,OAAO,KAAKC,aAAL,KAAuB1gB,SAAS,CAACuH,aAAjC,GAAiD,KAAKmZ,aAAtD,GAAsE1gB,SAAS,CAACuI,aAAvF;UACD;;UAEe,IAAZkY,YAAY,CAACxc,GAAD,EAAM;YACpB,IAAImQ,KAAK,CAACnQ,GAAD,CAAT,EAAgB;cACd,MAAM,IAAIpD,KAAJ,CAAU,wBAAV,CAAN;YACD;;YAED,IAAI,CAAC,KAAKe,WAAV,EAAuB;cACrB;YACD;;YAED,KAAK+e,SAAL,CAAe1c,GAAf,EAAoB,KAApB;UACD;;UAEoB,IAAjB2c,iBAAiB,GAAG;YACtB,OAAO,KAAKC,kBAAZ;UACD;;UAEoB,IAAjBD,iBAAiB,CAAC3c,GAAD,EAAM;YACzB,IAAI,CAAC,KAAKrC,WAAV,EAAuB;cACrB;YACD;;YAED,KAAK+e,SAAL,CAAe1c,GAAf,EAAoB,KAApB;UACD;;UAEgB,IAAb1B,aAAa,GAAG;YAClB,OAAO,KAAKue,cAAZ;UACD;;UAEgB,IAAbve,aAAa,CAACD,QAAD,EAAW;YAC1B,IAAI,CAAC,CAAC,GAAGtC,SAAS,CAACmJ,eAAd,EAA+B7G,QAA/B,CAAL,EAA+C;cAC7C,MAAM,IAAIzB,KAAJ,CAAU,+BAAV,CAAN;YACD;;YAED,IAAI,CAAC,KAAKe,WAAV,EAAuB;cACrB;YACD;;YAEDU,QAAQ,IAAI,GAAZ;;YAEA,IAAIA,QAAQ,GAAG,CAAf,EAAkB;cAChBA,QAAQ,IAAI,GAAZ;YACD;;YAED,IAAI,KAAKwe,cAAL,KAAwBxe,QAA5B,EAAsC;cACpC;YACD;;YAED,KAAKwe,cAAL,GAAsBxe,QAAtB;YACA,MAAMO,UAAU,GAAG,KAAKod,kBAAxB;YACA,MAAMc,UAAU,GAAG;cACjBze;YADiB,CAAnB;;YAIA,KAAK,MAAM0d,QAAX,IAAuB,KAAKN,MAA5B,EAAoC;cAClCM,QAAQ,CAACrnB,MAAT,CAAgBooB,UAAhB;YACD;;YAED,IAAI,KAAKF,kBAAT,EAA6B;cAC3B,KAAKF,SAAL,CAAe,KAAKE,kBAApB,EAAwC,IAAxC;YACD;;YAED,KAAKlpB,QAAL,CAAcuN,QAAd,CAAuB,kBAAvB,EAA2C;cACzCC,MAAM,EAAE,IADiC;cAEzC5C,aAAa,EAAED,QAF0B;cAGzCO;YAHyC,CAA3C;;YAMA,IAAI,KAAKmc,qBAAT,EAAgC;cAC9B,KAAKrmB,MAAL;YACD;UACF;;UAEmB,IAAhBqoB,gBAAgB,GAAG;YACrB,OAAO,KAAKpf,WAAL,GAAmB,KAAKqf,oBAAL,CAA0BtH,OAA7C,GAAuD,IAA9D;UACD;;UAEkB,IAAfuH,eAAe,GAAG;YACpB,OAAO,KAAKtf,WAAL,GAAmB,KAAKuf,0BAAL,CAAgCxH,OAAnD,GAA6D,IAApE;UACD;;UAEe,IAAZyH,YAAY,GAAG;YACjB,OAAO,KAAKxf,WAAL,GAAmB,KAAKie,gBAAL,CAAsBlG,OAAzC,GAAmD,IAA1D;UACD;;UAED,CAAC0H,qBAAqB,CAACC,WAAD,EAAc;YAClC,MAAMvc,MAAM,GAAG;cACbmY,oBAAoB,EAAE,KAAK,CAACA,oBADf;cAEbE,cAAc,EAAE,KAAK,CAACA,cAFT;cAGbiB,aAAa,EAAE,KAAKA;YAHP,CAAf;;YAMA,IAAI,CAACiD,WAAL,EAAkB;cAChB,OAAOvc,MAAP;YACD;;YAED,IAAI,CAACuc,WAAW,CAACxc,QAAZ,CAAqB9M,SAAS,CAACupB,cAAV,CAAyBC,IAA9C,CAAL,EAA0D;cACxD,KAAKjN,MAAL,CAAYjI,SAAZ,CAAsB+F,GAAtB,CAA0B0J,wBAA1B;YACD;;YAED,IAAI,CAACuF,WAAW,CAACxc,QAAZ,CAAqB9M,SAAS,CAACupB,cAAV,CAAyBE,eAA9C,CAAL,EAAqE;cACnE1c,MAAM,CAACmY,oBAAP,GAA8BllB,SAAS,CAACokB,oBAAV,CAA+B1R,OAA7D;YACD;;YAED,IAAI,CAAC4W,WAAW,CAACxc,QAAZ,CAAqB9M,SAAS,CAACupB,cAAV,CAAyBG,kBAA9C,CAAD,IAAsE,CAACJ,WAAW,CAACxc,QAAZ,CAAqB9M,SAAS,CAACupB,cAAV,CAAyBI,sBAA9C,CAAvE,IAAgJ,KAAK,CAACvE,cAAN,KAAyBplB,SAAS,CAACqlB,cAAV,CAAyBC,YAAtM,EAAoN;cAClNvY,MAAM,CAACqY,cAAP,GAAwBplB,SAAS,CAACqlB,cAAV,CAAyB1S,MAAjD;YACD;;YAED,OAAO5F,MAAP;UACD;;UAED,CAAC6c,2BAA2B,GAAG;YAC7B,IAAI/oB,QAAQ,CAACgpB,eAAT,KAA6B,QAA7B,IAAyC,CAAC,KAAKrN,SAAL,CAAe7I,YAAzD,IAAyE,KAAKmW,gBAAL,GAAwB3R,KAAxB,CAA8BxQ,MAA9B,KAAyC,CAAtH,EAAyH;cACvH,OAAOF,OAAO,CAACkU,OAAR,EAAP;YACD;;YAED,MAAMoO,uBAAuB,GAAG,IAAItiB,OAAJ,CAAYkU,OAAO,IAAI;cACrD,KAAK,CAAC+J,kBAAN,GAA2B,MAAM;gBAC/B,IAAI7kB,QAAQ,CAACgpB,eAAT,KAA6B,QAAjC,EAA2C;kBACzC;gBACD;;gBAEDlO,OAAO;gBACP9a,QAAQ,CAACmpB,mBAAT,CAA6B,kBAA7B,EAAiD,KAAK,CAACtE,kBAAvD;gBACA,KAAK,CAACA,kBAAN,GAA2B,IAA3B;cACD,CARD;;cAUA7kB,QAAQ,CAACiV,gBAAT,CAA0B,kBAA1B,EAA8C,KAAK,CAAC4P,kBAApD;YACD,CAZ+B,CAAhC;YAaA,OAAOje,OAAO,CAACwiB,IAAR,CAAa,CAAC,KAAKd,0BAAL,CAAgCxH,OAAjC,EAA0CoI,uBAA1C,CAAb,CAAP;UACD;;UAEDhgB,WAAW,CAACH,WAAD,EAAc;YAAA;;YACvB,IAAI,KAAKA,WAAT,EAAsB;cACpB,KAAKjK,QAAL,CAAcuN,QAAd,CAAuB,cAAvB,EAAuC;gBACrCC,MAAM,EAAE;cAD6B,CAAvC;;cAIA,KAAK+c,gBAAL;;cAEA,KAAK9G,UAAL;;cAEA,IAAI,KAAK6C,cAAT,EAAyB;gBACvB,KAAKA,cAAL,CAAoBlc,WAApB,CAAgC,IAAhC;cACD;;cAED,IAAI,KAAKmc,iBAAT,EAA4B;gBAC1B,KAAKA,iBAAL,CAAuBnc,WAAvB,CAAmC,IAAnC;cACD;;cAED,IAAI,KAAK,CAACob,yBAAV,EAAqC;gBACnC,KAAK,CAACA,yBAAN,CAAgC5jB,OAAhC;gBACA,KAAK,CAAC4jB,yBAAN,GAAkC,IAAlC;cACD;YACF;;YAED,KAAKvb,WAAL,GAAmBA,WAAnB;;YAEA,IAAI,CAACA,WAAL,EAAkB;cAChB;YACD;;YAED,MAAMugB,SAAS,GAAGvgB,WAAW,CAACugB,SAA9B;YACA,MAAMhgB,UAAU,GAAGP,WAAW,CAACQ,QAA/B;YACA,MAAM4e,gBAAgB,GAAGpf,WAAW,CAACwgB,OAAZ,CAAoB,CAApB,CAAzB;YACA,MAAMC,4BAA4B,GAAGzgB,WAAW,CAAC0gB,wBAAZ,EAArC;YACA,MAAMC,kBAAkB,GAAG,KAAK,CAAChF,iBAAN,GAA0B3b,WAAW,CAAC4gB,cAAZ,EAA1B,GAAyD/iB,OAAO,CAACkU,OAAR,EAApF;;YAEA,IAAIxR,UAAU,GAAGsZ,eAAe,CAACO,sBAAjC,EAAyD;cACvD7Y,OAAO,CAAC4b,IAAR,CAAa,mFAAb;cACA,MAAMnZ,IAAI,GAAG,KAAKyV,WAAL,GAAmBrb,SAAS,CAAC2H,UAAV,CAAqBqD,IAArD;cACA,KAAKrT,QAAL,CAAcuN,QAAd,CAAuB,mBAAvB,EAA4C;gBAC1CC,MAAM,EAAE,IADkC;gBAE1CS;cAF0C,CAA5C;YAID;;YAED,KAAKia,gBAAL,CAAsBlG,OAAtB,CAA8B3W,IAA9B,CAAmC,MAAM;cACvC,KAAKrL,QAAL,CAAcuN,QAAd,CAAuB,aAAvB,EAAsC;gBACpCC,MAAM,EAAE,IAD4B;gBAEpChD;cAFoC,CAAtC;YAID,CALD,EAKG,MAAM,CAAE,CALX;;YAOA,KAAKod,aAAL,GAAqBrS,GAAG,IAAI;cAC1B,MAAM8S,QAAQ,GAAG,KAAKN,MAAL,CAAYxS,GAAG,CAACrK,UAAJ,GAAiB,CAA7B,CAAjB;;cAEA,IAAI,CAACmd,QAAL,EAAe;gBACb;cACD;;cAED,KAAK,CAAC/C,MAAN,CAAazZ,IAAb,CAAkBwc,QAAlB;YACD,CARD;;YAUA,KAAKroB,QAAL,CAAc8qB,GAAd,CAAkB,YAAlB,EAAgC,KAAKlD,aAArC;;YAEA,KAAKC,YAAL,GAAoBtS,GAAG,IAAI;cACzB,IAAIA,GAAG,CAACwV,YAAJ,IAAoB,KAAKvB,0BAAL,CAAgCrB,OAAxD,EAAiE;gBAC/D;cACD;;cAED,KAAKqB,0BAAL,CAAgCxN,OAAhC,CAAwC;gBACtCgP,SAAS,EAAEzV,GAAG,CAACyV;cADuB,CAAxC;;cAIA,KAAKhrB,QAAL,CAAcirB,IAAd,CAAmB,cAAnB,EAAmC,KAAKpD,YAAxC;;cAEA,KAAKA,YAAL,GAAoB,IAApB;;cAEA,IAAI,KAAK,CAAC9B,kBAAV,EAA8B;gBAC5B7kB,QAAQ,CAACmpB,mBAAT,CAA6B,kBAA7B,EAAiD,KAAK,CAACtE,kBAAvD;gBACA,KAAK,CAACA,kBAAN,GAA2B,IAA3B;cACD;YACF,CAjBD;;YAmBA,KAAK/lB,QAAL,CAAc8qB,GAAd,CAAkB,cAAlB,EAAkC,KAAKjD,YAAvC;;YAEA/f,OAAO,CAAChB,GAAR,CAAY,CAACuiB,gBAAD,EAAmBuB,kBAAnB,CAAZ,EAAoDvf,IAApD,CAAyD,CAAC,CAAC6f,YAAD,EAAevB,WAAf,CAAD,KAAiC;cACxF,IAAI1f,WAAW,KAAK,KAAKA,WAAzB,EAAsC;gBACpC;cACD;;cAED,KAAKqf,oBAAL,CAA0BtN,OAA1B,CAAkCkP,YAAlC;;cAEA,KAAKC,6BAAL,GAAqCT,4BAArC;cACA,MAAM;gBACJnF,oBADI;gBAEJE,cAFI;gBAGJiB;cAHI,IAIF,KAAK,CAACgD,qBAAN,CAA4BC,WAA5B,CAJJ;;cAMA,IAAIpE,oBAAoB,KAAKllB,SAAS,CAACokB,oBAAV,CAA+B1R,OAA5D,EAAqE;gBACnE,MAAM9E,IAAI,GAAGsX,oBAAb;;gBAEA,IAAIiF,SAAJ,EAAe;kBACbhf,OAAO,CAAC4b,IAAR,CAAa,0CAAb;gBACD,CAFD,MAEO,IAAI5C,2BAA2B,CAACvW,IAAD,CAA/B,EAAuC;kBAC5C,KAAK,CAACuX,yBAAN,GAAkC,IAAInlB,SAAS,CAAC+qB,yBAAd,CAAwC,KAAKvO,SAA7C,EAAwD,KAAK7c,QAA7D,CAAlC;;kBAEA,IAAIiO,IAAI,KAAK5N,SAAS,CAACokB,oBAAV,CAA+Blc,IAA5C,EAAkD;oBAChD,KAAK,CAACid,yBAAN,CAAgC6F,UAAhC,CAA2Cpd,IAA3C;kBACD;gBACF,CANM,MAMA;kBACLzC,OAAO,CAACC,KAAR,CAAe,kCAAiCwC,IAAK,EAArD;gBACD;cACF;;cAED,MAAMqd,aAAa,GAAG,KAAK5H,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBqD,IAA1C,GAAiD,IAAjD,GAAwD,KAAKuJ,MAAnF;cACA,MAAM2O,KAAK,GAAG,KAAKzC,YAAnB;cACA,MAAMhpB,QAAQ,GAAGorB,YAAY,CAACM,WAAb,CAAyB;gBACxCD,KAAK,EAAEA,KAAK,GAAGlrB,SAAS,CAACorB,aAAV,CAAwBC;cADC,CAAzB,CAAjB;cAGA,MAAMC,gBAAgB,GAAGjF,aAAa,KAAKre,SAAS,CAACwH,aAAV,CAAwBkD,OAA1C,IAAqD,CAACyX,SAAtD,GAAkE,IAAlE,GAAyE,IAAlG;cACA,MAAMoB,sBAAsB,GAAGnG,cAAc,KAAKplB,SAAS,CAACqlB,cAAV,CAAyB3S,OAA5C,GAAsD,IAAtD,GAA6D,IAA5F;cACA,MAAM8Y,eAAe,GAAGrB,SAAS,GAAG,IAAH,GAAU,IAA3C;cACA,MAAMsB,4BAA4B,GAAG,KAAK,CAACtG,yBAAN,GAAkC,IAAlC,GAAyC,IAA9E;;cAEA,KAAK,IAAI3W,OAAO,GAAG,CAAnB,EAAsBA,OAAO,IAAIrE,UAAjC,EAA6C,EAAEqE,OAA/C,EAAwD;gBACtD,MAAMwZ,QAAQ,GAAG,IAAIrE,cAAc,CAAC+H,WAAnB,CAA+B;kBAC9ClP,SAAS,EAAEyO,aADmC;kBAE9CtrB,QAAQ,EAAE,KAAKA,QAF+B;kBAG9Cua,EAAE,EAAE1L,OAH0C;kBAI9C0c,KAJ8C;kBAK9CS,eAAe,EAAElsB,QAAQ,CAACgB,KAAT,EAL6B;kBAM9C4pB,4BAN8C;kBAO9CpD,cAAc,EAAE,KAAKA,cAPyB;kBAQ9CqE,gBAR8C;kBAS9CjF,aAT8C;kBAU9CkF,sBAV8C;kBAW9CnG,cAX8C;kBAY9CoG,eAZ8C;kBAa9CC,4BAb8C;kBAc9CG,sBAAsB,EAAE,IAdsB;kBAe9CC,sBAAsB,EAAE,IAfsB;kBAgB9CztB,kBAAkB,EAAE,KAAKA,kBAhBqB;kBAiB9CmoB,QAAQ,EAAE,KAAKA,QAjB+B;kBAkB9CC,cAAc,EAAE,KAAKA,cAlByB;kBAmB9CC,eAAe,EAAE,KAAKA,eAnBwB;kBAoB9CC,UAAU,EAAE,KAAKA,UApB6B;kBAqB9CpoB,IAAI,EAAE,KAAKA;gBArBmC,CAA/B,CAAjB;;gBAwBA,KAAKopB,MAAL,CAAYlc,IAAZ,CAAiBwc,QAAjB;cACD;;cAED,MAAM8D,aAAa,GAAG,KAAKpE,MAAL,CAAY,CAAZ,CAAtB;;cAEA,IAAIoE,aAAJ,EAAmB;gBACjBA,aAAa,CAACC,UAAd,CAAyBlB,YAAzB;gBACA,KAAK9rB,WAAL,CAAiBkM,YAAjB,CAA8B,CAA9B,EAAiC4f,YAAY,CAACmB,GAA9C;cACD;;cAED,IAAI,KAAK3I,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBqD,IAA9C,EAAoD;gBAClD,KAAK,CAACiZ,qBAAN;cACD,CAFD,MAEO,IAAI,KAAK3I,WAAL,KAAqBtb,SAAS,CAACyH,UAAV,CAAqBvH,IAA9C,EAAoD;gBACzD,KAAKsb,iBAAL;cACD;;cAED,KAAK,CAACoG,2BAAN,GAAoC5e,IAApC,iCAAyC,aAAY;gBACnD,IAAI,MAAI,CAACib,cAAT,EAAyB;kBACvB,MAAI,CAACA,cAAL,CAAoBlc,WAApB,CAAgCH,WAAhC;gBACD;;gBAED,IAAI,MAAI,CAACsc,iBAAT,EAA4B;kBAC1B,MAAI,CAACA,iBAAL,CAAuBnc,WAAvB,CAAmCH,WAAnC;gBACD;;gBAED,IAAI,MAAI,CAAC,CAACub,yBAAV,EAAqC;kBACnC,MAAI,CAACxlB,QAAL,CAAcuN,QAAd,CAAuB,6BAAvB,EAAsD;oBACpDC,MAAM,EAAE,MAD4C;oBAEpDS,IAAI,EAAE,MAAI,CAAC,CAACsX;kBAFwC,CAAtD;gBAID;;gBAED,IAAItb,WAAW,CAACsiB,aAAZ,CAA0BC,gBAA1B,IAA8ChiB,UAAU,GAAGsZ,eAAe,CAACQ,oBAA/E,EAAqG;kBACnG,MAAI,CAAC4D,gBAAL,CAAsBlM,OAAtB;;kBAEA;gBACD;;gBAED,IAAIyQ,YAAY,GAAGjiB,UAAU,GAAG,CAAhC;;gBAEA,IAAIiiB,YAAY,IAAI,CAApB,EAAuB;kBACrB,MAAI,CAACvE,gBAAL,CAAsBlM,OAAtB;;kBAEA;gBACD;;gBAED,KAAK,IAAInN,OAAO,GAAG,CAAnB,EAAsBA,OAAO,IAAIrE,UAAjC,EAA6C,EAAEqE,OAA/C,EAAwD;kBACtD,MAAMmT,OAAO,GAAG/X,WAAW,CAACwgB,OAAZ,CAAoB5b,OAApB,EAA6BxD,IAA7B,CAAkC9M,OAAO,IAAI;oBAC3D,MAAM8pB,QAAQ,GAAG,MAAI,CAACN,MAAL,CAAYlZ,OAAO,GAAG,CAAtB,CAAjB;;oBAEA,IAAI,CAACwZ,QAAQ,CAAC9pB,OAAd,EAAuB;sBACrB8pB,QAAQ,CAAC+D,UAAT,CAAoB7tB,OAApB;oBACD;;oBAED,MAAI,CAACa,WAAL,CAAiBkM,YAAjB,CAA8BuD,OAA9B,EAAuCtQ,OAAO,CAAC8tB,GAA/C;;oBAEA,IAAI,EAAEI,YAAF,KAAmB,CAAvB,EAA0B;sBACxB,MAAI,CAACvE,gBAAL,CAAsBlM,OAAtB;oBACD;kBACF,CAZe,EAYbkG,MAAM,IAAI;oBACX1W,OAAO,CAACC,KAAR,CAAe,sBAAqBoD,OAAQ,uBAA5C,EAAoEqT,MAApE;;oBAEA,IAAI,EAAEuK,YAAF,KAAmB,CAAvB,EAA0B;sBACxB,MAAI,CAACvE,gBAAL,CAAsBlM,OAAtB;oBACD;kBACF,CAlBe,CAAhB;;kBAoBA,IAAInN,OAAO,GAAGiV,eAAe,CAACS,qBAA1B,KAAoD,CAAxD,EAA2D;oBACzD,MAAMvC,OAAN;kBACD;gBACF;cACF,CAvDD;cAwDA,KAAKhiB,QAAL,CAAcuN,QAAd,CAAuB,WAAvB,EAAoC;gBAClCC,MAAM,EAAE;cAD0B,CAApC;cAGAvD,WAAW,CAACyiB,WAAZ,GAA0BrhB,IAA1B,CAA+B,CAAC;gBAC9BshB;cAD8B,CAAD,KAEzB;gBACJ,IAAI1iB,WAAW,KAAK,KAAKA,WAAzB,EAAsC;kBACpC;gBACD;;gBAED,IAAI0iB,IAAI,CAACC,QAAT,EAAmB;kBACjB,KAAKhQ,MAAL,CAAY8D,IAAZ,GAAmBiM,IAAI,CAACC,QAAxB;gBACD;cACF,CAVD;;cAYA,IAAI,KAAKvF,qBAAT,EAAgC;gBAC9B,KAAKrmB,MAAL;cACD;YACF,CA3JD,EA2JGuK,KA3JH,CA2JS2W,MAAM,IAAI;cACjB1W,OAAO,CAACC,KAAR,CAAc,6BAAd,EAA6CyW,MAA7C;;cAEA,KAAKgG,gBAAL,CAAsB2E,MAAtB,CAA6B3K,MAA7B;YACD,CA/JD;UAgKD;;UAED4K,aAAa,CAACC,MAAD,EAAS;YACpB,IAAI,CAAC,KAAK9iB,WAAV,EAAuB;cACrB;YACD;;YAED,IAAI,CAAC8iB,MAAL,EAAa;cACX,KAAKpE,WAAL,GAAmB,IAAnB;YACD,CAFD,MAEO,IAAI,EAAExc,KAAK,CAACC,OAAN,CAAc2gB,MAAd,KAAyB,KAAK9iB,WAAL,CAAiBQ,QAAjB,KAA8BsiB,MAAM,CAAC/kB,MAAhE,CAAJ,EAA6E;cAClF,KAAK2gB,WAAL,GAAmB,IAAnB;cACAnd,OAAO,CAACC,KAAR,CAAe,qCAAf;YACD,CAHM,MAGA;cACL,KAAKkd,WAAL,GAAmBoE,MAAnB;YACD;;YAED,KAAK,IAAIvd,CAAC,GAAG,CAAR,EAAWwV,EAAE,GAAG,KAAK+C,MAAL,CAAY/f,MAAjC,EAAyCwH,CAAC,GAAGwV,EAA7C,EAAiDxV,CAAC,EAAlD,EAAsD;cACpD,KAAKuY,MAAL,CAAYvY,CAAZ,EAAewd,YAAf,CAA4B,KAAKrE,WAAL,GAAmBnZ,CAAnB,KAAyB,IAArD;YACD;UACF;;UAEDiU,UAAU,GAAG;YACX,KAAKsE,MAAL,GAAc,EAAd;YACA,KAAKO,kBAAL,GAA0B,CAA1B;YACA,KAAKS,aAAL,GAAqB1gB,SAAS,CAACuH,aAA/B;YACA,KAAKsZ,kBAAL,GAA0B,IAA1B;YACA,KAAKP,WAAL,GAAmB,IAAnB;YACA,KAAK,CAACrD,MAAN,GAAe,IAAIvB,iBAAJ,CAAsBI,kBAAtB,CAAf;YACA,KAAK8I,SAAL,GAAiB,IAAjB;YACA,KAAK9D,cAAL,GAAsB,CAAtB;YACA,KAAKgC,6BAAL,GAAqC,IAArC;YACA,KAAK7B,oBAAL,GAA4B,CAAC,GAAGjpB,SAAS,CAAC6sB,uBAAd,GAA5B;YACA,KAAK1D,0BAAL,GAAkC,CAAC,GAAGnpB,SAAS,CAAC6sB,uBAAd,GAAlC;YACA,KAAKhF,gBAAL,GAAwB,CAAC,GAAG7nB,SAAS,CAAC6sB,uBAAd,GAAxB;YACA,KAAKxJ,WAAL,GAAmBrb,SAAS,CAAC2H,UAAV,CAAqBkD,QAAxC;YACA,KAAKia,mBAAL,GAA2B9kB,SAAS,CAAC2H,UAAV,CAAqBqC,OAAhD;YACA,KAAKsR,WAAL,GAAmBtb,SAAS,CAACyH,UAAV,CAAqBvH,IAAxC;YACA,KAAK,CAACud,mBAAN,GAA4B;cAC1BsH,kBAAkB,EAAE,CADM;cAE1BC,UAAU,EAAE,IAFc;cAG1BC,KAAK,EAAE;YAHmB,CAA5B;;YAMA,IAAI,KAAK1F,aAAT,EAAwB;cACtB,KAAK5nB,QAAL,CAAcirB,IAAd,CAAmB,YAAnB,EAAiC,KAAKrD,aAAtC;;cAEA,KAAKA,aAAL,GAAqB,IAArB;YACD;;YAED,IAAI,KAAKC,YAAT,EAAuB;cACrB,KAAK7nB,QAAL,CAAcirB,IAAd,CAAmB,cAAnB,EAAmC,KAAKpD,YAAxC;;cAEA,KAAKA,YAAL,GAAoB,IAApB;YACD;;YAED,IAAI,KAAK,CAAC9B,kBAAV,EAA8B;cAC5B7kB,QAAQ,CAACmpB,mBAAT,CAA6B,kBAA7B,EAAiD,KAAK,CAACtE,kBAAvD;cACA,KAAK,CAACA,kBAAN,GAA2B,IAA3B;YACD;;YAED,KAAKnJ,MAAL,CAAYqE,WAAZ,GAA0B,EAA1B;;YAEA,KAAK2C,iBAAL;;YAEA,KAAKhH,MAAL,CAAY2Q,eAAZ,CAA4B,MAA5B;YACA,KAAK3Q,MAAL,CAAYjI,SAAZ,CAAsB5S,MAAtB,CAA6BqiB,wBAA7B;UACD;;UAED,CAACkI,qBAAqB,GAAG;YACvB,IAAI,KAAK5I,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBqD,IAA9C,EAAoD;cAClD,MAAM,IAAInK,KAAJ,CAAU,mDAAV,CAAN;YACD;;YAED,MAAMgC,UAAU,GAAG,KAAKod,kBAAxB;YAAA,MACMzS,KAAK,GAAG,KAAK,CAACiQ,mBADpB;YAAA,MAEMlJ,MAAM,GAAG,KAAKA,MAFpB;YAGAA,MAAM,CAACqE,WAAP,GAAqB,EAArB;YACApL,KAAK,CAACyX,KAAN,CAAYtlB,MAAZ,GAAqB,CAArB;;YAEA,IAAI,KAAK2b,WAAL,KAAqBtb,SAAS,CAACyH,UAAV,CAAqBvH,IAA1C,IAAkD,CAAC,KAAKilB,oBAA5D,EAAkF;cAChF,MAAMnF,QAAQ,GAAG,KAAKN,MAAL,CAAY7c,UAAU,GAAG,CAAzB,CAAjB;cACA0R,MAAM,CAACtb,MAAP,CAAc+mB,QAAQ,CAAC5nB,GAAvB;cACAoV,KAAK,CAACyX,KAAN,CAAYzhB,IAAZ,CAAiBwc,QAAjB;YACD,CAJD,MAIO;cACL,MAAMoF,YAAY,GAAG,IAAIlU,GAAJ,EAArB;cAAA,MACMmU,MAAM,GAAG,KAAK/J,WAAL,GAAmB,CADlC;;cAGA,IAAI+J,MAAM,KAAK,CAAC,CAAhB,EAAmB;gBACjBD,YAAY,CAAC/S,GAAb,CAAiBxP,UAAU,GAAG,CAA9B;cACD,CAFD,MAEO,IAAIA,UAAU,GAAG,CAAb,KAAmBwiB,MAAvB,EAA+B;gBACpCD,YAAY,CAAC/S,GAAb,CAAiBxP,UAAU,GAAG,CAA9B;gBACAuiB,YAAY,CAAC/S,GAAb,CAAiBxP,UAAjB;cACD,CAHM,MAGA;gBACLuiB,YAAY,CAAC/S,GAAb,CAAiBxP,UAAU,GAAG,CAA9B;gBACAuiB,YAAY,CAAC/S,GAAb,CAAiBxP,UAAU,GAAG,CAA9B;cACD;;cAED,MAAMyiB,MAAM,GAAGzsB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;cACAwsB,MAAM,CAACvsB,SAAP,GAAmB,QAAnB;;cAEA,IAAI,KAAKosB,oBAAT,EAA+B;gBAC7B,MAAMI,SAAS,GAAG1sB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlB;gBACAysB,SAAS,CAACxsB,SAAV,GAAsB,WAAtB;gBACAusB,MAAM,CAACrsB,MAAP,CAAcssB,SAAd;cACD;;cAED,KAAK,MAAMpe,CAAX,IAAgBie,YAAhB,EAA8B;gBAC5B,MAAMpF,QAAQ,GAAG,KAAKN,MAAL,CAAYvY,CAAZ,CAAjB;;gBAEA,IAAI,CAAC6Y,QAAL,EAAe;kBACb;gBACD;;gBAEDsF,MAAM,CAACrsB,MAAP,CAAc+mB,QAAQ,CAAC5nB,GAAvB;gBACAoV,KAAK,CAACyX,KAAN,CAAYzhB,IAAZ,CAAiBwc,QAAjB;cACD;;cAEDzL,MAAM,CAACtb,MAAP,CAAcqsB,MAAd;YACD;;YAED9X,KAAK,CAACwX,UAAN,GAAmBniB,UAAU,IAAI2K,KAAK,CAACuX,kBAAvC;YACAvX,KAAK,CAACuX,kBAAN,GAA2BliB,UAA3B;UACD;;UAEDuc,aAAa,GAAG;YACd,IAAI,KAAKjd,UAAL,KAAoB,CAAxB,EAA2B;cACzB;YACD;;YAED,KAAKxJ,MAAL;UACD;;UAED,CAAC+Q,cAAc,CAACsW,QAAD,EAAWwF,QAAQ,GAAG,IAAtB,EAA4B;YACzC,MAAM;cACJptB,GADI;cAEJ8Z;YAFI,IAGF8N,QAHJ;;YAKA,IAAI,KAAK3E,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBqD,IAA9C,EAAoD;cAClD,KAAKkV,qBAAL,CAA2BhO,EAA3B;;cAEA,KAAK,CAAC+R,qBAAN;cACA,KAAKtrB,MAAL;YACD;;YAED,IAAI,CAAC6sB,QAAD,IAAa,CAAC,KAAKL,oBAAvB,EAA6C;cAC3C,MAAMvY,IAAI,GAAGxU,GAAG,CAAC4T,UAAJ,GAAiB5T,GAAG,CAAC6T,UAAlC;cAAA,MACMwB,KAAK,GAAGb,IAAI,GAAGxU,GAAG,CAACgU,WADzB;cAEA,MAAM;gBACJS,UADI;gBAEJT;cAFI,IAGF,KAAKoI,SAHT;;cAKA,IAAI,KAAK6G,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBmD,UAA1C,IAAwD8B,IAAI,GAAGC,UAA/D,IAA6EY,KAAK,GAAGZ,UAAU,GAAGT,WAAtG,EAAmH;gBACjHoZ,QAAQ,GAAG;kBACT5Y,IAAI,EAAE,CADG;kBAETF,GAAG,EAAE;gBAFI,CAAX;cAID;YACF;;YAED,CAAC,GAAG1M,SAAS,CAAC0J,cAAd,EAA8BtR,GAA9B,EAAmCotB,QAAnC;UACD;;UAED,CAACC,WAAW,CAACC,QAAD,EAAW;YACrB,OAAOA,QAAQ,KAAK,KAAKhF,aAAlB,IAAmC/R,IAAI,CAACgE,GAAL,CAAS+S,QAAQ,GAAG,KAAKhF,aAAzB,IAA0C,KAApF;UACD;;UAEDiF,oBAAoB,CAACD,QAAD,EAAWE,QAAX,EAAqBC,QAAQ,GAAG,KAAhC,EAAuCC,MAAM,GAAG,KAAhD,EAAuD;YACzE,KAAKjF,kBAAL,GAA0B+E,QAAQ,CAAC7f,QAAT,EAA1B;;YAEA,IAAI,KAAK,CAAC0f,WAAN,CAAkBC,QAAlB,CAAJ,EAAiC;cAC/B,IAAII,MAAJ,EAAY;gBACV,KAAKnuB,QAAL,CAAcuN,QAAd,CAAuB,eAAvB,EAAwC;kBACtCC,MAAM,EAAE,IAD8B;kBAEtC+d,KAAK,EAAEwC,QAF+B;kBAGtCK,WAAW,EAAEH;gBAHyB,CAAxC;cAKD;;cAED;YACD;;YAED5lB,SAAS,CAAC8I,QAAV,CAAmBuL,WAAnB,CAA+B,gBAA/B,EAAiDqR,QAAQ,GAAG1tB,SAAS,CAACorB,aAAV,CAAwBC,gBAApF;;YAEA,MAAMtC,UAAU,GAAG;cACjBmC,KAAK,EAAEwC;YADU,CAAnB;;YAIA,KAAK,MAAM1F,QAAX,IAAuB,KAAKN,MAA5B,EAAoC;cAClCM,QAAQ,CAACrnB,MAAT,CAAgBooB,UAAhB;YACD;;YAED,KAAKL,aAAL,GAAqBgF,QAArB;;YAEA,IAAI,CAACG,QAAL,EAAe;cACb,IAAIjmB,IAAI,GAAG,KAAKqgB,kBAAhB;cAAA,IACIrc,IADJ;;cAGA,IAAI,KAAKghB,SAAL,IAAkB,EAAE,KAAKO,oBAAL,IAA6B,KAAKa,0BAApC,CAAtB,EAAuF;gBACrFpmB,IAAI,GAAG,KAAKglB,SAAL,CAAe/hB,UAAtB;gBACAe,IAAI,GAAG,CAAC,IAAD,EAAO;kBACZlF,IAAI,EAAE;gBADM,CAAP,EAEJ,KAAKkmB,SAAL,CAAehY,IAFX,EAEiB,KAAKgY,SAAL,CAAelY,GAFhC,EAEqC,IAFrC,CAAP;cAGD;;cAED,KAAKjJ,kBAAL,CAAwB;gBACtBZ,UAAU,EAAEjD,IADU;gBAEtB8D,SAAS,EAAEE,IAFW;gBAGtB+B,mBAAmB,EAAE;cAHC,CAAxB;YAKD;;YAED,KAAKhO,QAAL,CAAcuN,QAAd,CAAuB,eAAvB,EAAwC;cACtCC,MAAM,EAAE,IAD8B;cAEtC+d,KAAK,EAAEwC,QAF+B;cAGtCK,WAAW,EAAED,MAAM,GAAGF,QAAH,GAAcjZ;YAHK,CAAxC;;YAMA,IAAI,KAAKqS,qBAAT,EAAgC;cAC9B,KAAKrmB,MAAL;YACD;;YAED,KAAK8mB,wBAAL;UACD;;UAEwB,IAArBwG,qBAAqB,GAAG;YAC1B,IAAI,KAAK3K,WAAL,KAAqBtb,SAAS,CAACyH,UAAV,CAAqBvH,IAA1C,IAAkD,KAAKmb,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBmD,UAAhG,EAA4G;cAC1G,OAAO,CAAP;YACD;;YAED,OAAO,CAAP;UACD;;UAED6V,SAAS,CAACxrB,KAAD,EAAQ0wB,QAAQ,GAAG,KAAnB,EAA0B;YACjC,IAAI3C,KAAK,GAAGxd,UAAU,CAACvQ,KAAD,CAAtB;;YAEA,IAAI+tB,KAAK,GAAG,CAAZ,EAAe;cACb,KAAKyC,oBAAL,CAA0BzC,KAA1B,EAAiC/tB,KAAjC,EAAwC0wB,QAAxC,EAAkD,KAAlD;YACD,CAFD,MAEO;cACL,MAAMK,WAAW,GAAG,KAAKxG,MAAL,CAAY,KAAKO,kBAAL,GAA0B,CAAtC,CAApB;;cAEA,IAAI,CAACiG,WAAL,EAAkB;gBAChB;cACD;;cAED,IAAIC,QAAQ,GAAGnmB,SAAS,CAAC4H,iBAAzB;cAAA,IACIwe,QAAQ,GAAGpmB,SAAS,CAACsH,gBADzB;;cAGA,IAAI,KAAK6d,oBAAT,EAA+B;gBAC7BgB,QAAQ,GAAGC,QAAQ,GAAG,CAAtB;cACD,CAFD,MAEO,IAAI,KAAKhI,iBAAT,EAA4B;gBACjC+H,QAAQ,GAAGC,QAAQ,GAAG,CAAtB;cACD,CAFM,MAEA,IAAI,KAAK/K,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBmD,UAA9C,EAA0D;gBAC/D,CAACqb,QAAD,EAAWC,QAAX,IAAuB,CAACA,QAAD,EAAWD,QAAX,CAAvB;cACD;;cAED,MAAME,cAAc,GAAG,CAAC,KAAK7R,SAAL,CAAepI,WAAf,GAA6B+Z,QAA9B,IAA0CD,WAAW,CAAClW,KAAtD,GAA8DkW,WAAW,CAAChD,KAA1E,GAAkF,KAAK+C,qBAA9G;cACA,MAAMK,eAAe,GAAG,CAAC,KAAK9R,SAAL,CAAetI,YAAf,GAA8Bka,QAA/B,IAA2CF,WAAW,CAACjW,MAAvD,GAAgEiW,WAAW,CAAChD,KAApG;;cAEA,QAAQ/tB,KAAR;gBACE,KAAK,aAAL;kBACE+tB,KAAK,GAAG,CAAR;kBACA;;gBAEF,KAAK,YAAL;kBACEA,KAAK,GAAGmD,cAAR;kBACA;;gBAEF,KAAK,aAAL;kBACEnD,KAAK,GAAGoD,eAAR;kBACA;;gBAEF,KAAK,UAAL;kBACEpD,KAAK,GAAGvU,IAAI,CAACqF,GAAL,CAASqS,cAAT,EAAyBC,eAAzB,CAAR;kBACA;;gBAEF,KAAK,MAAL;kBACE,MAAMC,eAAe,GAAG,CAAC,GAAGvmB,SAAS,CAACkJ,qBAAd,EAAqCgd,WAArC,IAAoDG,cAApD,GAAqE1X,IAAI,CAACqF,GAAL,CAASsS,eAAT,EAA0BD,cAA1B,CAA7F;kBACAnD,KAAK,GAAGvU,IAAI,CAACqF,GAAL,CAAShU,SAAS,CAACoI,cAAnB,EAAmCme,eAAnC,CAAR;kBACA;;gBAEF;kBACEpjB,OAAO,CAACC,KAAR,CAAe,eAAcjO,KAAM,6BAAnC;kBACA;cAxBJ;;cA2BA,KAAKwwB,oBAAL,CAA0BzC,KAA1B,EAAiC/tB,KAAjC,EAAwC0wB,QAAxC,EAAkD,IAAlD;YACD;UACF;;UAED,CAAC1F,oBAAoB,GAAG;YACtB,MAAMH,QAAQ,GAAG,KAAKN,MAAL,CAAY,KAAKO,kBAAL,GAA0B,CAAtC,CAAjB;;YAEA,IAAI,KAAKkF,oBAAT,EAA+B;cAC7B,KAAKxE,SAAL,CAAe,KAAKE,kBAApB,EAAwC,IAAxC;YACD;;YAED,KAAK,CAACnX,cAAN,CAAqBsW,QAArB;UACD;;UAED9b,qBAAqB,CAACsiB,KAAD,EAAQ;YAC3B,IAAI,CAAC,KAAKlG,WAAV,EAAuB;cACrB,OAAO,IAAP;YACD;;YAED,MAAMnZ,CAAC,GAAG,KAAKmZ,WAAL,CAAiBE,OAAjB,CAAyBgG,KAAzB,CAAV;;YAEA,IAAIrf,CAAC,GAAG,CAAR,EAAW;cACT,OAAO,IAAP;YACD;;YAED,OAAOA,CAAC,GAAG,CAAX;UACD;;UAED1D,kBAAkB,CAAC;YACjBZ,UADiB;YAEjBa,SAAS,GAAG,IAFK;YAGjBiC,mBAAmB,GAAG,KAHL;YAIjBnE,qBAAqB,GAAG;UAJP,CAAD,EAKf;YACD,IAAI,CAAC,KAAKI,WAAV,EAAuB;cACrB;YACD;;YAED,MAAMoe,QAAQ,GAAG3c,MAAM,CAACC,SAAP,CAAiBT,UAAjB,KAAgC,KAAK6c,MAAL,CAAY7c,UAAU,GAAG,CAAzB,CAAjD;;YAEA,IAAI,CAACmd,QAAL,EAAe;cACb7c,OAAO,CAACC,KAAR,CAAe,wBAAuBP,UAAW,wCAAjD;cACA;YACD;;YAED,IAAI,KAAKsiB,oBAAL,IAA6B,CAACzhB,SAAlC,EAA6C;cAC3C,KAAKwc,qBAAL,CAA2Brd,UAA3B,EAAuC,IAAvC;;cAEA;YACD;;YAED,IAAI6L,CAAC,GAAG,CAAR;YAAA,IACIyD,CAAC,GAAG,CADR;YAEA,IAAInC,KAAK,GAAG,CAAZ;YAAA,IACIC,MAAM,GAAG,CADb;YAAA,IAEIwW,UAFJ;YAAA,IAGIC,WAHJ;YAIA,MAAM3W,iBAAiB,GAAGiQ,QAAQ,CAAC1d,QAAT,GAAoB,GAApB,KAA4B,CAAtD;YACA,MAAMqkB,SAAS,GAAG,CAAC5W,iBAAiB,GAAGiQ,QAAQ,CAAC/P,MAAZ,GAAqB+P,QAAQ,CAAChQ,KAAhD,IAAyDgQ,QAAQ,CAACkD,KAAlE,GAA0ElrB,SAAS,CAACorB,aAAV,CAAwBC,gBAApH;YACA,MAAMuD,UAAU,GAAG,CAAC7W,iBAAiB,GAAGiQ,QAAQ,CAAChQ,KAAZ,GAAoBgQ,QAAQ,CAAC/P,MAA/C,IAAyD+P,QAAQ,CAACkD,KAAlE,GAA0ElrB,SAAS,CAACorB,aAAV,CAAwBC,gBAArH;YACA,IAAIH,KAAK,GAAG,CAAZ;;YAEA,QAAQxf,SAAS,CAAC,CAAD,CAAT,CAAahF,IAArB;cACE,KAAK,KAAL;gBACEgQ,CAAC,GAAGhL,SAAS,CAAC,CAAD,CAAb;gBACAyO,CAAC,GAAGzO,SAAS,CAAC,CAAD,CAAb;gBACAwf,KAAK,GAAGxf,SAAS,CAAC,CAAD,CAAjB;gBACAgL,CAAC,GAAGA,CAAC,KAAK,IAAN,GAAaA,CAAb,GAAiB,CAArB;gBACAyD,CAAC,GAAGA,CAAC,KAAK,IAAN,GAAaA,CAAb,GAAiByU,UAArB;gBACA;;cAEF,KAAK,KAAL;cACA,KAAK,MAAL;gBACE1D,KAAK,GAAG,UAAR;gBACA;;cAEF,KAAK,MAAL;cACA,KAAK,OAAL;gBACE/Q,CAAC,GAAGzO,SAAS,CAAC,CAAD,CAAb;gBACAwf,KAAK,GAAG,YAAR;;gBAEA,IAAI/Q,CAAC,KAAK,IAAN,IAAc,KAAKyS,SAAvB,EAAkC;kBAChClW,CAAC,GAAG,KAAKkW,SAAL,CAAehY,IAAnB;kBACAuF,CAAC,GAAG,KAAKyS,SAAL,CAAelY,GAAnB;gBACD,CAHD,MAGO,IAAI,OAAOyF,CAAP,KAAa,QAAb,IAAyBA,CAAC,GAAG,CAAjC,EAAoC;kBACzCA,CAAC,GAAGyU,UAAJ;gBACD;;gBAED;;cAEF,KAAK,MAAL;cACA,KAAK,OAAL;gBACElY,CAAC,GAAGhL,SAAS,CAAC,CAAD,CAAb;gBACAsM,KAAK,GAAG2W,SAAR;gBACA1W,MAAM,GAAG2W,UAAT;gBACA1D,KAAK,GAAG,aAAR;gBACA;;cAEF,KAAK,MAAL;gBACExU,CAAC,GAAGhL,SAAS,CAAC,CAAD,CAAb;gBACAyO,CAAC,GAAGzO,SAAS,CAAC,CAAD,CAAb;gBACAsM,KAAK,GAAGtM,SAAS,CAAC,CAAD,CAAT,GAAegL,CAAvB;gBACAuB,MAAM,GAAGvM,SAAS,CAAC,CAAD,CAAT,GAAeyO,CAAxB;gBACA,MAAMgU,QAAQ,GAAG,KAAK/H,iBAAL,GAAyB,CAAzB,GAA6Bpe,SAAS,CAAC4H,iBAAxD;gBACA,MAAMwe,QAAQ,GAAG,KAAKhI,iBAAL,GAAyB,CAAzB,GAA6Bpe,SAAS,CAACsH,gBAAxD;gBACAmf,UAAU,GAAG,CAAC,KAAKjS,SAAL,CAAepI,WAAf,GAA6B+Z,QAA9B,IAA0CnW,KAA1C,GAAkDhY,SAAS,CAACorB,aAAV,CAAwBC,gBAAvF;gBACAqD,WAAW,GAAG,CAAC,KAAKlS,SAAL,CAAetI,YAAf,GAA8Bka,QAA/B,IAA2CnW,MAA3C,GAAoDjY,SAAS,CAACorB,aAAV,CAAwBC,gBAA1F;gBACAH,KAAK,GAAGvU,IAAI,CAACqF,GAAL,CAASrF,IAAI,CAACgE,GAAL,CAAS8T,UAAT,CAAT,EAA+B9X,IAAI,CAACgE,GAAL,CAAS+T,WAAT,CAA/B,CAAR;gBACA;;cAEF;gBACEvjB,OAAO,CAACC,KAAR,CAAe,wBAAuBM,SAAS,CAAC,CAAD,CAAT,CAAahF,IAAK,oCAAxD;gBACA;YAlDJ;;YAqDA,IAAI,CAAC8C,qBAAL,EAA4B;cAC1B,IAAI0hB,KAAK,IAAIA,KAAK,KAAK,KAAKxC,aAA5B,EAA2C;gBACzC,KAAKE,iBAAL,GAAyBsC,KAAzB;cACD,CAFD,MAEO,IAAI,KAAKxC,aAAL,KAAuB1gB,SAAS,CAACuH,aAArC,EAAoD;gBACzD,KAAKqZ,iBAAL,GAAyB5gB,SAAS,CAACqI,mBAAnC;cACD;YACF;;YAED,IAAI6a,KAAK,KAAK,UAAV,IAAwB,CAACxf,SAAS,CAAC,CAAD,CAAtC,EAA2C;cACzC,KAAK,CAACgG,cAAN,CAAqBsW,QAArB;cACA;YACD;;YAED,MAAM6G,YAAY,GAAG,CAAC7G,QAAQ,CAACvoB,QAAT,CAAkBqvB,sBAAlB,CAAyCpY,CAAzC,EAA4CyD,CAA5C,CAAD,EAAiD6N,QAAQ,CAACvoB,QAAT,CAAkBqvB,sBAAlB,CAAyCpY,CAAC,GAAGsB,KAA7C,EAAoDmC,CAAC,GAAGlC,MAAxD,CAAjD,CAArB;YACA,IAAIrD,IAAI,GAAG+B,IAAI,CAACqF,GAAL,CAAS6S,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAAT,EAA6BA,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAA7B,CAAX;YACA,IAAIna,GAAG,GAAGiC,IAAI,CAACqF,GAAL,CAAS6S,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAAT,EAA6BA,YAAY,CAAC,CAAD,CAAZ,CAAgB,CAAhB,CAA7B,CAAV;;YAEA,IAAI,CAAClhB,mBAAL,EAA0B;cACxBiH,IAAI,GAAG+B,IAAI,CAACkD,GAAL,CAASjF,IAAT,EAAe,CAAf,CAAP;cACAF,GAAG,GAAGiC,IAAI,CAACkD,GAAL,CAASnF,GAAT,EAAc,CAAd,CAAN;YACD;;YAED,KAAK,CAAChD,cAAN,CAAqBsW,QAArB,EAA+B;cAC7BpT,IAD6B;cAE7BF;YAF6B,CAA/B;UAID;;UAEDqa,eAAe,CAACC,SAAD,EAAY;YACzB,MAAMvG,YAAY,GAAG,KAAKC,aAA1B;YACA,MAAME,iBAAiB,GAAG,KAAKC,kBAA/B;YACA,MAAMoG,oBAAoB,GAAGvhB,UAAU,CAACkb,iBAAD,CAAV,KAAkCH,YAAlC,GAAiD9R,IAAI,CAACY,KAAL,CAAWkR,YAAY,GAAG,KAA1B,IAAmC,GAApF,GAA0FG,iBAAvH;YACA,MAAM/d,UAAU,GAAGmkB,SAAS,CAAC9U,EAA7B;YACA,MAAMgV,eAAe,GAAG,KAAKxH,MAAL,CAAY7c,UAAU,GAAG,CAAzB,CAAxB;YACA,MAAM2R,SAAS,GAAG,KAAKA,SAAvB;YACA,MAAM2S,OAAO,GAAGD,eAAe,CAACE,YAAhB,CAA6B5S,SAAS,CAAC3H,UAAV,GAAuBma,SAAS,CAACtY,CAA9D,EAAiE8F,SAAS,CAAC1H,SAAV,GAAsBka,SAAS,CAAC7U,CAAjG,CAAhB;YACA,MAAMkV,OAAO,GAAG1Y,IAAI,CAACY,KAAL,CAAW4X,OAAO,CAAC,CAAD,CAAlB,CAAhB;YACA,MAAMG,MAAM,GAAG3Y,IAAI,CAACY,KAAL,CAAW4X,OAAO,CAAC,CAAD,CAAlB,CAAf;YACA,IAAII,aAAa,GAAI,SAAQ1kB,UAAW,EAAxC;;YAEA,IAAI,CAAC,KAAKsiB,oBAAV,EAAgC;cAC9BoC,aAAa,IAAK,SAAQN,oBAAqB,IAAGI,OAAQ,IAAGC,MAAO,EAApE;YACD;;YAED,KAAK1C,SAAL,GAAiB;cACf/hB,UADe;cAEfqgB,KAAK,EAAE+D,oBAFQ;cAGfva,GAAG,EAAE4a,MAHU;cAIf1a,IAAI,EAAEya,OAJS;cAKf/kB,QAAQ,EAAE,KAAKwe,cALA;cAMfyG;YANe,CAAjB;UAQD;;UAED5uB,MAAM,GAAG;YACP,MAAMqY,OAAO,GAAG,KAAK8Q,gBAAL,EAAhB;;YAEA,MAAM0F,YAAY,GAAGxW,OAAO,CAACb,KAA7B;YAAA,MACMsX,eAAe,GAAGD,YAAY,CAAC7nB,MADrC;;YAGA,IAAI8nB,eAAe,KAAK,CAAxB,EAA2B;cACzB;YACD;;YAED,MAAMC,YAAY,GAAG/Y,IAAI,CAACkD,GAAL,CAASiK,kBAAT,EAA6B,IAAI2L,eAAJ,GAAsB,CAAnD,CAArB;YACA,KAAK,CAACxK,MAAN,CAAaT,MAAb,CAAoBkL,YAApB,EAAkC1W,OAAO,CAACC,GAA1C;YACA,KAAKgO,cAAL,CAAoB0I,qBAApB,CAA0C3W,OAA1C;YACA,MAAM4W,cAAc,GAAG,KAAKtM,WAAL,KAAqBtb,SAAS,CAACyH,UAAV,CAAqBvH,IAA1C,KAAmD,KAAKmb,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBqD,IAA1C,IAAkD,KAAKqQ,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBkD,QAA/I,CAAvB;YACA,MAAMgd,SAAS,GAAG,KAAK5H,kBAAvB;YACA,IAAI6H,iBAAiB,GAAG,KAAxB;;YAEA,KAAK,MAAMloB,IAAX,IAAmB4nB,YAAnB,EAAiC;cAC/B,IAAI5nB,IAAI,CAACqS,OAAL,GAAe,GAAnB,EAAwB;gBACtB;cACD;;cAED,IAAIrS,IAAI,CAACsS,EAAL,KAAY2V,SAAZ,IAAyBD,cAA7B,EAA6C;gBAC3CE,iBAAiB,GAAG,IAApB;gBACA;cACD;YACF;;YAED,KAAK5H,qBAAL,CAA2B4H,iBAAiB,GAAGD,SAAH,GAAeL,YAAY,CAAC,CAAD,CAAZ,CAAgBtV,EAA3E;;YAEA,KAAK6U,eAAL,CAAqB/V,OAAO,CAACsB,KAA7B;;YAEA,KAAK3a,QAAL,CAAcuN,QAAd,CAAuB,gBAAvB,EAAyC;cACvCC,MAAM,EAAE,IAD+B;cAEvC4iB,QAAQ,EAAE,KAAKnD;YAFwB,CAAzC;UAID;;UAEDoD,eAAe,CAAChpB,OAAD,EAAU;YACvB,OAAO,KAAKwV,SAAL,CAAejI,QAAf,CAAwBvN,OAAxB,CAAP;UACD;;UAEDipB,KAAK,GAAG;YACN,KAAKzT,SAAL,CAAeyT,KAAf;UACD;;UAEkB,IAAfC,eAAe,GAAG;YACpB,OAAO1b,gBAAgB,CAAC,KAAKgI,SAAN,CAAhB,CAAiC2T,SAAjC,KAA+C,KAAtD;UACD;;UAEuB,IAApBhD,oBAAoB,GAAG;YACzB,OAAO,KAAK7F,qBAAL,KAA+Btf,SAAS,CAACgI,qBAAV,CAAgCmC,UAAtE;UACD;;UAE6B,IAA1B6b,0BAA0B,GAAG;YAC/B,OAAO,KAAK1G,qBAAL,KAA+Btf,SAAS,CAACgI,qBAAV,CAAgCkC,QAAtE;UACD;;UAE+B,IAA5Bke,4BAA4B,GAAG;YACjC,OAAO,KAAKjD,oBAAL,GAA4B,KAA5B,GAAoC,KAAK3Q,SAAL,CAAenI,WAAf,GAA6B,KAAKmI,SAAL,CAAepI,WAAvF;UACD;;UAE6B,IAA1Bic,0BAA0B,GAAG;YAC/B,OAAO,KAAKlD,oBAAL,GAA4B,KAA5B,GAAoC,KAAK3Q,SAAL,CAAerI,YAAf,GAA8B,KAAKqI,SAAL,CAAetI,YAAxF;UACD;;UAED4V,gBAAgB,GAAG;YACjB,MAAM3R,KAAK,GAAG,KAAKkL,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBqD,IAA1C,GAAiD,KAAK,CAACyS,mBAAN,CAA0BwH,KAA3E,GAAmF,KAAKvF,MAAtG;YAAA,MACMlP,UAAU,GAAG,KAAK6K,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBmD,UAD7D;YAAA,MAEM2F,GAAG,GAAGD,UAAU,IAAI,KAAK0X,eAF/B;YAGA,OAAO,CAAC,GAAGloB,SAAS,CAACiJ,kBAAd,EAAkC;cACvCqH,QAAQ,EAAE,KAAKkE,SADwB;cAEvCrE,KAFuC;cAGvCI,gBAAgB,EAAE,IAHqB;cAIvCC,UAJuC;cAKvCC;YALuC,CAAlC,CAAP;UAOD;;UAED3J,aAAa,CAACjE,UAAD,EAAa;YACxB,IAAI,CAAC,KAAKjB,WAAV,EAAuB;cACrB,OAAO,KAAP;YACD;;YAED,IAAI,EAAEyB,MAAM,CAACC,SAAP,CAAiBT,UAAjB,KAAgCA,UAAU,GAAG,CAA7C,IAAkDA,UAAU,IAAI,KAAKV,UAAvE,CAAJ,EAAwF;cACtFgB,OAAO,CAACC,KAAR,CAAe,mBAAkBP,UAAW,wBAA5C;cACA,OAAO,KAAP;YACD;;YAED,OAAO,KAAKif,gBAAL,GAAwB7Q,GAAxB,CAA4BhM,GAA5B,CAAgCpC,UAAhC,CAAP;UACD;;UAEDkE,YAAY,CAAClE,UAAD,EAAa;YACvB,IAAI,CAAC,KAAKjB,WAAV,EAAuB;cACrB,OAAO,KAAP;YACD;;YAED,IAAI,EAAEyB,MAAM,CAACC,SAAP,CAAiBT,UAAjB,KAAgCA,UAAU,GAAG,CAA7C,IAAkDA,UAAU,IAAI,KAAKV,UAAvE,CAAJ,EAAwF;cACtFgB,OAAO,CAACC,KAAR,CAAe,kBAAiBP,UAAW,wBAA3C;cACA,OAAO,KAAP;YACD;;YAED,MAAMmd,QAAQ,GAAG,KAAKN,MAAL,CAAY7c,UAAU,GAAG,CAAzB,CAAjB;YACA,OAAO,KAAK,CAACoa,MAAN,CAAahY,GAAb,CAAiB+a,QAAjB,CAAP;UACD;;UAEDsI,OAAO,GAAG;YACR,KAAK,MAAMtI,QAAX,IAAuB,KAAKN,MAA5B,EAAoC;cAClC,IAAIM,QAAQ,CAACuI,cAAT,KAA4BvoB,SAAS,CAAC6H,eAAV,CAA0BkC,QAA1D,EAAoE;gBAClEiW,QAAQ,CAACwI,KAAT;cACD;YACF;UACF;;UAEDtG,gBAAgB,GAAG;YACjB,KAAK,MAAMlC,QAAX,IAAuB,KAAKN,MAA5B,EAAoC;cAClCM,QAAQ,CAACyI,eAAT;YACD;UACF;;UAEK,CAACC,mBAAmB,CAAC1I,QAAD,EAAW;YAAA;;YAAA;cACnC,IAAIA,QAAQ,CAAC9pB,OAAb,EAAsB;gBACpB,OAAO8pB,QAAQ,CAAC9pB,OAAhB;cACD;;cAED,IAAI;gBACF,MAAMA,OAAO,SAAS,MAAI,CAAC0L,WAAL,CAAiBwgB,OAAjB,CAAyBpC,QAAQ,CAAC9N,EAAlC,CAAtB;;gBAEA,IAAI,CAAC8N,QAAQ,CAAC9pB,OAAd,EAAuB;kBACrB8pB,QAAQ,CAAC+D,UAAT,CAAoB7tB,OAApB;gBACD;;gBAED,IAAI,CAAC,MAAI,CAACa,WAAL,CAAiB+L,iBAAjB,GAAqC5M,OAAO,CAAC8tB,GAA7C,CAAL,EAAwD;kBACtD,MAAI,CAACjtB,WAAL,CAAiBkM,YAAjB,CAA8B+c,QAAQ,CAAC9N,EAAvC,EAA2Chc,OAAO,CAAC8tB,GAAnD;gBACD;;gBAED,OAAO9tB,OAAP;cACD,CAZD,CAYE,OAAO2jB,MAAP,EAAe;gBACf1W,OAAO,CAACC,KAAR,CAAc,kCAAd,EAAkDyW,MAAlD;gBACA,OAAO,IAAP;cACD;YApBkC;UAqBpC;;UAED,CAAC8O,cAAc,CAAC3X,OAAD,EAAU;YACvB,IAAIA,OAAO,CAACsB,KAAR,EAAeJ,EAAf,KAAsB,CAA1B,EAA6B;cAC3B,OAAO,IAAP;YACD,CAFD,MAEO,IAAIlB,OAAO,CAACuB,IAAR,EAAcL,EAAd,KAAqB,KAAK/P,UAA9B,EAA0C;cAC/C,OAAO,KAAP;YACD;;YAED,QAAQ,KAAKkZ,WAAb;cACE,KAAKrb,SAAS,CAAC2H,UAAV,CAAqBqD,IAA1B;gBACE,OAAO,KAAK,CAACyS,mBAAN,CAA0BuH,UAAjC;;cAEF,KAAKhlB,SAAS,CAAC2H,UAAV,CAAqBmD,UAA1B;gBACE,OAAO,KAAKqU,MAAL,CAAY1R,KAAnB;YALJ;;YAQA,OAAO,KAAK0R,MAAL,CAAYvR,IAAnB;UACD;;UAED,CAACgb,wBAAwB,CAACC,UAAD,EAAa;YACpC,KAAK,MAAM3W,EAAX,IAAiB2W,UAAjB,EAA6B;cAC3B,MAAM7I,QAAQ,GAAG,KAAKN,MAAL,CAAYxN,EAAE,GAAG,CAAjB,CAAjB;cACA8N,QAAQ,EAAE4I,wBAAV,CAAmC,IAAnC;YACD;;YAED,KAAK,MAAM5I,QAAX,IAAuB,KAAK,CAAC/C,MAA7B,EAAqC;cACnC,IAAI4L,UAAU,CAAC5jB,GAAX,CAAe+a,QAAQ,CAAC9N,EAAxB,CAAJ,EAAiC;gBAC/B;cACD;;cAED8N,QAAQ,CAAC4I,wBAAT,CAAkC,KAAlC;YACD;UACF;;UAEDE,cAAc,CAACC,qBAAD,EAAwB;YACpC,MAAMvB,YAAY,GAAGuB,qBAAqB,IAAI,KAAKjH,gBAAL,EAA9C;;YAEA,MAAMkH,WAAW,GAAG,KAAK,CAACL,cAAN,CAAqBnB,YAArB,CAApB;YACA,MAAMyB,cAAc,GAAG,KAAK3N,WAAL,KAAqBtb,SAAS,CAACyH,UAAV,CAAqBvH,IAA1C,IAAkD,KAAKmb,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBmD,UAAnH;YACA,MAAMkV,QAAQ,GAAG,KAAKf,cAAL,CAAoBiK,kBAApB,CAAuC1B,YAAvC,EAAqD,KAAK9H,MAA1D,EAAkEsJ,WAAlE,EAA+EC,cAA/E,CAAjB;YACA,KAAK,CAACL,wBAAN,CAA+BpB,YAAY,CAACvW,GAA5C;;YAEA,IAAI+O,QAAJ,EAAc;cACZ,KAAK,CAAC0I,mBAAN,CAA0B1I,QAA1B,EAAoChd,IAApC,CAAyC,MAAM;gBAC7C,KAAKic,cAAL,CAAoBkK,UAApB,CAA+BnJ,QAA/B;cACD,CAFD;cAGA,OAAO,IAAP;YACD;;YAED,OAAO,KAAP;UACD;;UAED1oB,sBAAsB,CAAC;YACrBC,YADqB;YAErBC,SAFqB;YAGrBC,QAHqB;YAIrBC,oBAAoB,GAAG,KAJF;YAKrBC,QALqB;YAMrBC,WANqB;YAOrBf,oBAAoB,GAAG;UAPF,CAAD,EAQnB;YACD,OAAO,IAAIf,mBAAmB,CAAC+B,gBAAxB,CAAyC;cAC9CN,YAD8C;cAE9CI,QAF8C;cAG9CH,SAH8C;cAI9CC,QAJ8C;cAK9CC,oBAAoB,EAAE,KAAKytB,oBAAL,GAA4B,KAA5B,GAAoCztB,oBALZ;cAM9CE,WAN8C;cAO9Cf;YAP8C,CAAzC,CAAP;UASD;;UAEDuyB,qBAAqB,CAAC;YACpB5xB,SADoB;YAEpBG;UAFoB,CAAD,EAGlB;YACD,OAAO,IAAIkkB,iBAAiB,CAACwN,eAAtB,CAAsC;cAC3C1xB,QAD2C;cAE3CH,SAF2C;cAG3CymB,cAAc,EAAE,KAAKkH,oBAAL,GAA4B,IAA5B,GAAmC,KAAKlH;YAHb,CAAtC,CAAP;UAKD;;UAEDjoB,4BAA4B,CAAC;YAC3BC,OAD2B;YAE3BC,OAF2B;YAG3BC,iBAAiB,GAAG,KAAKyL,WAAL,EAAkBzL,iBAHX;YAI3BC,kBAAkB,GAAG,EAJM;YAK3BC,WAAW,GAAG,IALa;YAM3BC,IAAI,GAAGX,WAAW,CAACY,QANQ;YAO3BC,eAAe,GAAG,KAAKA,eAPI;YAQ3BC,mBAAmB,GAAG,KAAKmL,WAAL,EAAkBrC,YAAlB,EARK;YAS3B7I,UAAU,GAAG,KAAKwnB,iBAAL,EAAwBxnB,UATV;YAU3BC,mBAAmB,GAAG,KAAKiL,WAAL,EAAkB0nB,eAAlB,EAVK;YAW3B1yB,mBAAmB,GAAG,IAXK;YAY3BC,oBAAoB,GAAG;UAZI,CAAD,EAazB;YACD,OAAO,IAAInB,yBAAyB,CAACoB,sBAA9B,CAAqD;cAC1Db,OAD0D;cAE1DC,OAF0D;cAG1DC,iBAH0D;cAI1DC,kBAJ0D;cAK1DC,WAL0D;cAM1DU,WAAW,EAAE,KAAKA,WANwC;cAO1DkI,eAAe,EAAE,KAAKA,eAPoC;cAQ1D3I,IAR0D;cAS1DE,eAT0D;cAU1DC,mBAV0D;cAW1DC,UAX0D;cAY1DC,mBAZ0D;cAa1DC,mBAb0D;cAc1DC;YAd0D,CAArD,CAAP;UAgBD;;UAEDI,kCAAkC,CAAC;YACjCC,SAAS,GAAG,KAAK,CAACimB,yBADe;YAEjClnB,OAFiC;YAGjCC,OAHiC;YAIjCW,oBAAoB,GAAG,IAJU;YAKjCP,IALiC;YAMjCH,iBAAiB,GAAG,KAAKyL,WAAL,EAAkBzL;UANL,CAAD,EAO/B;YACD,OAAO,IAAIV,gCAAgC,CAAC0B,4BAArC,CAAkE;cACvED,SADuE;cAEvEjB,OAFuE;cAGvEC,OAHuE;cAIvEC,iBAJuE;cAKvEU,oBALuE;cAMvEP;YANuE,CAAlE,CAAP;UAQD;;UAEDwB,qBAAqB,CAAC;YACpB7B,OADoB;YAEpBC,OAFoB;YAGpBC,iBAAiB,GAAG,KAAKyL,WAAL,EAAkBzL;UAHlB,CAAD,EAIlB;YACD,OAAO,IAAIJ,kBAAkB,CAACgC,eAAvB,CAAuC;cAC5C9B,OAD4C;cAE5CC,OAF4C;cAG5CC,iBAH4C;cAI5CY,WAAW,EAAE,KAAKA;YAJ0B,CAAvC,CAAP;UAMD;;UAEDK,4BAA4B,CAAC;YAC3BlB;UAD2B,CAAD,EAEzB;YACD,OAAO,IAAIL,0BAA0B,CAACwB,sBAA/B,CAAsD;cAC3DnB;YAD2D,CAAtD,CAAP;UAGD;;UAEoB,IAAjBqzB,iBAAiB,GAAG;YACtB,MAAMzF,aAAa,GAAG,KAAKpE,MAAL,CAAY,CAAZ,CAAtB;;YAEA,KAAK,IAAIvY,CAAC,GAAG,CAAR,EAAWwV,EAAE,GAAG,KAAK+C,MAAL,CAAY/f,MAAjC,EAAyCwH,CAAC,GAAGwV,EAA7C,EAAiD,EAAExV,CAAnD,EAAsD;cACpD,MAAM6Y,QAAQ,GAAG,KAAKN,MAAL,CAAYvY,CAAZ,CAAjB;;cAEA,IAAI6Y,QAAQ,CAAChQ,KAAT,KAAmB8T,aAAa,CAAC9T,KAAjC,IAA0CgQ,QAAQ,CAAC/P,MAAT,KAAoB6T,aAAa,CAAC7T,MAAhF,EAAwF;gBACtF,OAAO,KAAP;cACD;YACF;;YAED,OAAO,IAAP;UACD;;UAEDuZ,gBAAgB,GAAG;YACjB,OAAO,KAAK9J,MAAL,CAAY+J,GAAZ,CAAgBzJ,QAAQ,IAAI;cACjC,MAAMvoB,QAAQ,GAAGuoB,QAAQ,CAAC9pB,OAAT,CAAiBitB,WAAjB,CAA6B;gBAC5CD,KAAK,EAAE;cADqC,CAA7B,CAAjB;;cAIA,IAAI,CAAC,KAAK5E,qBAAN,IAA+B,CAAC,GAAGte,SAAS,CAACkJ,qBAAd,EAAqCzR,QAArC,CAAnC,EAAmF;gBACjF,OAAO;kBACLuY,KAAK,EAAEvY,QAAQ,CAACuY,KADX;kBAELC,MAAM,EAAExY,QAAQ,CAACwY,MAFZ;kBAGL3N,QAAQ,EAAE7K,QAAQ,CAAC6K;gBAHd,CAAP;cAKD;;cAED,OAAO;gBACL0N,KAAK,EAAEvY,QAAQ,CAACwY,MADX;gBAELA,MAAM,EAAExY,QAAQ,CAACuY,KAFZ;gBAGL1N,QAAQ,EAAE,CAAC7K,QAAQ,CAAC6K,QAAT,GAAoB,EAArB,IAA2B;cAHhC,CAAP;YAKD,CAlBM,CAAP;UAmBD;;UAE+B,IAA5B+f,4BAA4B,GAAG;YACjC,IAAI,CAAC,KAAKzgB,WAAV,EAAuB;cACrB,OAAOnC,OAAO,CAACkU,OAAR,CAAgB,IAAhB,CAAP;YACD;;YAED,IAAI,CAAC,KAAKmP,6BAAV,EAAyC;cACvC3f,OAAO,CAACC,KAAR,CAAc,oDAAd;cACA,OAAO,KAAKxB,WAAL,CAAiB0gB,wBAAjB,EAAP;YACD;;YAED,OAAO,KAAKQ,6BAAZ;UACD;;UAE+B,IAA5BT,4BAA4B,CAAC1I,OAAD,EAAU;YACxC,IAAI,EAAEA,OAAO,YAAYla,OAArB,CAAJ,EAAmC;cACjC,MAAM,IAAIoB,KAAJ,CAAW,yCAAwC8Y,OAAQ,EAA3D,CAAN;YACD;;YAED,IAAI,CAAC,KAAK/X,WAAV,EAAuB;cACrB;YACD;;YAED,IAAI,CAAC,KAAKkhB,6BAAV,EAAyC;cACvC;YACD;;YAED,KAAKA,6BAAL,GAAqCnJ,OAArC;YACA,MAAMoH,UAAU,GAAG;cACjBsB,4BAA4B,EAAE1I;YADb,CAAnB;;YAIA,KAAK,MAAMqG,QAAX,IAAuB,KAAKN,MAA5B,EAAoC;cAClCM,QAAQ,CAACrnB,MAAT,CAAgBooB,UAAhB;YACD;;YAED,KAAKpoB,MAAL;YACA,KAAKhB,QAAL,CAAcuN,QAAd,CAAuB,8BAAvB,EAAuD;cACrDC,MAAM,EAAE,IAD6C;cAErDwU;YAFqD,CAAvD;UAID;;UAEa,IAAVzE,UAAU,GAAG;YACf,OAAO,KAAKmG,WAAZ;UACD;;UAEa,IAAVnG,UAAU,CAACtP,IAAD,EAAO;YACnB,IAAI,KAAKyV,WAAL,KAAqBzV,IAAzB,EAA+B;cAC7B;YACD;;YAED,IAAI,CAAC,CAAC,GAAG5F,SAAS,CAACoJ,iBAAd,EAAiCxD,IAAjC,CAAL,EAA6C;cAC3C,MAAM,IAAI/E,KAAJ,CAAW,wBAAuB+E,IAAK,EAAvC,CAAN;YACD;;YAED,IAAI,KAAKzD,UAAL,GAAkBsZ,eAAe,CAACO,sBAAtC,EAA8D;cAC5D;YACD;;YAED,KAAK8I,mBAAL,GAA2B,KAAKzJ,WAAhC;YACA,KAAKA,WAAL,GAAmBzV,IAAnB;YACA,KAAKjO,QAAL,CAAcuN,QAAd,CAAuB,mBAAvB,EAA4C;cAC1CC,MAAM,EAAE,IADkC;cAE1CS;YAF0C,CAA5C;;YAKA,KAAK2V,iBAAL,CAAuB,KAAK0E,kBAA5B;UACD;;UAED1E,iBAAiB,CAAC1Y,UAAU,GAAG,IAAd,EAAoB;YACnC,MAAMqS,UAAU,GAAG,KAAKmG,WAAxB;YAAA,MACM9G,MAAM,GAAG,KAAKA,MADpB;YAEAA,MAAM,CAACjI,SAAP,CAAiBod,MAAjB,CAAwB,kBAAxB,EAA4CxU,UAAU,KAAKlV,SAAS,CAAC2H,UAAV,CAAqBmD,UAAhF;YACAyJ,MAAM,CAACjI,SAAP,CAAiBod,MAAjB,CAAwB,eAAxB,EAAyCxU,UAAU,KAAKlV,SAAS,CAAC2H,UAAV,CAAqBoD,OAA7E;;YAEA,IAAI,CAAC,KAAKnJ,WAAN,IAAqB,CAACiB,UAA1B,EAAsC;cACpC;YACD;;YAED,IAAIqS,UAAU,KAAKlV,SAAS,CAAC2H,UAAV,CAAqBqD,IAAxC,EAA8C;cAC5C,KAAK,CAACiZ,qBAAN;YACD,CAFD,MAEO,IAAI,KAAKa,mBAAL,KAA6B9kB,SAAS,CAAC2H,UAAV,CAAqBqD,IAAtD,EAA4D;cACjE,KAAKwQ,iBAAL;YACD;;YAED,IAAI,KAAKqF,kBAAL,IAA2BzM,KAAK,CAAC,KAAKyM,kBAAN,CAApC,EAA+D;cAC7D,KAAKF,SAAL,CAAe,KAAKE,kBAApB,EAAwC,IAAxC;YACD;;YAED,KAAKX,qBAAL,CAA2Brd,UAA3B,EAAuC,IAAvC;;YAEA,KAAKlK,MAAL;UACD;;UAEa,IAAVwc,UAAU,GAAG;YACf,OAAO,KAAKmG,WAAZ;UACD;;UAEa,IAAVnG,UAAU,CAACvP,IAAD,EAAO;YACnB,IAAI,KAAK0V,WAAL,KAAqB1V,IAAzB,EAA+B;cAC7B;YACD;;YAED,IAAI,CAAC,CAAC,GAAG5F,SAAS,CAACqJ,iBAAd,EAAiCzD,IAAjC,CAAL,EAA6C;cAC3C,MAAM,IAAI/E,KAAJ,CAAW,wBAAuB+E,IAAK,EAAvC,CAAN;YACD;;YAED,KAAK0V,WAAL,GAAmB1V,IAAnB;YACA,KAAKjO,QAAL,CAAcuN,QAAd,CAAuB,mBAAvB,EAA4C;cAC1CC,MAAM,EAAE,IADkC;cAE1CS;YAF0C,CAA5C;;YAKA,KAAK4V,iBAAL,CAAuB,KAAKyE,kBAA5B;UACD;;UAEDzE,iBAAiB,CAAC3Y,UAAU,GAAG,IAAd,EAAoB;YACnC,IAAI,CAAC,KAAKjB,WAAV,EAAuB;cACrB;YACD;;YAED,MAAM2S,MAAM,GAAG,KAAKA,MAApB;YAAA,MACM0Q,KAAK,GAAG,KAAKvF,MADnB;;YAGA,IAAI,KAAKrE,WAAL,KAAqBrb,SAAS,CAAC2H,UAAV,CAAqBqD,IAA9C,EAAoD;cAClD,KAAK,CAACiZ,qBAAN;YACD,CAFD,MAEO;cACL1P,MAAM,CAACqE,WAAP,GAAqB,EAArB;;cAEA,IAAI,KAAK0C,WAAL,KAAqBtb,SAAS,CAACyH,UAAV,CAAqBvH,IAA9C,EAAoD;gBAClD,KAAK,MAAM8f,QAAX,IAAuB,KAAKN,MAA5B,EAAoC;kBAClCnL,MAAM,CAACtb,MAAP,CAAc+mB,QAAQ,CAAC5nB,GAAvB;gBACD;cACF,CAJD,MAIO;gBACL,MAAMitB,MAAM,GAAG,KAAK/J,WAAL,GAAmB,CAAlC;gBACA,IAAIgK,MAAM,GAAG,IAAb;;gBAEA,KAAK,IAAIne,CAAC,GAAG,CAAR,EAAWwV,EAAE,GAAGsI,KAAK,CAACtlB,MAA3B,EAAmCwH,CAAC,GAAGwV,EAAvC,EAA2C,EAAExV,CAA7C,EAAgD;kBAC9C,IAAIme,MAAM,KAAK,IAAf,EAAqB;oBACnBA,MAAM,GAAGzsB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAT;oBACAwsB,MAAM,CAACvsB,SAAP,GAAmB,QAAnB;oBACAwb,MAAM,CAACtb,MAAP,CAAcqsB,MAAd;kBACD,CAJD,MAIO,IAAIne,CAAC,GAAG,CAAJ,KAAUke,MAAd,EAAsB;oBAC3BC,MAAM,GAAGA,MAAM,CAACqE,SAAP,CAAiB,KAAjB,CAAT;oBACApV,MAAM,CAACtb,MAAP,CAAcqsB,MAAd;kBACD;;kBAEDA,MAAM,CAACrsB,MAAP,CAAcgsB,KAAK,CAAC9d,CAAD,CAAL,CAAS/O,GAAvB;gBACD;cACF;YACF;;YAED,IAAI,CAACyK,UAAL,EAAiB;cACf;YACD;;YAED,IAAI,KAAKge,kBAAL,IAA2BzM,KAAK,CAAC,KAAKyM,kBAAN,CAApC,EAA+D;cAC7D,KAAKF,SAAL,CAAe,KAAKE,kBAApB,EAAwC,IAAxC;YACD;;YAED,KAAKX,qBAAL,CAA2Brd,UAA3B,EAAuC,IAAvC;;YAEA,KAAKlK,MAAL;UACD;;UAEDixB,eAAe,CAACvnB,iBAAD,EAAoB+d,QAAQ,GAAG,KAA/B,EAAsC;YACnD,QAAQ,KAAK/E,WAAb;cACE,KAAKrb,SAAS,CAAC2H,UAAV,CAAqBoD,OAA1B;gBACE;kBACE,MAAM;oBACJoF;kBADI,IAEF,KAAK2R,gBAAL,EAFJ;kBAAA,MAGM+H,UAAU,GAAG,IAAIxoB,GAAJ,EAHnB;;kBAKA,KAAK,MAAM;oBACT6Q,EADS;oBAETC,CAFS;oBAGTF,OAHS;oBAITG;kBAJS,CAAX,IAKKjC,KALL,EAKY;oBACV,IAAI8B,OAAO,KAAK,CAAZ,IAAiBG,YAAY,GAAG,GAApC,EAAyC;sBACvC;oBACD;;oBAED,IAAI0X,MAAM,GAAGD,UAAU,CAAChrB,GAAX,CAAesT,CAAf,CAAb;;oBAEA,IAAI,CAAC2X,MAAL,EAAa;sBACXD,UAAU,CAAChjB,GAAX,CAAesL,CAAf,EAAkB2X,MAAM,KAAK,EAA7B;oBACD;;oBAEDA,MAAM,CAACtmB,IAAP,CAAY0O,EAAZ;kBACD;;kBAED,KAAK,MAAM4X,MAAX,IAAqBD,UAAU,CAACpW,MAAX,EAArB,EAA0C;oBACxC,MAAMjF,YAAY,GAAGsb,MAAM,CAACtJ,OAAP,CAAene,iBAAf,CAArB;;oBAEA,IAAImM,YAAY,KAAK,CAAC,CAAtB,EAAyB;sBACvB;oBACD;;oBAED,MAAMpM,QAAQ,GAAG0nB,MAAM,CAACnqB,MAAxB;;oBAEA,IAAIyC,QAAQ,KAAK,CAAjB,EAAoB;sBAClB;oBACD;;oBAED,IAAIge,QAAJ,EAAc;sBACZ,KAAK,IAAIjZ,CAAC,GAAGqH,YAAY,GAAG,CAAvB,EAA0BmO,EAAE,GAAG,CAApC,EAAuCxV,CAAC,IAAIwV,EAA5C,EAAgDxV,CAAC,EAAjD,EAAqD;wBACnD,MAAM0gB,SAAS,GAAGiC,MAAM,CAAC3iB,CAAD,CAAxB;wBAAA,MACM4iB,UAAU,GAAGD,MAAM,CAAC3iB,CAAC,GAAG,CAAL,CAAN,GAAgB,CADnC;;wBAGA,IAAI0gB,SAAS,GAAGkC,UAAhB,EAA4B;0BAC1B,OAAO1nB,iBAAiB,GAAG0nB,UAA3B;wBACD;sBACF;oBACF,CATD,MASO;sBACL,KAAK,IAAI5iB,CAAC,GAAGqH,YAAY,GAAG,CAAvB,EAA0BmO,EAAE,GAAGva,QAApC,EAA8C+E,CAAC,GAAGwV,EAAlD,EAAsDxV,CAAC,EAAvD,EAA2D;wBACzD,MAAM0gB,SAAS,GAAGiC,MAAM,CAAC3iB,CAAD,CAAxB;wBAAA,MACM4iB,UAAU,GAAGD,MAAM,CAAC3iB,CAAC,GAAG,CAAL,CAAN,GAAgB,CADnC;;wBAGA,IAAI0gB,SAAS,GAAGkC,UAAhB,EAA4B;0BAC1B,OAAOA,UAAU,GAAG1nB,iBAApB;wBACD;sBACF;oBACF;;oBAED,IAAI+d,QAAJ,EAAc;sBACZ,MAAM4J,OAAO,GAAGF,MAAM,CAAC,CAAD,CAAtB;;sBAEA,IAAIE,OAAO,GAAG3nB,iBAAd,EAAiC;wBAC/B,OAAOA,iBAAiB,GAAG2nB,OAApB,GAA8B,CAArC;sBACD;oBACF,CAND,MAMO;sBACL,MAAMC,MAAM,GAAGH,MAAM,CAAC1nB,QAAQ,GAAG,CAAZ,CAArB;;sBAEA,IAAI6nB,MAAM,GAAG5nB,iBAAb,EAAgC;wBAC9B,OAAO4nB,MAAM,GAAG5nB,iBAAT,GAA6B,CAApC;sBACD;oBACF;;oBAED;kBACD;;kBAED;gBACD;;cAEH,KAAKrC,SAAS,CAAC2H,UAAV,CAAqBmD,UAA1B;gBACE;kBACE;gBACD;;cAEH,KAAK9K,SAAS,CAAC2H,UAAV,CAAqBqD,IAA1B;cACA,KAAKhL,SAAS,CAAC2H,UAAV,CAAqBkD,QAA1B;gBACE;kBACE,IAAI,KAAKyQ,WAAL,KAAqBtb,SAAS,CAACyH,UAAV,CAAqBvH,IAA9C,EAAoD;oBAClD;kBACD;;kBAED,MAAMmlB,MAAM,GAAG,KAAK/J,WAAL,GAAmB,CAAlC;;kBAEA,IAAI8E,QAAQ,IAAI/d,iBAAiB,GAAG,CAApB,KAA0BgjB,MAA1C,EAAkD;oBAChD;kBACD,CAFD,MAEO,IAAI,CAACjF,QAAD,IAAa/d,iBAAiB,GAAG,CAApB,KAA0BgjB,MAA3C,EAAmD;oBACxD;kBACD;;kBAED,MAAM;oBACJlV;kBADI,IAEF,KAAK2R,gBAAL,EAFJ;kBAAA,MAGMiI,UAAU,GAAG3J,QAAQ,GAAG/d,iBAAiB,GAAG,CAAvB,GAA2BA,iBAAiB,GAAG,CAH1E;;kBAKA,KAAK,MAAM;oBACT6P,EADS;oBAETD,OAFS;oBAGTG;kBAHS,CAAX,IAIKjC,KAJL,EAIY;oBACV,IAAI+B,EAAE,KAAK6X,UAAX,EAAuB;sBACrB;oBACD;;oBAED,IAAI9X,OAAO,GAAG,CAAV,IAAeG,YAAY,KAAK,GAApC,EAAyC;sBACvC,OAAO,CAAP;oBACD;;oBAED;kBACD;;kBAED;gBACD;YA1HL;;YA6HA,OAAO,CAAP;UACD;;UAED9L,QAAQ,GAAG;YACT,MAAMjE,iBAAiB,GAAG,KAAK4d,kBAA/B;YAAA,MACM9d,UAAU,GAAG,KAAKA,UADxB;;YAGA,IAAIE,iBAAiB,IAAIF,UAAzB,EAAqC;cACnC,OAAO,KAAP;YACD;;YAED,MAAM+nB,OAAO,GAAG,KAAKN,eAAL,CAAqBvnB,iBAArB,EAAwC,KAAxC,KAAkD,CAAlE;YACA,KAAKA,iBAAL,GAAyBsM,IAAI,CAACqF,GAAL,CAAS3R,iBAAiB,GAAG6nB,OAA7B,EAAsC/nB,UAAtC,CAAzB;YACA,OAAO,IAAP;UACD;;UAEDoE,YAAY,GAAG;YACb,MAAMlE,iBAAiB,GAAG,KAAK4d,kBAA/B;;YAEA,IAAI5d,iBAAiB,IAAI,CAAzB,EAA4B;cAC1B,OAAO,KAAP;YACD;;YAED,MAAM6nB,OAAO,GAAG,KAAKN,eAAL,CAAqBvnB,iBAArB,EAAwC,IAAxC,KAAiD,CAAjE;YACA,KAAKA,iBAAL,GAAyBsM,IAAI,CAACkD,GAAL,CAASxP,iBAAiB,GAAG6nB,OAA7B,EAAsC,CAAtC,CAAzB;YACA,OAAO,IAAP;UACD;;UAEDC,aAAa,CAACC,KAAK,GAAG,CAAT,EAAY;YACvB,IAAI1E,QAAQ,GAAG,KAAKhF,aAApB;;YAEA,GAAG;cACDgF,QAAQ,GAAG,CAACA,QAAQ,GAAG1lB,SAAS,CAACsI,mBAAtB,EAA2CqS,OAA3C,CAAmD,CAAnD,CAAX;cACA+K,QAAQ,GAAG/W,IAAI,CAAC0b,IAAL,CAAU3E,QAAQ,GAAG,EAArB,IAA2B,EAAtC;cACAA,QAAQ,GAAG/W,IAAI,CAACqF,GAAL,CAAShU,SAAS,CAACmI,SAAnB,EAA8Bud,QAA9B,CAAX;YACD,CAJD,QAIS,EAAE0E,KAAF,GAAU,CAAV,IAAe1E,QAAQ,GAAG1lB,SAAS,CAACmI,SAJ7C;;YAMA,KAAKyY,iBAAL,GAAyB8E,QAAzB;UACD;;UAED4E,aAAa,CAACF,KAAK,GAAG,CAAT,EAAY;YACvB,IAAI1E,QAAQ,GAAG,KAAKhF,aAApB;;YAEA,GAAG;cACDgF,QAAQ,GAAG,CAACA,QAAQ,GAAG1lB,SAAS,CAACsI,mBAAtB,EAA2CqS,OAA3C,CAAmD,CAAnD,CAAX;cACA+K,QAAQ,GAAG/W,IAAI,CAACC,KAAL,CAAW8W,QAAQ,GAAG,EAAtB,IAA4B,EAAvC;cACAA,QAAQ,GAAG/W,IAAI,CAACkD,GAAL,CAAS7R,SAAS,CAACkI,SAAnB,EAA8Bwd,QAA9B,CAAX;YACD,CAJD,QAIS,EAAE0E,KAAF,GAAU,CAAV,IAAe1E,QAAQ,GAAG1lB,SAAS,CAACkI,SAJ7C;;YAMA,KAAK0Y,iBAAL,GAAyB8E,QAAzB;UACD;;UAEDjG,wBAAwB,GAAG;YACzB,MAAMxP,MAAM,GAAG,KAAKuE,SAAL,CAAetI,YAA9B;;YAEA,IAAI+D,MAAM,KAAK,KAAK,CAACuN,uBAArB,EAA8C;cAC5C,KAAK,CAACA,uBAAN,GAAgCvN,MAAhC;;cAEAjQ,SAAS,CAAC8I,QAAV,CAAmBuL,WAAnB,CAA+B,2BAA/B,EAA6D,GAAEpE,MAAO,IAAtE;YACD;UACF;;UAEuB,IAApBiN,oBAAoB,GAAG;YACzB,OAAO,KAAK,CAACC,yBAAN,GAAkC,KAAK,CAACD,oBAAxC,GAA+DllB,SAAS,CAACokB,oBAAV,CAA+B1R,OAArG;UACD;;UAEuB,IAApBwS,oBAAoB,CAACtX,IAAD,EAAO;YAC7B,IAAI,CAAC,KAAK,CAACuX,yBAAX,EAAsC;cACpC,MAAM,IAAItc,KAAJ,CAAW,sCAAX,CAAN;YACD;;YAED,IAAI,KAAK,CAACqc,oBAAN,KAA+BtX,IAAnC,EAAyC;cACvC;YACD;;YAED,IAAI,CAACuW,2BAA2B,CAACvW,IAAD,CAAhC,EAAwC;cACtC,MAAM,IAAI/E,KAAJ,CAAW,kCAAiC+E,IAAK,EAAjD,CAAN;YACD;;YAED,IAAI,CAAC,KAAKhE,WAAV,EAAuB;cACrB;YACD;;YAED,KAAK,CAACsb,oBAAN,GAA6BtX,IAA7B;YACA,KAAKjO,QAAL,CAAcuN,QAAd,CAAuB,6BAAvB,EAAsD;cACpDC,MAAM,EAAE,IAD4C;cAEpDS;YAFoD,CAAtD;YAIA,KAAK,CAACuX,yBAAN,CAAgC6F,UAAhC,CAA2Cpd,IAA3C;UACD;;UAEyB,IAAtB2kB,sBAAsB,CAAC;YACzBC,IADyB;YAEzBr1B;UAFyB,CAAD,EAGvB;YACD,IAAI,CAAC,KAAK,CAACgoB,yBAAX,EAAsC;cACpC,MAAM,IAAItc,KAAJ,CAAW,sCAAX,CAAN;YACD;;YAED,KAAK,CAACsc,yBAAN,CAAgCsN,YAAhC,CAA6CD,IAA7C,EAAmDr1B,KAAnD;UACD;;UAEDu1B,OAAO,GAAG;YACR,IAAI,CAAC,KAAK9oB,WAAV,EAAuB;cACrB;YACD;;YAED,MAAMmf,UAAU,GAAG,EAAnB;;YAEA,KAAK,MAAMf,QAAX,IAAuB,KAAKN,MAA5B,EAAoC;cAClCM,QAAQ,CAACrnB,MAAT,CAAgBooB,UAAhB;YACD;;YAED,KAAKpoB,MAAL;UACD;;QAttDc;;QA0tDjBnE,OAAO,CAAC2mB,UAAR,GAAqBA,UAArB;QAEA;MAAO,CAl3H8B;MAm3HrC;;MACA;MAAO,CAACpmB,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACkvB,WAAR,GAAsB,KAAK,CAA3B;;QAEA,IAAI1rB,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIgL,SAAS,GAAGhL,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAI21B,YAAY,GAAG31B,mBAAmB,CAAC,EAAD,CAAtC;;QAEA,IAAIW,WAAW,GAAGX,mBAAmB,CAAC,CAAD,CAArC;;QAEA,IAAI41B,mBAAmB,GAAG51B,mBAAmB,CAAC,EAAD,CAA7C;;QAEA,MAAM61B,iBAAiB,GAAGF,YAAY,CAACG,mBAAb,CAAiCrM,eAAjC,IAAoD,QAA9E;;QAEA,MAAMiF,WAAN,CAAkB;UAChB,CAACtG,cAAD,GAAkBplB,SAAS,CAACqlB,cAAV,CAAyBC,YAA3C;UACA,CAACyN,kBAAD,GAAsB;YACpBC,sBAAsB,EAAE,IADJ;YAEpBC,kBAAkB,EAAE;UAFA,CAAtB;;UAKAhzB,WAAW,CAACC,OAAD,EAAU;YACnB,MAAMsc,SAAS,GAAGtc,OAAO,CAACsc,SAA1B;YACA,MAAMmP,eAAe,GAAGzrB,OAAO,CAACyrB,eAAhC;YACA,KAAKzR,EAAL,GAAUha,OAAO,CAACga,EAAlB;YACA,KAAKgZ,WAAL,GAAmB,SAAS,KAAKhZ,EAAjC;YACA,KAAKhc,OAAL,GAAe,IAAf;YACA,KAAKmqB,SAAL,GAAiB,IAAjB;YACA,KAAK/d,QAAL,GAAgB,CAAhB;YACA,KAAK4gB,KAAL,GAAahrB,OAAO,CAACgrB,KAAR,IAAiBljB,SAAS,CAACuI,aAAxC;YACA,KAAK9Q,QAAL,GAAgBksB,eAAhB;YACA,KAAKwH,aAAL,GAAqBxH,eAAe,CAACrhB,QAArC;YACA,KAAKwgB,6BAAL,GAAqC5qB,OAAO,CAACmqB,4BAAR,IAAwC,IAA7E;YACA,KAAK+I,oBAAL,GAA4B,KAA5B;YACA,KAAK/M,aAAL,GAAqBnmB,OAAO,CAACmmB,aAAR,IAAyBre,SAAS,CAACwH,aAAV,CAAwBmD,MAAtE;YACA,KAAK,CAACyS,cAAN,GAAuBllB,OAAO,CAACklB,cAAR,IAA0BplB,SAAS,CAACqlB,cAAV,CAAyBC,YAA1E;YACA,KAAKlnB,kBAAL,GAA0B8B,OAAO,CAAC9B,kBAAR,IAA8B,EAAxD;YACA,KAAKooB,cAAL,GAAsBtmB,OAAO,CAACsmB,cAAR,IAA0B,KAAhD;YACA,KAAKC,eAAL,GAAuBvmB,OAAO,CAACumB,eAAR,IAA2BoM,iBAAlD;YACA,KAAKnM,UAAL,GAAkBxmB,OAAO,CAACwmB,UAAR,IAAsB,IAAxC;YACA,KAAK/mB,QAAL,GAAgBO,OAAO,CAACP,QAAxB;YACA,KAAKsnB,cAAL,GAAsB/mB,OAAO,CAAC+mB,cAA9B;YACA,KAAKqE,gBAAL,GAAwBprB,OAAO,CAACorB,gBAAhC;YACA,KAAKC,sBAAL,GAA8BrrB,OAAO,CAACqrB,sBAAtC;YACA,KAAKE,4BAAL,GAAoCvrB,OAAO,CAACurB,4BAA5C;YACA,KAAKD,eAAL,GAAuBtrB,OAAO,CAACsrB,eAA/B;YACA,KAAK6H,eAAL,GAAuBnzB,OAAO,CAAC0rB,sBAAR,EAAgCwF,qBAAhC,CAAsD;cAC3E5xB,SAAS,EAAE,KAAK0a,EAAL,GAAU,CADsD;cAE3Eva,QAAQ,EAAE,KAAKA;YAF4D,CAAtD,CAAvB;YAIA,KAAKksB,sBAAL,GAA8B3rB,OAAO,CAAC2rB,sBAAtC;YACA,KAAKtF,QAAL,GAAgBrmB,OAAO,CAACqmB,QAAR,IAAoBve,SAAS,CAAC8H,YAAV,CAAuB0C,MAA3D;YACA,KAAKlU,IAAL,GAAY4B,OAAO,CAAC5B,IAAR,IAAgBX,WAAW,CAACY,QAAxC;YACA,KAAK+0B,SAAL,GAAiB,IAAjB;YACA,KAAKC,kBAAL,GAA0B,IAAIC,OAAJ,EAA1B;YACA,KAAKjD,cAAL,GAAsBvoB,SAAS,CAAC6H,eAAV,CAA0B+B,OAAhD;YACA,KAAK6hB,MAAL,GAAc,IAAd;YACA,KAAKC,YAAL,GAAoB,IAApB;YACA,KAAKC,aAAL,GAAqB,CAAC,KAAK1M,cAAL,EAAqB2M,SAArB,EAAtB;YACA,KAAKvsB,oBAAL,GAA4B,IAA5B;YACA,KAAKwsB,eAAL,GAAuB,IAAvB;YACA,KAAK1zB,qBAAL,GAA6B,IAA7B;YACA,KAAK2zB,SAAL,GAAiB,IAAjB;YACA,KAAKC,SAAL,GAAiB,IAAjB;YACA,KAAKC,QAAL,GAAgB,IAAhB;YACA,KAAKC,eAAL,GAAuB,IAAvB;YACA,MAAM7zB,GAAG,GAAGS,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;YACAV,GAAG,CAACW,SAAJ,GAAgB,MAAhB;YACAX,GAAG,CAACyb,KAAJ,CAAU7D,KAAV,GAAkBrB,IAAI,CAACC,KAAL,CAAW,KAAKnX,QAAL,CAAcuY,KAAzB,IAAkC,IAApD;YACA5X,GAAG,CAACyb,KAAJ,CAAU5D,MAAV,GAAmBtB,IAAI,CAACC,KAAL,CAAW,KAAKnX,QAAL,CAAcwY,MAAzB,IAAmC,IAAtD;YACA7X,GAAG,CAACggB,YAAJ,CAAiB,kBAAjB,EAAqC,KAAKlG,EAA1C;YACA9Z,GAAG,CAACggB,YAAJ,CAAiB,MAAjB,EAAyB,QAAzB;YACA,KAAK9hB,IAAL,CAAUuI,GAAV,CAAc,eAAd,EAA+B;cAC7Be,IAAI,EAAE,KAAKsS;YADkB,CAA/B,EAEGlP,IAFH,CAEQkpB,GAAG,IAAI;cACb9zB,GAAG,CAACggB,YAAJ,CAAiB,YAAjB,EAA+B8T,GAA/B;YACD,CAJD;YAKA,KAAK9zB,GAAL,GAAWA,GAAX;YACAoc,SAAS,EAAEvb,MAAX,CAAkBb,GAAlB;;YAEA,IAAI,KAAKuzB,aAAT,EAAwB;cACtB,MAAM;gBACJtJ;cADI,IAEFnqB,OAFJ;;cAIA,IAAImqB,4BAAJ,EAAkC;gBAChCA,4BAA4B,CAACrf,IAA7B,CAAkCmpB,qBAAqB,IAAI;kBACzD,IAAI9J,4BAA4B,KAAK,KAAKS,6BAA1C,EAAyE;oBACvE;kBACD;;kBAED,KAAK,CAACiI,kBAAN,CAAyBC,sBAAzB,GAAkDmB,qBAAqB,CAACC,oBAAxE;gBACD,CAND;cAOD;YACF;UACF;;UAEDrI,UAAU,CAAC7tB,OAAD,EAAU;YAClB,KAAKA,OAAL,GAAeA,OAAf;YACA,KAAKi1B,aAAL,GAAqBj1B,OAAO,CAACwZ,MAA7B;YACA,MAAM2c,aAAa,GAAG,CAAC,KAAK/pB,QAAL,GAAgB,KAAK6oB,aAAtB,IAAuC,GAA7D;YACA,KAAK1zB,QAAL,GAAgBvB,OAAO,CAACitB,WAAR,CAAoB;cAClCD,KAAK,EAAE,KAAKA,KAAL,GAAalrB,SAAS,CAACorB,aAAV,CAAwBC,gBADV;cAElC/gB,QAAQ,EAAE+pB;YAFwB,CAApB,CAAhB;YAIA,KAAK7D,KAAL;UACD;;UAEDjvB,OAAO,GAAG;YACR,KAAKivB,KAAL;;YAEA,IAAI,KAAKtyB,OAAT,EAAkB;cAChB,KAAKA,OAAL,CAAaoyB,OAAb;YACD;UACF;;UAEKgE,sBAAsB,GAAG;YAAA;;YAAA;cAC7B,IAAIlpB,KAAK,GAAG,IAAZ;;cAEA,IAAI;gBACF,MAAM,MAAI,CAACyoB,eAAL,CAAqBvzB,MAArB,CAA4B,MAAI,CAACb,QAAjC,EAA2C,SAA3C,CAAN;cACD,CAFD,CAEE,OAAOuO,EAAP,EAAW;gBACX7C,OAAO,CAACC,KAAR,CAAe,4BAA2B4C,EAAG,IAA7C;gBACA5C,KAAK,GAAG4C,EAAR;cACD,CALD,SAKU;gBACR,MAAI,CAACrO,QAAL,CAAcuN,QAAd,CAAuB,yBAAvB,EAAkD;kBAChDC,MAAM,EAAE,MADwC;kBAEhDtC,UAAU,EAAE,MAAI,CAACqP,EAF+B;kBAGhD9O;gBAHgD,CAAlD;cAKD;YAd4B;UAe9B;;UAEKmpB,4BAA4B,GAAG;YAAA;;YAAA;cACnC,IAAInpB,KAAK,GAAG,IAAZ;;cAEA,IAAI;gBACF,MAAM,MAAI,CAACjL,qBAAL,CAA2BG,MAA3B,CAAkC,MAAI,CAACb,QAAvC,EAAiD,SAAjD,CAAN;cACD,CAFD,CAEE,OAAOuO,EAAP,EAAW;gBACX7C,OAAO,CAACC,KAAR,CAAe,kCAAiC4C,EAAG,IAAnD;gBACA5C,KAAK,GAAG4C,EAAR;cACD,CALD,SAKU;gBACR,MAAI,CAACrO,QAAL,CAAcuN,QAAd,CAAuB,+BAAvB,EAAwD;kBACtDC,MAAM,EAAE,MAD8C;kBAEtDtC,UAAU,EAAE,MAAI,CAACqP,EAFqC;kBAGtD9O;gBAHsD,CAAxD;cAKD;YAdkC;UAepC;;UAEKopB,eAAe,GAAG;YAAA;;YAAA;cACtB,IAAIppB,KAAK,GAAG,IAAZ;;cAEA,IAAI;gBACF,MAAMiM,MAAM,SAAS,MAAI,CAAC2c,QAAL,CAAc1zB,MAAd,CAAqB,MAAI,CAACb,QAA1B,EAAoC,SAApC,CAArB;;gBAEA,IAAI,MAAI,CAAC4zB,eAAT,EAA0B;kBACxB,MAAI,CAACoB,yBAAL,CAA+Bpd,MAAM,CAAC2J,QAAtC;gBACD;cACF,CAND,CAME,OAAOhT,EAAP,EAAW;gBACX7C,OAAO,CAACC,KAAR,CAAe,qBAAoB4C,EAAG,IAAtC;gBACA5C,KAAK,GAAG4C,EAAR;cACD,CATD,SASU;gBACR,MAAI,CAACrO,QAAL,CAAcuN,QAAd,CAAuB,kBAAvB,EAA2C;kBACzCC,MAAM,EAAE,MADiC;kBAEzCtC,UAAU,EAAE,MAAI,CAACqP,EAFwB;kBAGzC9O;gBAHyC,CAA3C;cAKD;YAlBqB;UAmBvB;;UAEKqpB,yBAAyB,CAACzT,QAAD,EAAW;YAAA;;YAAA;cACxC,MAAMza,IAAI,SAAS,MAAI,CAACrI,OAAL,CAAaw2B,cAAb,EAAnB;cACA,MAAMve,KAAK,GAAG,EAAd;;cAEA,KAAK,MAAMwe,IAAX,IAAmBpuB,IAAI,CAAC4P,KAAxB,EAA+B;gBAC7BA,KAAK,CAAC3K,IAAN,CAAWmpB,IAAI,CAACnoB,GAAhB;cACD;;cAED,MAAI,CAAC6mB,eAAL,CAAqB9R,cAArB,CAAoCP,QAApC,EAA8C7K,KAA9C;;cACA,MAAI,CAACkd,eAAL,CAAqBzR,MAArB;YATwC;UAUzC;;UAEDgT,eAAe,CAACC,aAAa,GAAG,KAAjB,EAAwB;YACrC,IAAI,CAAC,KAAKd,SAAV,EAAqB;cACnB;YACD;;YAED,MAAMe,eAAe,GAAG,KAAKf,SAAL,CAAegB,UAAvC;YACA,KAAKxB,kBAAL,CAAwBjP,MAAxB,CAA+BwQ,eAA/B;YACAA,eAAe,CAAC9c,KAAhB,GAAwB,CAAxB;YACA8c,eAAe,CAAC7c,MAAhB,GAAyB,CAAzB;;YAEA,IAAI4c,aAAJ,EAAmB;cACjB,KAAKd,SAAL,CAAeryB,MAAf;YACD;;YAED,KAAKqyB,SAAL,GAAiB,IAAjB;UACD;;UAEDvD,KAAK,CAAC;YACJwE,aAAa,GAAG,KADZ;YAEJC,mBAAmB,GAAG,KAFlB;YAGJC,yBAAyB,GAAG,KAHxB;YAIJC,YAAY,GAAG;UAJX,IAKF,EALC,EAKG;YACN,KAAK1E,eAAL,CAAqB;cACnBwE,mBADmB;cAEnBC,yBAFmB;cAGnBC;YAHmB,CAArB;YAKA,KAAK5E,cAAL,GAAsBvoB,SAAS,CAAC6H,eAAV,CAA0B+B,OAAhD;YACA,MAAMxR,GAAG,GAAG,KAAKA,GAAjB;YACAA,GAAG,CAACyb,KAAJ,CAAU7D,KAAV,GAAkBrB,IAAI,CAACC,KAAL,CAAW,KAAKnX,QAAL,CAAcuY,KAAzB,IAAkC,IAApD;YACA5X,GAAG,CAACyb,KAAJ,CAAU5D,MAAV,GAAmBtB,IAAI,CAACC,KAAL,CAAW,KAAKnX,QAAL,CAAcwY,MAAzB,IAAmC,IAAtD;YACA,MAAMmd,UAAU,GAAGh1B,GAAG,CAACg1B,UAAvB;YAAA,MACMC,aAAa,GAAGL,aAAa,IAAI,KAAKjB,SAAtB,IAAmC,IADzD;YAAA,MAEMuB,mBAAmB,GAAGL,mBAAmB,IAAI,KAAKpB,eAAL,EAAsBzzB,GAA7C,IAAoD,IAFhF;YAAA,MAGMm1B,yBAAyB,GAAGL,yBAAyB,IAAI,KAAK/0B,qBAAL,EAA4BC,GAAzD,IAAgE,IAHlG;YAAA,MAIMo1B,YAAY,GAAGL,YAAY,IAAI,KAAKnB,QAAL,EAAe5zB,GAA/B,IAAsC,IAJ3D;;YAMA,KAAK,IAAI+O,CAAC,GAAGimB,UAAU,CAACztB,MAAX,GAAoB,CAAjC,EAAoCwH,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD;cAC/C,MAAMmR,IAAI,GAAG8U,UAAU,CAACjmB,CAAD,CAAvB;;cAEA,QAAQmR,IAAR;gBACE,KAAK+U,aAAL;gBACA,KAAKC,mBAAL;gBACA,KAAKC,yBAAL;gBACA,KAAKC,YAAL;kBACE;cALJ;;cAQAlV,IAAI,CAAC5e,MAAL;YACD;;YAEDtB,GAAG,CAAC8sB,eAAJ,CAAoB,aAApB;;YAEA,IAAIoI,mBAAJ,EAAyB;cACvB,KAAKzB,eAAL,CAAqBryB,IAArB;YACD;;YAED,IAAI+zB,yBAAJ,EAA+B;cAC7B,KAAKp1B,qBAAL,CAA2BqB,IAA3B;YACD,CAFD,MAEO;cACL,KAAKrB,qBAAL,EAA4BoB,OAA5B;YACD;;YAED,IAAIi0B,YAAJ,EAAkB;cAChB,KAAKxB,QAAL,CAAcxyB,IAAd;YACD;;YAED,IAAI,CAAC6zB,aAAL,EAAoB;cAClB,IAAI,KAAKI,MAAT,EAAiB;gBACf,KAAKlC,kBAAL,CAAwBjP,MAAxB,CAA+B,KAAKmR,MAApC;gBACA,KAAKA,MAAL,CAAYzd,KAAZ,GAAoB,CAApB;gBACA,KAAKyd,MAAL,CAAYxd,MAAZ,GAAqB,CAArB;gBACA,OAAO,KAAKwd,MAAZ;cACD;;cAED,KAAKb,eAAL;YACD;;YAED,IAAI,KAAKc,GAAT,EAAc;cACZ,KAAKnC,kBAAL,CAAwBjP,MAAxB,CAA+B,KAAKoR,GAApC;cACA,OAAO,KAAKA,GAAZ;YACD;;YAED,KAAKC,cAAL,GAAsB90B,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;YACA,KAAK60B,cAAL,CAAoB50B,SAApB,GAAgC,wBAAhC;;YAEA,IAAI,KAAK4yB,aAAT,EAAwB;cACtB,KAAK/C,wBAAL,CAA8B,IAA9B;YACD;;YAED,KAAK+E,cAAL,CAAoBvV,YAApB,CAAiC,MAAjC,EAAyC,KAAzC;YACA,KAAK9hB,IAAL,CAAUuI,GAAV,CAAc,SAAd,EAAyBmE,IAAzB,CAA8BkpB,GAAG,IAAI;cACnC,KAAKyB,cAAL,EAAqBvV,YAArB,CAAkC,YAAlC,EAAgD8T,GAAhD;YACD,CAFD;YAGA9zB,GAAG,CAACa,MAAJ,CAAW,KAAK00B,cAAhB;UACD;;UAEDh1B,MAAM,CAAC;YACLuqB,KAAK,GAAG,CADH;YAEL5gB,QAAQ,GAAG,IAFN;YAGL+f,4BAA4B,GAAG;UAH1B,CAAD,EAIH;YACD,KAAKa,KAAL,GAAaA,KAAK,IAAI,KAAKA,KAA3B;;YAEA,IAAI,OAAO5gB,QAAP,KAAoB,QAAxB,EAAkC;cAChC,KAAKA,QAAL,GAAgBA,QAAhB;YACD;;YAED,IAAI+f,4BAA4B,YAAY5iB,OAA5C,EAAqD;cACnD,KAAKqjB,6BAAL,GAAqCT,4BAArC;cACAA,4BAA4B,CAACrf,IAA7B,CAAkCmpB,qBAAqB,IAAI;gBACzD,IAAI9J,4BAA4B,KAAK,KAAKS,6BAA1C,EAAyE;kBACvE;gBACD;;gBAED,KAAK,CAACiI,kBAAN,CAAyBC,sBAAzB,GAAkDmB,qBAAqB,CAACC,oBAAxE;cACD,CAND;YAOD;;YAED,MAAMC,aAAa,GAAG,CAAC,KAAK/pB,QAAL,GAAgB,KAAK6oB,aAAtB,IAAuC,GAA7D;YACA,KAAK1zB,QAAL,GAAgB,KAAKA,QAAL,CAAcgB,KAAd,CAAoB;cAClCyqB,KAAK,EAAE,KAAKA,KAAL,GAAalrB,SAAS,CAACorB,aAAV,CAAwBC,gBADV;cAElC/gB,QAAQ,EAAE+pB;YAFwB,CAApB,CAAhB;;YAKA,IAAI,KAAKV,aAAT,EAAwB;cACtB3rB,SAAS,CAAC8I,QAAV,CAAmBuL,WAAnB,CAA+B,gBAA/B,EAAiD,KAAK5c,QAAL,CAAcyrB,KAA/D;YACD;;YAED,IAAI,KAAKwK,GAAT,EAAc;cACZ,KAAKhL,YAAL,CAAkB;gBAChBhiB,MAAM,EAAE,KAAKgtB,GADG;gBAEhBE,qBAAqB,EAAE,IAFP;gBAGhBC,2BAA2B,EAAE,IAHb;gBAIhBC,cAAc,EAAE;cAJA,CAAlB;cAMA,KAAKn2B,QAAL,CAAcuN,QAAd,CAAuB,cAAvB,EAAuC;gBACrCC,MAAM,EAAE,IAD6B;gBAErCtC,UAAU,EAAE,KAAKqP,EAFoB;gBAGrCwQ,YAAY,EAAE,IAHuB;gBAIrCC,SAAS,EAAEoL,WAAW,CAACC,GAAZ,EAJ0B;gBAKrC5qB,KAAK,EAAE,KAAKsoB;cALyB,CAAvC;cAOA;YACD;;YAED,IAAIuC,mBAAmB,GAAG,KAA1B;;YAEA,IAAI,KAAKR,MAAL,IAAe,KAAKhP,eAAL,GAAuB,CAA1C,EAA6C;cAC3C,MAAMyP,WAAW,GAAG,KAAKA,WAAzB;;cAEA,IAAI,CAACvf,IAAI,CAACC,KAAL,CAAW,KAAKnX,QAAL,CAAcuY,KAAzB,IAAkCke,WAAW,CAAC7iB,EAA9C,GAAmD,CAApD,KAA0DsD,IAAI,CAACC,KAAL,CAAW,KAAKnX,QAAL,CAAcwY,MAAzB,IAAmCie,WAAW,CAAC5iB,EAA/C,GAAoD,CAA9G,IAAmH,KAAKmT,eAA5H,EAA6I;gBAC3IwP,mBAAmB,GAAG,IAAtB;cACD;YACF;;YAED,IAAI,KAAKR,MAAT,EAAiB;cACf,IAAI,KAAKjP,cAAL,IAAuB,KAAK4M,oBAAL,IAA6B6C,mBAAxD,EAA6E;gBAC3E,KAAKvL,YAAL,CAAkB;kBAChBhiB,MAAM,EAAE,KAAK+sB,MADG;kBAEhBG,qBAAqB,EAAE,IAFP;kBAGhBC,2BAA2B,EAAE,IAHb;kBAIhBC,cAAc,EAAE;gBAJA,CAAlB;gBAMA,KAAKn2B,QAAL,CAAcuN,QAAd,CAAuB,cAAvB,EAAuC;kBACrCC,MAAM,EAAE,IAD6B;kBAErCtC,UAAU,EAAE,KAAKqP,EAFoB;kBAGrCwQ,YAAY,EAAE,IAHuB;kBAIrCC,SAAS,EAAEoL,WAAW,CAACC,GAAZ,EAJ0B;kBAKrC5qB,KAAK,EAAE,KAAKsoB;gBALyB,CAAvC;gBAOA;cACD;;cAED,IAAI,CAAC,KAAKK,SAAN,IAAmB,CAAC,KAAK0B,MAAL,CAAYh0B,MAApC,EAA4C;gBAC1C,KAAKsyB,SAAL,GAAiB,KAAK0B,MAAL,CAAYhZ,UAA7B;gBACA,KAAKsX,SAAL,CAAelY,KAAf,CAAqBmK,QAArB,GAAgC,UAAhC;cACD;YACF;;YAED,IAAI,KAAK+N,SAAT,EAAoB;cAClB,KAAKrJ,YAAL,CAAkB;gBAChBhiB,MAAM,EAAE,KAAKqrB,SAAL,CAAegB;cADP,CAAlB;YAGD;;YAED,KAAKvE,KAAL,CAAW;cACTwE,aAAa,EAAE,IADN;cAETC,mBAAmB,EAAE,IAFZ;cAGTC,yBAAyB,EAAE,IAHlB;cAITC,YAAY,EAAE;YAJL,CAAX;UAMD;;UAED1E,eAAe,CAAC;YACdwE,mBAAmB,GAAG,KADR;YAEdC,yBAAyB,GAAG,KAFd;YAGdC,YAAY,GAAG;UAHD,IAIZ,EAJW,EAIP;YACN,IAAI,KAAK7B,SAAT,EAAoB;cAClB,KAAKA,SAAL,CAAehyB,MAAf;cACA,KAAKgyB,SAAL,GAAiB,IAAjB;YACD;;YAED,KAAKG,MAAL,GAAc,IAAd;;YAEA,IAAI,KAAKK,SAAT,EAAoB;cAClB,KAAKA,SAAL,CAAexyB,MAAf;cACA,KAAKwyB,SAAL,GAAiB,IAAjB;YACD;;YAED,IAAI,KAAKD,eAAL,KAAyB,CAACoB,mBAAD,IAAwB,CAAC,KAAKpB,eAAL,CAAqBzzB,GAAvE,CAAJ,EAAiF;cAC/E,KAAKyzB,eAAL,CAAqBvyB,MAArB;cACA,KAAKuyB,eAAL,GAAuB,IAAvB;cACA,KAAKxsB,oBAAL,GAA4B,IAA5B;YACD;;YAED,IAAI,KAAKlH,qBAAL,KAA+B,CAAC+0B,yBAAD,IAA8B,CAAC,KAAK/0B,qBAAL,CAA2BC,GAAzF,CAAJ,EAAmG;cACjG,KAAKD,qBAAL,CAA2BmB,MAA3B;cACA,KAAKnB,qBAAL,GAA6B,IAA7B;YACD;;YAED,IAAI,KAAK6zB,QAAL,KAAkB,CAACmB,YAAD,IAAiB,CAAC,KAAKnB,QAAL,CAAc5zB,GAAlD,CAAJ,EAA4D;cAC1D,KAAK4zB,QAAL,CAAc1yB,MAAd;cACA,KAAK0yB,QAAL,GAAgB,IAAhB;cACA,KAAKX,eAAL,EAAsBvR,OAAtB;YACD;;YAED,IAAI,KAAKqU,oBAAT,EAA+B;cAC7B,KAAKx2B,QAAL,CAAcirB,IAAd,CAAmB,mBAAnB,EAAwC,KAAKuL,oBAA7C;;cAEA,KAAKA,oBAAL,GAA4B,IAA5B;YACD;UACF;;UAEDzL,YAAY,CAAC;YACXhiB,MADW;YAEXktB,qBAAqB,GAAG,KAFb;YAGXC,2BAA2B,GAAG,KAHnB;YAIXC,cAAc,GAAG;UAJN,CAAD,EAKT;YACD,MAAM9d,KAAK,GAAG,KAAKvY,QAAL,CAAcuY,KAA5B;YACA,MAAMC,MAAM,GAAG,KAAKxY,QAAL,CAAcwY,MAA7B;YACA,MAAM7X,GAAG,GAAG,KAAKA,GAAjB;YACAsI,MAAM,CAACmT,KAAP,CAAa7D,KAAb,GAAqBtP,MAAM,CAAC+T,UAAP,CAAkBZ,KAAlB,CAAwB7D,KAAxB,GAAgC5X,GAAG,CAACyb,KAAJ,CAAU7D,KAAV,GAAkBrB,IAAI,CAACC,KAAL,CAAWoB,KAAX,IAAoB,IAA3F;YACAtP,MAAM,CAACmT,KAAP,CAAa5D,MAAb,GAAsBvP,MAAM,CAAC+T,UAAP,CAAkBZ,KAAlB,CAAwB5D,MAAxB,GAAiC7X,GAAG,CAACyb,KAAJ,CAAU5D,MAAV,GAAmBtB,IAAI,CAACC,KAAL,CAAWqB,MAAX,IAAqB,IAA/F;YACA,MAAMme,gBAAgB,GAAG,KAAK32B,QAAL,CAAc6K,QAAd,GAAyB,KAAKipB,kBAAL,CAAwB1sB,GAAxB,CAA4B6B,MAA5B,EAAoC4B,QAAtF;YACA,MAAM+rB,WAAW,GAAG1f,IAAI,CAACgE,GAAL,CAASyb,gBAAT,CAApB;YACA,IAAIE,MAAM,GAAG,CAAb;YAAA,IACIC,MAAM,GAAG,CADb;;YAGA,IAAIF,WAAW,KAAK,EAAhB,IAAsBA,WAAW,KAAK,GAA1C,EAA+C;cAC7CC,MAAM,GAAGre,MAAM,GAAGD,KAAlB;cACAue,MAAM,GAAGve,KAAK,GAAGC,MAAjB;YACD;;YAEDvP,MAAM,CAACmT,KAAP,CAAa2a,SAAb,GAA0B,UAASJ,gBAAiB,cAAaE,MAAO,KAAIC,MAAO,GAAnF;;YAEA,IAAI,KAAKzC,SAAT,EAAoB;cAClB,MAAM2C,iBAAiB,GAAG,KAAK3C,SAAL,CAAer0B,QAAzC;cACA,MAAMi3B,oBAAoB,GAAG,KAAKj3B,QAAL,CAAc6K,QAAd,GAAyBmsB,iBAAiB,CAACnsB,QAAxE;cACA,MAAMqsB,eAAe,GAAGhgB,IAAI,CAACgE,GAAL,CAAS+b,oBAAT,CAAxB;cACA,IAAIxL,KAAK,GAAGlT,KAAK,GAAGye,iBAAiB,CAACze,KAAtC;;cAEA,IAAI2e,eAAe,KAAK,EAApB,IAA0BA,eAAe,KAAK,GAAlD,EAAuD;gBACrDzL,KAAK,GAAGlT,KAAK,GAAGye,iBAAiB,CAACxe,MAAlC;cACD;;cAED,MAAM1Y,YAAY,GAAG,KAAKu0B,SAAL,CAAev0B,YAApC;cACA,IAAIq3B,MAAJ,EAAYC,MAAZ;;cAEA,QAAQF,eAAR;gBACE,KAAK,CAAL;kBACEC,MAAM,GAAGC,MAAM,GAAG,CAAlB;kBACA;;gBAEF,KAAK,EAAL;kBACED,MAAM,GAAG,CAAT;kBACAC,MAAM,GAAG,MAAMt3B,YAAY,CAACsc,KAAb,CAAmB5D,MAAlC;kBACA;;gBAEF,KAAK,GAAL;kBACE2e,MAAM,GAAG,MAAMr3B,YAAY,CAACsc,KAAb,CAAmB7D,KAAlC;kBACA6e,MAAM,GAAG,MAAMt3B,YAAY,CAACsc,KAAb,CAAmB5D,MAAlC;kBACA;;gBAEF,KAAK,GAAL;kBACE2e,MAAM,GAAG,MAAMr3B,YAAY,CAACsc,KAAb,CAAmB7D,KAAlC;kBACA6e,MAAM,GAAG,CAAT;kBACA;;gBAEF;kBACE1rB,OAAO,CAACC,KAAR,CAAc,qBAAd;kBACA;cAtBJ;;cAyBA7L,YAAY,CAACsc,KAAb,CAAmB2a,SAAnB,GAAgC,UAASG,eAAgB,OAA1B,GAAoC,SAAQzL,KAAM,IAAlD,GAAyD,aAAY0L,MAAO,KAAIC,MAAO,GAAtH;cACAt3B,YAAY,CAACsc,KAAb,CAAmBib,eAAnB,GAAqC,OAArC;YACD;;YAED,IAAIlB,qBAAqB,IAAI,KAAK/B,eAAlC,EAAmD;cACjD,KAAKS,sBAAL;YACD;;YAED,IAAIuB,2BAA2B,IAAI,KAAK11B,qBAAxC,EAA+D;cAC7D,KAAKo0B,4BAAL;YACD;;YAED,IAAIuB,cAAc,IAAI,KAAK9B,QAA3B,EAAqC;cACnC,KAAKQ,eAAL;YACD;UACF;;UAEQ,IAALxc,KAAK,GAAG;YACV,OAAO,KAAKvY,QAAL,CAAcuY,KAArB;UACD;;UAES,IAANC,MAAM,GAAG;YACX,OAAO,KAAKxY,QAAL,CAAcwY,MAArB;UACD;;UAEDmX,YAAY,CAAC1Y,CAAD,EAAIyD,CAAJ,EAAO;YACjB,OAAO,KAAK1a,QAAL,CAAcs3B,iBAAd,CAAgCrgB,CAAhC,EAAmCyD,CAAnC,CAAP;UACD;;UAEDyW,wBAAwB,CAACoG,WAAW,GAAG,KAAf,EAAsB;YAC5C,KAAKrB,cAAL,EAAqBrhB,SAArB,CAA+Bod,MAA/B,CAAsC,YAAtC,EAAoD,CAACsF,WAArD;UACD;;UAEDC,IAAI,GAAG;YAAA;;YACL,IAAI,KAAK1G,cAAL,KAAwBvoB,SAAS,CAAC6H,eAAV,CAA0B+B,OAAtD,EAA+D;cAC7DzG,OAAO,CAACC,KAAR,CAAc,qCAAd;cACA,KAAKolB,KAAL;YACD;;YAED,MAAM;cACJpwB,GADI;cAEJlC;YAFI,IAGF,IAHJ;;YAKA,IAAI,CAACA,OAAL,EAAc;cACZ,KAAKqyB,cAAL,GAAsBvoB,SAAS,CAAC6H,eAAV,CAA0BkC,QAAhD;;cAEA,IAAI,KAAK4jB,cAAT,EAAyB;gBACvB,KAAKA,cAAL,CAAoBj0B,MAApB;gBACA,OAAO,KAAKi0B,cAAZ;cACD;;cAED,OAAOluB,OAAO,CAAC+kB,MAAR,CAAe,IAAI3jB,KAAJ,CAAU,uBAAV,CAAf,CAAP;YACD;;YAED,KAAK0nB,cAAL,GAAsBvoB,SAAS,CAAC6H,eAAV,CAA0BgC,OAAhD;YACA,MAAMqlB,aAAa,GAAGr2B,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;YACAo2B,aAAa,CAACrb,KAAd,CAAoB7D,KAApB,GAA4B5X,GAAG,CAACyb,KAAJ,CAAU7D,KAAtC;YACAkf,aAAa,CAACrb,KAAd,CAAoB5D,MAApB,GAA6B7X,GAAG,CAACyb,KAAJ,CAAU5D,MAAvC;YACAif,aAAa,CAAC5iB,SAAd,CAAwB+F,GAAxB,CAA4B,eAA5B;YACA,MAAM8c,oBAAoB,GAAG,KAAKtD,eAAL,EAAsBzzB,GAAtB,IAA6B,KAAKD,qBAAL,EAA4BC,GAAtF;;YAEA,IAAI+2B,oBAAJ,EAA0B;cACxBA,oBAAoB,CAACC,MAArB,CAA4BF,aAA5B;YACD,CAFD,MAEO;cACL92B,GAAG,CAACa,MAAJ,CAAWi2B,aAAX;YACD;;YAED,IAAIpD,SAAS,GAAG,IAAhB;;YAEA,IAAI,KAAKzN,aAAL,KAAuBre,SAAS,CAACwH,aAAV,CAAwBkD,OAA/C,IAA0D,KAAK4Y,gBAAnE,EAAqF;cACnF,KAAKhkB,qBAAL,KAA+B,IAAIsrB,mBAAmB,CAACyE,wBAAxB,EAA/B;cACA,MAAM93B,YAAY,GAAGsB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB;cACAvB,YAAY,CAACwB,SAAb,GAAyB,WAAzB;cACAxB,YAAY,CAACsc,KAAb,CAAmB7D,KAAnB,GAA2Bkf,aAAa,CAACrb,KAAd,CAAoB7D,KAA/C;cACAzY,YAAY,CAACsc,KAAb,CAAmB5D,MAAnB,GAA4Bif,aAAa,CAACrb,KAAd,CAAoB5D,MAAhD;;cAEA,IAAIkf,oBAAJ,EAA0B;gBACxBA,oBAAoB,CAACC,MAArB,CAA4B73B,YAA5B;cACD,CAFD,MAEO;gBACLa,GAAG,CAACa,MAAJ,CAAW1B,YAAX;cACD;;cAEDu0B,SAAS,GAAG,KAAKxI,gBAAL,CAAsBhsB,sBAAtB,CAA6C;gBACvDC,YADuD;gBAEvDC,SAAS,EAAE,KAAK0a,EAAL,GAAU,CAFkC;gBAGvDza,QAAQ,EAAE,KAAKA,QAHwC;gBAIvDC,oBAAoB,EAAE,KAAK2mB,aAAL,KAAuBre,SAAS,CAACwH,aAAV,CAAwBoD,cAJd;gBAKvDjT,QAAQ,EAAE,KAAKA,QALwC;gBAMvDC,WAAW,EAAE,KAAKyzB,eANqC;gBAOvDx0B,oBAAoB,EAAE,KAAKyI;cAP4B,CAA7C,CAAZ;YASD;;YAED,KAAKwsB,SAAL,GAAiBA,SAAjB;;YAEA,IAAI,KAAK,CAAC1O,cAAN,KAAyBplB,SAAS,CAACqlB,cAAV,CAAyB3S,OAAlD,IAA6D,KAAK6Y,sBAAtE,EAA8F;cAC5F,KAAKlkB,oBAAL,KAA8B,IAAIgC,GAAJ,EAA9B;cACA,KAAKwqB,eAAL,KAAyB,KAAKtI,sBAAL,CAA4BvtB,4BAA5B,CAAyD;gBAChFC,OAAO,EAAEmC,GADuE;gBAEhFlC,OAFgF;gBAGhFE,kBAAkB,EAAE,KAAKA,kBAHuD;gBAIhFC,WAAW,EAAE,KAAK,CAAC+mB,cAAN,KAAyBplB,SAAS,CAACqlB,cAAV,CAAyBC,YAJiB;gBAKhFhnB,IAAI,EAAE,KAAKA,IALqE;gBAMhFM,mBAAmB,EAAE,KAAKyI,oBANsD;gBAOhFxI,oBAAoB,EAAE,KAAKyI;cAPqD,CAAzD,CAAzB;YASD;;YAED,IAAI,KAAK0sB,QAAL,EAAe5zB,GAAnB,EAAwB;cACtBA,GAAG,CAACa,MAAJ,CAAW,KAAK+yB,QAAL,CAAc5zB,GAAzB;YACD;;YAED,IAAIk3B,sBAAsB,GAAG,IAA7B;;YAEA,IAAI,KAAKrQ,cAAT,EAAyB;cACvBqQ,sBAAsB,GAAGC,IAAI,IAAI;gBAC/B,IAAI,CAAC,KAAKtQ,cAAL,CAAoBuQ,iBAApB,CAAsC,IAAtC,CAAL,EAAkD;kBAChD,KAAKjH,cAAL,GAAsBvoB,SAAS,CAAC6H,eAAV,CAA0BiC,MAAhD;;kBAEA,KAAK2hB,MAAL,GAAc,MAAM;oBAClB,KAAKlD,cAAL,GAAsBvoB,SAAS,CAAC6H,eAAV,CAA0BgC,OAAhD;oBACA0lB,IAAI;kBACL,CAHD;;kBAKA;gBACD;;gBAEDA,IAAI;cACL,CAbD;YAcD;;YAED,MAAME,eAAe;cAAA,8BAAG,WAAOrsB,KAAK,GAAG,IAAf,EAAwB;gBAC9C,IAAIkoB,SAAS,KAAK,OAAI,CAACA,SAAvB,EAAkC;kBAChC,OAAI,CAACA,SAAL,GAAiB,IAAjB;gBACD;;gBAED,IAAIloB,KAAK,YAAYpL,SAAS,CAAC03B,2BAA/B,EAA4D;kBAC1D,OAAI,CAAChE,YAAL,GAAoB,IAApB;kBACA;gBACD;;gBAED,OAAI,CAACA,YAAL,GAAoBtoB,KAApB;gBACA,OAAI,CAACmlB,cAAL,GAAsBvoB,SAAS,CAAC6H,eAAV,CAA0BkC,QAAhD;;gBAEA,IAAI,OAAI,CAAC4jB,cAAT,EAAyB;kBACvB,OAAI,CAACA,cAAL,CAAoBj0B,MAApB;;kBACA,OAAO,OAAI,CAACi0B,cAAZ;gBACD;;gBAED,OAAI,CAACf,eAAL,CAAqB,IAArB;;gBAEA,OAAI,CAAC,CAAC7B,kBAAN,CAAyBE,kBAAzB,GAA8C,CAACK,SAAS,CAACqE,cAAzD;;gBACA,OAAI,CAACh4B,QAAL,CAAcuN,QAAd,CAAuB,cAAvB,EAAuC;kBACrCC,MAAM,EAAE,OAD6B;kBAErCtC,UAAU,EAAE,OAAI,CAACqP,EAFoB;kBAGrCwQ,YAAY,EAAE,KAHuB;kBAIrCC,SAAS,EAAEoL,WAAW,CAACC,GAAZ,EAJ0B;kBAKrC5qB,KAAK,EAAE,OAAI,CAACsoB;gBALyB,CAAvC;;gBAQA,IAAItoB,KAAJ,EAAW;kBACT,MAAMA,KAAN;gBACD;cACF,CAhCoB;;cAAA,gBAAfqsB,eAAe;gBAAA;cAAA;YAAA,GAArB;;YAkCA,MAAMnE,SAAS,GAAG,KAAK/M,QAAL,KAAkBve,SAAS,CAAC8H,YAAV,CAAuB2C,GAAzC,GAA+C,KAAKmlB,UAAL,CAAgBV,aAAhB,CAA/C,GAAgF,KAAKW,aAAL,CAAmBX,aAAnB,CAAlG;YACA5D,SAAS,CAACwE,gBAAV,GAA6BR,sBAA7B;YACA,KAAKhE,SAAL,GAAiBA,SAAjB;YACA,MAAMyE,aAAa,GAAGzE,SAAS,CAAC3R,OAAV,CAAkB3W,IAAlB,CAAuB,MAAM;cACjD,OAAOysB,eAAe,CAAC,IAAD,CAAf,CAAsBzsB,IAAtB,CAA2B,MAAM;gBACtC,IAAI8oB,SAAJ,EAAe;kBACb,MAAM9R,cAAc,GAAG9jB,OAAO,CAAC85B,iBAAR,CAA0B;oBAC/CC,oBAAoB,EAAE;kBADyB,CAA1B,CAAvB;kBAGAnE,SAAS,CAAC/R,oBAAV,CAA+BC,cAA/B;kBACA8R,SAAS,CAACxzB,MAAV;gBACD;;gBAED,IAAI,KAAKuzB,eAAT,EAA0B;kBACxB,KAAKS,sBAAL,GAA8BtpB,IAA9B,CAAmC,MAAM;oBACvC,IAAI,KAAKygB,4BAAT,EAAuC;sBACrC,KAAKtrB,qBAAL,KAA+B,KAAKsrB,4BAAL,CAAkCxsB,kCAAlC,CAAqE;wBAClGhB,OAAO,EAAEmC,GADyF;wBAElGlC,OAFkG;wBAGlGI,IAAI,EAAE,KAAKA,IAHuF;wBAIlGO,oBAAoB,EAAE,KAAKyI;sBAJuE,CAArE,CAA/B;;sBAOA,KAAKitB,4BAAL;oBACD;kBACF,CAXD;gBAYD;cACF,CAvBM,CAAP;YAwBD,CAzBqB,EAyBnB,UAAU1S,MAAV,EAAkB;cACnB,OAAO4V,eAAe,CAAC5V,MAAD,CAAtB;YACD,CA3BqB,CAAtB;;YA6BA,IAAI,KAAK2J,eAAT,EAA0B;cACxB,KAAKwI,QAAL,KAAkB,KAAKxI,eAAL,CAAqB1rB,qBAArB,CAA2C;gBAC3D7B,OAAO,EAAEmC,GADkD;gBAE3DlC;cAF2D,CAA3C,CAAlB;;cAKA,KAAKs2B,eAAL;YACD;;YAED,IAAI,KAAK3I,sBAAL,IAA+B,KAAKiI,SAApC,IAAiD,KAAK2B,MAA1D,EAAkE;cAChE,KAAKU,oBAAL,GAA4B+B,KAAK,IAAI;gBACnC,IAAIA,KAAK,CAACrtB,UAAN,KAAqB,KAAKqP,EAA9B,EAAkC;kBAChC;gBACD;;gBAED,KAAKva,QAAL,CAAcirB,IAAd,CAAmB,mBAAnB,EAAwC,KAAKuL,oBAA7C;;gBAEA,KAAKA,oBAAL,GAA4B,IAA5B;;gBAEA,IAAI,CAAC,KAAKV,MAAV,EAAkB;kBAChB;gBACD;;gBAED,KAAKv3B,OAAL,CAAai6B,aAAb,GAA6BntB,IAA7B,CAAkCotB,IAAI,IAAI;kBACxC,IAAI,CAACA,IAAL,EAAW;oBACT;kBACD;;kBAED,IAAI,CAAC,KAAK3C,MAAV,EAAkB;oBAChB;kBACD;;kBAED,MAAM4C,OAAO,GAAG,KAAKpE,eAAL,CAAqB3zB,MAArB,CAA4B83B,IAA5B,CAAhB;kBACAC,OAAO,CAAC/jB,SAAR,CAAkB+F,GAAlB,CAAsB,YAAtB;kBACA,KAAKob,MAAL,CAAYx0B,MAAZ,CAAmBo3B,OAAnB;gBACD,CAZD;cAaD,CA1BD;;cA4BA,KAAK14B,QAAL,CAAc8qB,GAAd,CAAkB,mBAAlB,EAAuC,KAAK0L,oBAA5C;;cAEA,KAAKlC,eAAL,GAAuB,KAAKpI,sBAAL,CAA4BzsB,4BAA5B,CAAyD;gBAC9ElB;cAD8E,CAAzD,CAAvB;YAGD;;YAEDkC,GAAG,CAACggB,YAAJ,CAAiB,aAAjB,EAAgC,IAAhC;YACA,KAAKzgB,QAAL,CAAcuN,QAAd,CAAuB,YAAvB,EAAqC;cACnCC,MAAM,EAAE,IAD2B;cAEnCtC,UAAU,EAAE,KAAKqP;YAFkB,CAArC;YAIA,OAAO6d,aAAP;UACD;;UAEDF,aAAa,CAACX,aAAD,EAAgB;YAC3B,MAAMoB,gBAAgB,GAAG,CAAC,GAAGt4B,SAAS,CAAC6sB,uBAAd,GAAzB;YACA,MAAMxV,MAAM,GAAG;cACbsK,OAAO,EAAE2W,gBAAgB,CAAC3W,OADb;;cAGbmW,gBAAgB,CAACP,IAAD,EAAO;gBACrBA,IAAI;cACL,CALY;;cAObj2B,MAAM,GAAG;gBACPi3B,UAAU,CAACj3B,MAAX;cACD,CATY;;cAWb,IAAIq2B,cAAJ,GAAqB;gBACnB,OAAOY,UAAU,CAACZ,cAAlB;cACD;;YAbY,CAAf;YAgBA,MAAMl4B,QAAQ,GAAG,KAAKA,QAAtB;YACA,MAAMg2B,MAAM,GAAG50B,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;YACA20B,MAAM,CAACrV,YAAP,CAAoB,MAApB,EAA4B,cAA5B;YACAqV,MAAM,CAACh0B,MAAP,GAAgB,IAAhB;YACA,IAAI+2B,cAAc,GAAG,IAArB;;YAEA,MAAMC,UAAU,GAAG,YAAY;cAC7B,IAAID,cAAJ,EAAoB;gBAClB/C,MAAM,CAACh0B,MAAP,GAAgB,KAAhB;gBACA+2B,cAAc,GAAG,KAAjB;cACD;YACF,CALD;;YAOAtB,aAAa,CAACj2B,MAAd,CAAqBw0B,MAArB;YACA,KAAKA,MAAL,GAAcA,MAAd;YACA,MAAMiD,GAAG,GAAGjD,MAAM,CAACkD,UAAP,CAAkB,IAAlB,EAAwB;cAClCC,KAAK,EAAE;YAD2B,CAAxB,CAAZ;YAGA,MAAM1C,WAAW,GAAG,KAAKA,WAAL,GAAmB,IAAIluB,SAAS,CAACiI,WAAd,EAAvC;;YAEA,IAAI,KAAKuW,cAAT,EAAyB;cACvB,MAAMqS,kBAAkB,GAAGp5B,QAAQ,CAACgB,KAAT,CAAe;gBACxCyqB,KAAK,EAAElrB,SAAS,CAACorB,aAAV,CAAwBC;cADS,CAAf,CAA3B;cAGA6K,WAAW,CAAC7iB,EAAZ,IAAkBwlB,kBAAkB,CAAC7gB,KAAnB,GAA2BvY,QAAQ,CAACuY,KAAtD;cACAke,WAAW,CAAC5iB,EAAZ,IAAkBulB,kBAAkB,CAAC5gB,MAAnB,GAA4BxY,QAAQ,CAACwY,MAAvD;YACD;;YAED,IAAI,KAAKwO,eAAL,GAAuB,CAA3B,EAA8B;cAC5B,MAAMqS,gBAAgB,GAAGr5B,QAAQ,CAACuY,KAAT,GAAiBvY,QAAQ,CAACwY,MAAnD;cACA,MAAM8gB,QAAQ,GAAGpiB,IAAI,CAACqiB,IAAL,CAAU,KAAKvS,eAAL,GAAuBqS,gBAAjC,CAAjB;;cAEA,IAAI5C,WAAW,CAAC7iB,EAAZ,GAAiB0lB,QAAjB,IAA6B7C,WAAW,CAAC5iB,EAAZ,GAAiBylB,QAAlD,EAA4D;gBAC1D7C,WAAW,CAAC7iB,EAAZ,GAAiB0lB,QAAjB;gBACA7C,WAAW,CAAC5iB,EAAZ,GAAiBylB,QAAjB;gBACA,KAAK3F,oBAAL,GAA4B,IAA5B;cACD,CAJD,MAIO;gBACL,KAAKA,oBAAL,GAA4B,KAA5B;cACD;YACF;;YAED,MAAM6F,GAAG,GAAG,CAAC,GAAGjxB,SAAS,CAAC2I,mBAAd,EAAmCulB,WAAW,CAAC7iB,EAA/C,CAAZ;YACA,MAAM6lB,GAAG,GAAG,CAAC,GAAGlxB,SAAS,CAAC2I,mBAAd,EAAmCulB,WAAW,CAAC5iB,EAA/C,CAAZ;YACAmiB,MAAM,CAACzd,KAAP,GAAe,CAAC,GAAGhQ,SAAS,CAACyJ,aAAd,EAA6BhS,QAAQ,CAACuY,KAAT,GAAiBke,WAAW,CAAC7iB,EAA1D,EAA8D4lB,GAAG,CAAC,CAAD,CAAjE,CAAf;YACAxD,MAAM,CAACxd,MAAP,GAAgB,CAAC,GAAGjQ,SAAS,CAACyJ,aAAd,EAA6BhS,QAAQ,CAACwY,MAAT,GAAkBie,WAAW,CAAC5iB,EAA3D,EAA+D4lB,GAAG,CAAC,CAAD,CAAlE,CAAhB;YACAzD,MAAM,CAAC5Z,KAAP,CAAa7D,KAAb,GAAqB,CAAC,GAAGhQ,SAAS,CAACyJ,aAAd,EAA6BhS,QAAQ,CAACuY,KAAtC,EAA6CihB,GAAG,CAAC,CAAD,CAAhD,IAAuD,IAA5E;YACAxD,MAAM,CAAC5Z,KAAP,CAAa5D,MAAb,GAAsB,CAAC,GAAGjQ,SAAS,CAACyJ,aAAd,EAA6BhS,QAAQ,CAACwY,MAAtC,EAA8CihB,GAAG,CAAC,CAAD,CAAjD,IAAwD,IAA9E;YACA,KAAK3F,kBAAL,CAAwB1kB,GAAxB,CAA4B4mB,MAA5B,EAAoCh2B,QAApC;YACA,MAAM+2B,SAAS,GAAGN,WAAW,CAAC3iB,MAAZ,GAAqB,CAAC2iB,WAAW,CAAC7iB,EAAb,EAAiB,CAAjB,EAAoB,CAApB,EAAuB6iB,WAAW,CAAC5iB,EAAnC,EAAuC,CAAvC,EAA0C,CAA1C,CAArB,GAAoE,IAAtF;YACA,MAAM6lB,aAAa,GAAG;cACpBC,aAAa,EAAEV,GADK;cAEpBlC,SAFoB;cAGpB/2B,QAAQ,EAAE,KAAKA,QAHK;cAIpB2lB,cAAc,EAAE,KAAK,CAACA,cAJF;cAKpBiF,4BAA4B,EAAE,KAAKS,6BALf;cAMpBlsB,mBAAmB,EAAE,KAAKyI,oBANN;cAOpBqf,UAAU,EAAE,KAAKA;YAPG,CAAtB;YASA,MAAM6R,UAAU,GAAG,KAAKr6B,OAAL,CAAaoC,MAAb,CAAoB64B,aAApB,CAAnB;;YAEAZ,UAAU,CAACc,UAAX,GAAwB,UAAU9B,IAAV,EAAgB;cACtCkB,UAAU;;cAEV,IAAIphB,MAAM,CAACygB,gBAAX,EAA6B;gBAC3BzgB,MAAM,CAACygB,gBAAP,CAAwBP,IAAxB;cACD,CAFD,MAEO;gBACLA,IAAI;cACL;YACF,CARD;;YAUAgB,UAAU,CAAC5W,OAAX,CAAmB3W,IAAnB,CAAwB,YAAY;cAClCytB,UAAU;cACVH,gBAAgB,CAAC3c,OAAjB;YACD,CAHD,EAGG,UAAUvQ,KAAV,EAAiB;cAClBqtB,UAAU;cACVH,gBAAgB,CAAC9L,MAAjB,CAAwBphB,KAAxB;YACD,CAND;YAOA,OAAOiM,MAAP;UACD;;UAEDugB,UAAU,CAAC0B,OAAD,EAAU;YAClB,IAAIC,SAAS,GAAG,KAAhB;;YAEA,MAAMC,kBAAkB,GAAG,MAAM;cAC/B,IAAID,SAAJ,EAAe;gBACb,MAAM,IAAIv5B,SAAS,CAAC03B,2BAAd,CAA2C,6BAA4B,KAAKxd,EAAG,EAA/E,EAAkF,KAAlF,CAAN;cACD;YACF,CAJD;;YAMA,MAAMhc,OAAO,GAAG,KAAKA,OAArB;YACA,MAAM26B,kBAAkB,GAAG,KAAKp5B,QAAL,CAAcgB,KAAd,CAAoB;cAC7CyqB,KAAK,EAAElrB,SAAS,CAACorB,aAAV,CAAwBC;YADc,CAApB,CAA3B;YAGA,MAAM1J,OAAO,GAAGzjB,OAAO,CAACu7B,eAAR,CAAwB;cACtCrU,cAAc,EAAE,KAAK,CAACA;YADgB,CAAxB,EAEbpa,IAFa,CAER0uB,MAAM,IAAI;cAChBF,kBAAkB;cAClB,MAAMG,MAAM,GAAG,IAAI35B,SAAS,CAAC45B,WAAd,CAA0B17B,OAAO,CAAC27B,UAAlC,EAA8C37B,OAAO,CAAC47B,IAAtD,CAAf;cACA,OAAOH,MAAM,CAACI,MAAP,CAAcL,MAAd,EAAsBb,kBAAtB,EAA0C7tB,IAA1C,CAA+C0qB,GAAG,IAAI;gBAC3D8D,kBAAkB;gBAClB,KAAK9D,GAAL,GAAWA,GAAX;gBACA,KAAKnC,kBAAL,CAAwB1kB,GAAxB,CAA4B6mB,GAA5B,EAAiCmD,kBAAjC;gBACAnD,GAAG,CAAC7Z,KAAJ,CAAU7D,KAAV,GAAkBshB,OAAO,CAACzd,KAAR,CAAc7D,KAAhC;gBACA0d,GAAG,CAAC7Z,KAAJ,CAAU5D,MAAV,GAAmBqhB,OAAO,CAACzd,KAAR,CAAc5D,MAAjC;gBACA,KAAKsY,cAAL,GAAsBvoB,SAAS,CAAC6H,eAAV,CAA0BkC,QAAhD;gBACAunB,OAAO,CAACr4B,MAAR,CAAey0B,GAAf;cACD,CARM,CAAP;YASD,CAde,CAAhB;YAeA,OAAO;cACL/T,OADK;;cAGLmW,gBAAgB,CAACP,IAAD,EAAO;gBACrBA,IAAI;cACL,CALI;;cAOLj2B,MAAM,GAAG;gBACPi4B,SAAS,GAAG,IAAZ;cACD,CATI;;cAWL,IAAI5B,cAAJ,GAAqB;gBACnB,OAAO,KAAP;cACD;;YAbI,CAAP;UAgBD;;UAEDhL,YAAY,CAAC6B,KAAD,EAAQ;YAClB,KAAKnG,SAAL,GAAiB,OAAOmG,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoC,IAArD;;YAEA,IAAI,KAAKnG,SAAL,KAAmB,IAAvB,EAA6B;cAC3B,KAAKjoB,GAAL,CAASggB,YAAT,CAAsB,iBAAtB,EAAyC,KAAKiI,SAA9C;YACD,CAFD,MAEO;cACL,KAAKjoB,GAAL,CAAS8sB,eAAT,CAAyB,iBAAzB;YACD;UACF;;UAEkB,IAAf8M,eAAe,GAAG;YACpB,MAAM;cACJhH,sBADI;cAEJC;YAFI,IAGF,KAAK,CAACF,kBAHV;YAIA,OAAOC,sBAAsB,IAAIC,kBAA1B,GAA+C,KAAKwC,MAApD,GAA6D,IAApE;UACD;;QA72Be;;QAi3BlBj5B,OAAO,CAACkvB,WAAR,GAAsBA,WAAtB;QAEA;MAAO,CA5vJ8B;MA6vJrC;;MACA;MAAO,CAAC3uB,uBAAD,EAA0BP,OAA1B,KAAsC;QAI7CS,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACs2B,mBAAR,GAA8Bt2B,OAAO,CAACy9B,UAAR,GAAqBz9B,OAAO,CAAC09B,UAAR,GAAqB,KAAK,CAA7E;QACA,MAAMpH,mBAAmB,GAAG71B,MAAM,CAACk9B,MAAP,CAAc,IAAd,CAA5B;QACA39B,OAAO,CAACs2B,mBAAR,GAA8BA,mBAA9B;QACA;UACE,MAAMsH,SAAS,GAAGC,SAAS,CAACD,SAAV,IAAuB,EAAzC;UACA,MAAME,QAAQ,GAAGD,SAAS,CAACC,QAAV,IAAsB,EAAvC;UACA,MAAMC,cAAc,GAAGF,SAAS,CAACE,cAAV,IAA4B,CAAnD;UACA,MAAMC,SAAS,GAAG,UAAUC,IAAV,CAAeL,SAAf,CAAlB;UACA,MAAMM,KAAK,GAAG,4BAA4BD,IAA5B,CAAiCL,SAAjC,KAA+CE,QAAQ,KAAK,UAAb,IAA2BC,cAAc,GAAG,CAAzG;;UAEA,CAAC,SAASI,yBAAT,GAAqC;YACpC,IAAID,KAAK,IAAIF,SAAb,EAAwB;cACtB1H,mBAAmB,CAACrM,eAApB,GAAsC,OAAtC;YACD;UACF,CAJD;QAKD;QACD,MAAMwT,UAAU,GAAG;UACjBW,MAAM,EAAE,IADS;UAEjBC,GAAG,EAAE,IAFY;UAGjBC,MAAM,EAAE,IAHS;UAIjBC,UAAU,EAAE;QAJK,CAAnB;QAMAv+B,OAAO,CAACy9B,UAAR,GAAqBA,UAArB;QACA,MAAMe,cAAc,GAAG;UACrB9V,oBAAoB,EAAE;YACpB/nB,KAAK,EAAE,CAAC,CADY;YAEpB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFjB,CADD;UAKrB3V,cAAc,EAAE;YACdjoB,KAAK,EAAE,CADO;YAEd89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFvB,CALK;UASrBG,gBAAgB,EAAE;YAChB/9B,KAAK,EAAE,CADS;YAEhB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFrB,CATG;UAarBI,gBAAgB,EAAE;YAChBh+B,KAAK,EAAE,EADS;YAEhB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFrB,CAbG;UAiBrBK,cAAc,EAAE;YACdj+B,KAAK,EAAE,KADO;YAEd89B,IAAI,EAAEhB,UAAU,CAACW;UAFH,CAjBK;UAqBrBS,iBAAiB,EAAE;YACjBl+B,KAAK,EAAE,KADU;YAEjB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFpB,CArBE;UAyBrBxV,iBAAiB,EAAE;YACjBpoB,KAAK,EAAE,KADU;YAEjB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFpB,CAzBE;UA6BrBzU,qBAAqB,EAAE;YACrBnpB,KAAK,EAAE,IADc;YAErB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFhB,CA7BF;UAiCrBv8B,eAAe,EAAE;YACfrB,KAAK,EAAE,IADQ;YAEf89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFtB,CAjCI;UAqCrBxxB,eAAe,EAAE;YACfpM,KAAK,EAAE,8BADQ;YAEf89B,IAAI,EAAEhB,UAAU,CAACW;UAFF,CArCI;UAyCrBtxB,kBAAkB,EAAE;YAClBnM,KAAK,EAAE,CADW;YAElB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFnB,CAzCC;UA6CrBO,gBAAgB,EAAE;YAChBn+B,KAAK,EAAE,KADS;YAEhB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFrB,CA7CG;UAiDrBvxB,qBAAqB,EAAE;YACrBrM,KAAK,EAAE,KADc;YAErB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFhB,CAjDF;UAqDrB38B,kBAAkB,EAAE;YAClBjB,KAAK,EAAE,WADW;YAElB89B,IAAI,EAAEhB,UAAU,CAACW;UAFC,CArDC;UAyDrBnU,eAAe,EAAE;YACftpB,KAAK,EAAE,QADQ;YAEf89B,IAAI,EAAEhB,UAAU,CAACW;UAFF,CAzDI;UA6DrBW,eAAe,EAAE;YACfp+B,KAAK,EAAE,KADQ;YAEf89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFtB,CA7DI;UAiErBS,oBAAoB,EAAE;YACpBr+B,KAAK,EAAE,QADa;YAEpB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFjB,CAjED;UAqErBU,oBAAoB,EAAE;YACpBt+B,KAAK,EAAE,YADa;YAEpB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFjB,CArED;UAyErBW,aAAa,EAAE;YACbv+B,KAAK,EAAE,KADM;YAEb89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFxB,CAzEM;UA6ErBY,eAAe,EAAE;YACfx+B,KAAK,EAAE,GADQ;YAEf89B,IAAI,EAAEhB,UAAU,CAACW;UAFF,CA7EI;UAiFrBgB,iBAAiB,EAAE;YACjBz+B,KAAK,EAAE,CAAC,CADS;YAEjB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFpB,CAjFE;UAqFrBc,gBAAgB,EAAE;YAChB1+B,KAAK,EAAE,CAAC,CADQ;YAEhB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFrB,CArFG;UAyFrBe,gBAAgB,EAAE;YAChB3+B,KAAK,EAAE,CAAC,CADQ;YAEhB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFrB,CAzFG;UA6FrB1U,aAAa,EAAE;YACblpB,KAAK,EAAE,CADM;YAEb89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFxB,CA7FM;UAiGrBvU,cAAc,EAAE;YACdrpB,KAAK,EAAE,KADO;YAEd89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFvB,CAjGK;UAqGrBgB,cAAc,EAAE;YACd5+B,KAAK,EAAE,CADO;YAEd89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFvB,CArGK;UAyGrBiB,UAAU,EAAE;YACV7+B,KAAK,EAAE,CADG;YAEV89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAF3B,CAzGS;UA6GrBkB,UAAU,EAAE;YACV9+B,KAAK,EAAE,IADG;YAEV89B,IAAI,EAAEhB,UAAU,CAACY;UAFP,CA7GS;UAiHrBqB,OAAO,EAAE;YACP/+B,KAAK,EAAE,eADA;YAEP89B,IAAI,EAAEhB,UAAU,CAACY;UAFV,CAjHY;UAqHrB1O,gBAAgB,EAAE;YAChBhvB,KAAK,EAAE,KADS;YAEhB89B,IAAI,EAAEhB,UAAU,CAACY,GAAX,GAAiBZ,UAAU,CAACc;UAFlB,CArHG;UAyHrBoB,eAAe,EAAE;YACfh/B,KAAK,EAAE,KADQ;YAEf89B,IAAI,EAAEhB,UAAU,CAACY,GAAX,GAAiBZ,UAAU,CAACc;UAFnB,CAzHI;UA6HrBqB,YAAY,EAAE;YACZj/B,KAAK,EAAE,KADK;YAEZ89B,IAAI,EAAEhB,UAAU,CAACY,GAAX,GAAiBZ,UAAU,CAACc;UAFtB,CA7HO;UAiIrBsB,aAAa,EAAE;YACbl/B,KAAK,EAAE,KADM;YAEb89B,IAAI,EAAEhB,UAAU,CAACY,GAAX,GAAiBZ,UAAU,CAACc;UAFrB,CAjIM;UAqIrBuB,UAAU,EAAE;YACVn/B,KAAK,EAAE,EADG;YAEV89B,IAAI,EAAEhB,UAAU,CAACY;UAFP,CArIS;UAyIrB0B,SAAS,EAAE;YACTp/B,KAAK,EAAE,IADE;YAET89B,IAAI,EAAEhB,UAAU,CAACY,GAAX,GAAiBZ,UAAU,CAACc;UAFzB,CAzIU;UA6IrByB,mBAAmB,EAAE;YACnBr/B,KAAK,EAAE,KADY;YAEnB89B,IAAI,EAAEhB,UAAU,CAACY;UAFE,CA7IA;UAiJrB4B,eAAe,EAAE;YACft/B,KAAK,EAAE,IADQ;YAEf89B,IAAI,EAAEhB,UAAU,CAACY;UAFF,CAjJI;UAqJrB6B,YAAY,EAAE;YACZv/B,KAAK,EAAE,CAAC,CADI;YAEZ89B,IAAI,EAAEhB,UAAU,CAACY;UAFL,CArJO;UAyJrB8B,MAAM,EAAE;YACNx/B,KAAK,EAAE,KADD;YAEN89B,IAAI,EAAEhB,UAAU,CAACY;UAFX,CAzJa;UA6JrB+B,mBAAmB,EAAE;YACnBz/B,KAAK,EAAE,wBADY;YAEnB89B,IAAI,EAAEhB,UAAU,CAACY;UAFE,CA7JA;UAiKrBgC,SAAS,EAAE;YACT1/B,KAAK,EAAE,CADE;YAET89B,IAAI,EAAEhB,UAAU,CAACY;UAFR,CAjKU;UAqKrBiC,UAAU,EAAE;YACV3/B,KAAK,EAAE,IADG;YAEV89B,IAAI,EAAEhB,UAAU,CAACa;UAFP,CArKS;UAyKrBiC,SAAS,EAAE;YACT5/B,KAAK,EAAE,wBADE;YAET89B,IAAI,EAAEhB,UAAU,CAACa;UAFR;QAzKU,CAAvB;QA8KA;UACEE,cAAc,CAACgC,UAAf,GAA4B;YAC1B7/B,KAAK,EAAE,oCADmB;YAE1B89B,IAAI,EAAEhB,UAAU,CAACW;UAFS,CAA5B;UAIAI,cAAc,CAACiC,kBAAf,GAAoC;YAClC9/B,KAAK,EAAE,KAD2B;YAElC89B,IAAI,EAAEhB,UAAU,CAACW;UAFiB,CAApC;UAIAI,cAAc,CAACkC,MAAf,GAAwB;YACtB//B,KAAK,EAAEk9B,SAAS,CAAC8C,QAAV,IAAsB,OADP;YAEtBlC,IAAI,EAAEhB,UAAU,CAACW;UAFK,CAAxB;UAIAI,cAAc,CAACzU,QAAf,GAA0B;YACxBppB,KAAK,EAAE,QADiB;YAExB89B,IAAI,EAAEhB,UAAU,CAACW,MAAX,GAAoBX,UAAU,CAACc;UAFb,CAA1B;UAIAC,cAAc,CAACoC,gBAAf,GAAkC;YAChCjgC,KAAK,EAAE,yBADyB;YAEhC89B,IAAI,EAAEhB,UAAU,CAACW;UAFe,CAAlC;QAID;QACD,MAAMyC,WAAW,GAAGpgC,MAAM,CAACk9B,MAAP,CAAc,IAAd,CAApB;;QAEA,MAAMD,UAAN,CAAiB;UACfj6B,WAAW,GAAG;YACZ,MAAM,IAAI4I,KAAJ,CAAU,+BAAV,CAAN;UACD;;UAES,OAAHhC,GAAG,CAACH,IAAD,EAAO;YACf,MAAM42B,UAAU,GAAGD,WAAW,CAAC32B,IAAD,CAA9B;;YAEA,IAAI42B,UAAU,KAAK3oB,SAAnB,EAA8B;cAC5B,OAAO2oB,UAAP;YACD;;YAED,MAAMC,aAAa,GAAGvC,cAAc,CAACt0B,IAAD,CAApC;;YAEA,IAAI62B,aAAa,KAAK5oB,SAAtB,EAAiC;cAC/B,OAAOme,mBAAmB,CAACpsB,IAAD,CAAnB,IAA6B62B,aAAa,CAACpgC,KAAlD;YACD;;YAED,OAAOwX,SAAP;UACD;;UAEY,OAAN6oB,MAAM,CAACvC,IAAI,GAAG,IAAR,EAAc;YACzB,MAAM/6B,OAAO,GAAGjD,MAAM,CAACk9B,MAAP,CAAc,IAAd,CAAhB;;YAEA,KAAK,MAAMzzB,IAAX,IAAmBs0B,cAAnB,EAAmC;cACjC,MAAMuC,aAAa,GAAGvC,cAAc,CAACt0B,IAAD,CAApC;;cAEA,IAAIu0B,IAAJ,EAAU;gBACR,IAAI,CAACA,IAAI,GAAGsC,aAAa,CAACtC,IAAtB,MAAgC,CAApC,EAAuC;kBACrC;gBACD;;gBAED,IAAIA,IAAI,KAAKhB,UAAU,CAACc,UAAxB,EAAoC;kBAClC,MAAM59B,KAAK,GAAGogC,aAAa,CAACpgC,KAA5B;kBAAA,MACMsgC,SAAS,GAAG,OAAOtgC,KADzB;;kBAGA,IAAIsgC,SAAS,KAAK,SAAd,IAA2BA,SAAS,KAAK,QAAzC,IAAqDA,SAAS,KAAK,QAAd,IAA0BpyB,MAAM,CAACC,SAAP,CAAiBnO,KAAjB,CAAnF,EAA4G;oBAC1G+C,OAAO,CAACwG,IAAD,CAAP,GAAgBvJ,KAAhB;oBACA;kBACD;;kBAED,MAAM,IAAI0L,KAAJ,CAAW,gCAA+BnC,IAAK,EAA/C,CAAN;gBACD;cACF;;cAED,MAAM42B,UAAU,GAAGD,WAAW,CAAC32B,IAAD,CAA9B;cACAxG,OAAO,CAACwG,IAAD,CAAP,GAAgB42B,UAAU,KAAK3oB,SAAf,GAA2B2oB,UAA3B,GAAwCxK,mBAAmB,CAACpsB,IAAD,CAAnB,IAA6B62B,aAAa,CAACpgC,KAAnG;YACD;;YAED,OAAO+C,OAAP;UACD;;UAES,OAAH2O,GAAG,CAACnI,IAAD,EAAOvJ,KAAP,EAAc;YACtBkgC,WAAW,CAAC32B,IAAD,CAAX,GAAoBvJ,KAApB;UACD;;UAEY,OAANugC,MAAM,CAACx9B,OAAD,EAAU;YACrB,KAAK,MAAMwG,IAAX,IAAmBxG,OAAnB,EAA4B;cAC1Bm9B,WAAW,CAAC32B,IAAD,CAAX,GAAoBxG,OAAO,CAACwG,IAAD,CAA3B;YACD;UACF;;UAEY,OAANhF,MAAM,CAACgF,IAAD,EAAO;YAClB,OAAO22B,WAAW,CAAC32B,IAAD,CAAlB;UACD;;UAEqB,OAAfi3B,eAAe,GAAG;YACvB,OAAO1gC,MAAM,CAAC6nB,IAAP,CAAYuY,WAAZ,EAAyB11B,MAAzB,GAAkC,CAAzC;UACD;;QApEc;;QAwEjBnL,OAAO,CAAC09B,UAAR,GAAqBA,UAArB;QAEA;MAAO,CA5iK8B;MA6iKrC;;MACA;MAAO,CAACn9B,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAC66B,wBAAR,GAAmC,KAAK,CAAxC;;QAEA,IAAIrvB,SAAS,GAAGhL,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,MAAMq6B,wBAAN,CAA+B;UAC7B,CAACzuB,OAAD,GAAW,KAAX;UACA,CAACg1B,YAAD,GAAgB,IAAhB;UACA,CAACC,SAAD,GAAa,IAAIx0B,GAAJ,EAAb;UACA,CAACy0B,eAAD,GAAmB,IAAIz0B,GAAJ,EAAnB;;UAEAkY,cAAc,CAACP,QAAD,EAAW;YACvB,KAAK,CAAC4c,YAAN,GAAqB5c,QAArB;UACD;;UAE8B,OAAxB,CAAC+c,uBAAuB,CAACC,EAAD,EAAKC,EAAL,EAAS;YACtC,MAAMC,KAAK,GAAGF,EAAE,CAACvb,qBAAH,EAAd;YACA,MAAM0b,KAAK,GAAGF,EAAE,CAACxb,qBAAH,EAAd;;YAEA,IAAIyb,KAAK,CAAClmB,KAAN,KAAgB,CAAhB,IAAqBkmB,KAAK,CAACjmB,MAAN,KAAiB,CAA1C,EAA6C;cAC3C,OAAO,CAAC,CAAR;YACD;;YAED,IAAIkmB,KAAK,CAACnmB,KAAN,KAAgB,CAAhB,IAAqBmmB,KAAK,CAAClmB,MAAN,KAAiB,CAA1C,EAA6C;cAC3C,OAAO,CAAC,CAAR;YACD;;YAED,MAAMmmB,IAAI,GAAGF,KAAK,CAAC/jB,CAAnB;YACA,MAAMkkB,IAAI,GAAGH,KAAK,CAAC/jB,CAAN,GAAU+jB,KAAK,CAACjmB,MAA7B;YACA,MAAMqmB,IAAI,GAAGJ,KAAK,CAAC/jB,CAAN,GAAU+jB,KAAK,CAACjmB,MAAN,GAAe,CAAtC;YACA,MAAMsmB,IAAI,GAAGJ,KAAK,CAAChkB,CAAnB;YACA,MAAMqkB,IAAI,GAAGL,KAAK,CAAChkB,CAAN,GAAUgkB,KAAK,CAAClmB,MAA7B;YACA,MAAMwmB,IAAI,GAAGN,KAAK,CAAChkB,CAAN,GAAUgkB,KAAK,CAAClmB,MAAN,GAAe,CAAtC;;YAEA,IAAIqmB,IAAI,IAAIC,IAAR,IAAgBE,IAAI,IAAIJ,IAA5B,EAAkC;cAChC,OAAO,CAAC,CAAR;YACD;;YAED,IAAII,IAAI,IAAIL,IAAR,IAAgBE,IAAI,IAAIE,IAA5B,EAAkC;cAChC,OAAO,CAAC,CAAR;YACD;;YAED,MAAME,QAAQ,GAAGR,KAAK,CAACxnB,CAAN,GAAUwnB,KAAK,CAAClmB,KAAN,GAAc,CAAzC;YACA,MAAM2mB,QAAQ,GAAGR,KAAK,CAACznB,CAAN,GAAUynB,KAAK,CAACnmB,KAAN,GAAc,CAAzC;YACA,OAAO0mB,QAAQ,GAAGC,QAAlB;UACD;;UAED/c,MAAM,GAAG;YACP,IAAI,KAAK,CAAChZ,OAAV,EAAmB;cACjB,MAAM,IAAIC,KAAJ,CAAU,8CAAV,CAAN;YACD;;YAED,IAAI,CAAC,KAAK,CAAC+0B,YAAX,EAAyB;cACvB,MAAM,IAAI/0B,KAAJ,CAAU,0CAAV,CAAN;YACD;;YAED,KAAK,CAACD,OAAN,GAAgB,IAAhB;YACA,KAAK,CAACg1B,YAAN,GAAqB,KAAK,CAACA,YAAN,CAAmBgB,KAAnB,EAArB;YACA,KAAK,CAAChB,YAAN,CAAmBnjB,IAAnB,CAAwB4c,wBAAwB,CAAC,CAAC0G,uBAAlD;;YAEA,IAAI,KAAK,CAACF,SAAN,CAAgBniB,IAAhB,GAAuB,CAA3B,EAA8B;cAC5B,MAAMkiB,YAAY,GAAG,KAAK,CAACA,YAA3B;;cAEA,KAAK,MAAM,CAAC1jB,EAAD,EAAK2kB,SAAL,CAAX,IAA8B,KAAK,CAAChB,SAApC,EAA+C;gBAC7C,MAAM72B,OAAO,GAAGnG,QAAQ,CAACsb,cAAT,CAAwBjC,EAAxB,CAAhB;;gBAEA,IAAI,CAAClT,OAAL,EAAc;kBACZ,KAAK,CAAC62B,SAAN,CAAgBvZ,MAAhB,CAAuBpK,EAAvB;kBACA;gBACD;;gBAED,KAAK,CAAC4kB,eAAN,CAAsB5kB,EAAtB,EAA0B0jB,YAAY,CAACiB,SAAD,CAAtC;cACD;YACF;;YAED,KAAK,MAAM,CAAC73B,OAAD,EAAU+3B,WAAV,CAAX,IAAqC,KAAK,CAACjB,eAA3C,EAA4D;cAC1D,KAAKkB,qBAAL,CAA2Bh4B,OAA3B,EAAoC+3B,WAApC;YACD;;YAED,KAAK,CAACjB,eAAN,CAAsB9zB,KAAtB;UACD;;UAED8X,OAAO,GAAG;YACR,IAAI,CAAC,KAAK,CAAClZ,OAAX,EAAoB;cAClB;YACD;;YAED,KAAK,CAACk1B,eAAN,CAAsB9zB,KAAtB;YACA,KAAK,CAAC4zB,YAAN,GAAqB,IAArB;YACA,KAAK,CAACh1B,OAAN,GAAgB,KAAhB;UACD;;UAEDq2B,wBAAwB,CAACj4B,OAAD,EAAU;YAChC,IAAI,CAAC,KAAK,CAAC4B,OAAX,EAAoB;cAClB,KAAK,CAACk1B,eAAN,CAAsBxZ,MAAtB,CAA6Btd,OAA7B;cACA;YACD;;YAED,MAAMyZ,QAAQ,GAAG,KAAK,CAACmd,YAAvB;;YAEA,IAAI,CAACnd,QAAD,IAAaA,QAAQ,CAAC9Y,MAAT,KAAoB,CAArC,EAAwC;cACtC;YACD;;YAED,MAAM;cACJuS;YADI,IAEFlT,OAFJ;YAGA,MAAM63B,SAAS,GAAG,KAAK,CAAChB,SAAN,CAAgBh3B,GAAhB,CAAoBqT,EAApB,CAAlB;;YAEA,IAAI2kB,SAAS,KAAKlqB,SAAlB,EAA6B;cAC3B;YACD;;YAED,MAAM2L,IAAI,GAAGG,QAAQ,CAACoe,SAAD,CAArB;YACA,KAAK,CAAChB,SAAN,CAAgBvZ,MAAhB,CAAuBpK,EAAvB;YACA,IAAIglB,IAAI,GAAG5e,IAAI,CAAC6e,YAAL,CAAkB,WAAlB,CAAX;;YAEA,IAAID,IAAI,EAAEpyB,QAAN,CAAeoN,EAAf,CAAJ,EAAwB;cACtBglB,IAAI,GAAGA,IAAI,CAAC3xB,KAAL,CAAW,GAAX,EAAgB6xB,MAAhB,CAAuB1oB,CAAC,IAAIA,CAAC,KAAKwD,EAAlC,EAAsCmlB,IAAtC,CAA2C,GAA3C,CAAP;;cAEA,IAAIH,IAAJ,EAAU;gBACR5e,IAAI,CAACF,YAAL,CAAkB,WAAlB,EAA+B8e,IAA/B;cACD,CAFD,MAEO;gBACL5e,IAAI,CAAC4M,eAAL,CAAqB,WAArB;gBACA5M,IAAI,CAACF,YAAL,CAAkB,MAAlB,EAA0B,cAA1B;cACD;YACF;UACF;;UAED,CAAC0e,eAAe,CAAC5kB,EAAD,EAAKoG,IAAL,EAAW;YACzB,MAAM4e,IAAI,GAAG5e,IAAI,CAAC6e,YAAL,CAAkB,WAAlB,CAAb;;YAEA,IAAI,CAACD,IAAI,EAAEpyB,QAAN,CAAeoN,EAAf,CAAL,EAAyB;cACvBoG,IAAI,CAACF,YAAL,CAAkB,WAAlB,EAA+B8e,IAAI,GAAI,GAAEA,IAAK,IAAGhlB,EAAG,EAAjB,GAAqBA,EAAxD;YACD;;YAEDoG,IAAI,CAAC4M,eAAL,CAAqB,MAArB;UACD;;UAED8R,qBAAqB,CAACh4B,OAAD,EAAU+3B,WAAV,EAAuB;YAC1C,MAAM;cACJ7kB;YADI,IAEFlT,OAFJ;;YAIA,IAAI,CAACkT,EAAL,EAAS;cACP;YACD;;YAED,IAAI,CAAC,KAAK,CAACtR,OAAX,EAAoB;cAClB,KAAK,CAACk1B,eAAN,CAAsBjvB,GAAtB,CAA0B7H,OAA1B,EAAmC+3B,WAAnC;cACA;YACD;;YAED,IAAIA,WAAJ,EAAiB;cACf,KAAKE,wBAAL,CAA8Bj4B,OAA9B;YACD;;YAED,MAAMyZ,QAAQ,GAAG,KAAK,CAACmd,YAAvB;;YAEA,IAAI,CAACnd,QAAD,IAAaA,QAAQ,CAAC9Y,MAAT,KAAoB,CAArC,EAAwC;cACtC;YACD;;YAED,MAAMuQ,KAAK,GAAG,CAAC,GAAGlQ,SAAS,CAAC6I,qBAAd,EAAqC4P,QAArC,EAA+CH,IAAI,IAAI+W,wBAAwB,CAAC,CAAC0G,uBAA1B,CAAkD/2B,OAAlD,EAA2DsZ,IAA3D,IAAmE,CAA1H,CAAd;YACA,MAAMue,SAAS,GAAGloB,IAAI,CAACkD,GAAL,CAAS,CAAT,EAAY3B,KAAK,GAAG,CAApB,CAAlB;YACA,KAAK,CAAC4mB,eAAN,CAAsB5kB,EAAtB,EAA0BuG,QAAQ,CAACoe,SAAD,CAAlC;YACA,KAAK,CAAChB,SAAN,CAAgBhvB,GAAhB,CAAoBqL,EAApB,EAAwB2kB,SAAxB;UACD;;UAEDS,gBAAgB,CAAC9iB,SAAD,EAAYxV,OAAZ,EAAqBu4B,cAArB,EAAqCR,WAArC,EAAkD;YAChE,KAAKC,qBAAL,CAA2BO,cAA3B,EAA2CR,WAA3C;;YAEA,IAAI,CAACviB,SAAS,CAACgjB,aAAV,EAAL,EAAgC;cAC9BhjB,SAAS,CAACvb,MAAV,CAAiB+F,OAAjB;cACA;YACD;;YAED,MAAMyZ,QAAQ,GAAG3U,KAAK,CAAC2zB,IAAN,CAAWjjB,SAAS,CAAC4Y,UAArB,EAAiCgK,MAAjC,CAAwC9e,IAAI,IAAIA,IAAI,KAAKtZ,OAAzD,CAAjB;;YAEA,IAAIyZ,QAAQ,CAAC9Y,MAAT,KAAoB,CAAxB,EAA2B;cACzB;YACD;;YAED,MAAM+3B,gBAAgB,GAAGH,cAAc,IAAIv4B,OAA3C;YACA,MAAMkR,KAAK,GAAG,CAAC,GAAGlQ,SAAS,CAAC6I,qBAAd,EAAqC4P,QAArC,EAA+CH,IAAI,IAAI+W,wBAAwB,CAAC,CAAC0G,uBAA1B,CAAkD2B,gBAAlD,EAAoEpf,IAApE,IAA4E,CAAnI,CAAd;;YAEA,IAAIpI,KAAK,KAAK,CAAd,EAAiB;cACfuI,QAAQ,CAAC,CAAD,CAAR,CAAY2W,MAAZ,CAAmBpwB,OAAnB;YACD,CAFD,MAEO;cACLyZ,QAAQ,CAACvI,KAAK,GAAG,CAAT,CAAR,CAAoBynB,KAApB,CAA0B34B,OAA1B;YACD;UACF;;QA1L4B;;QA8L/BxK,OAAO,CAAC66B,wBAAR,GAAmCA,wBAAnC;QAEA;MAAO,CAzvK8B;MA0vKrC;;MACA;MAAO,CAACt6B,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAC0qB,iBAAR,GAA4B,KAAK,CAAjC;;QAEA,IAAIlnB,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIgL,SAAS,GAAGhL,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,MAAM4iC,eAAe,GAAG,KAAxB;;QAEA,MAAM1Y,iBAAN,CAAwB;UACtBjnB,WAAW,GAAG;YACZ,KAAK4J,SAAL,GAAiB,IAAjB;YACA,KAAKg2B,kBAAL,GAA0B,IAA1B;YACA,KAAKC,MAAL,GAAc,IAAd;YACA,KAAKC,mBAAL,GAA2B,IAA3B;YACA,KAAKC,WAAL,GAAmB,IAAnB;YACA,KAAKC,QAAL,GAAgB,KAAhB;YACA,KAAKC,sBAAL,GAA8B,KAA9B;UACD;;UAEDj2B,SAAS,CAACJ,SAAD,EAAY;YACnB,KAAKA,SAAL,GAAiBA,SAAjB;UACD;;UAEDs2B,kBAAkB,CAACN,kBAAD,EAAqB;YACrC,KAAKA,kBAAL,GAA0BA,kBAA1B;UACD;;UAEDrI,iBAAiB,CAAChgB,IAAD,EAAO;YACtB,OAAO,KAAKuoB,mBAAL,KAA6BvoB,IAAI,CAAC0b,WAAzC;UACD;;UAEDU,SAAS,GAAG;YACV,OAAO,CAAC,CAAC,KAAK/pB,SAAd;UACD;;UAED8lB,qBAAqB,CAACoB,qBAAD,EAAwB;YAC3C,IAAI,KAAKiP,WAAT,EAAsB;cACpB5d,YAAY,CAAC,KAAK4d,WAAN,CAAZ;cACA,KAAKA,WAAL,GAAmB,IAAnB;YACD;;YAED,IAAI,KAAKn2B,SAAL,CAAeinB,cAAf,CAA8BC,qBAA9B,CAAJ,EAA0D;cACxD;YACD;;YAED,IAAI,KAAKmP,sBAAL,IAA+B,KAAKL,kBAAL,EAAyB/O,cAAzB,EAAnC,EAA8E;cAC5E;YACD;;YAED,IAAI,KAAKmP,QAAT,EAAmB;cACjB;YACD;;YAED,IAAI,KAAKH,MAAT,EAAiB;cACf,KAAKE,WAAL,GAAmBpd,UAAU,CAAC,KAAKkd,MAAL,CAAYzY,IAAZ,CAAiB,IAAjB,CAAD,EAAyBuY,eAAzB,CAA7B;YACD;UACF;;UAED1O,kBAAkB,CAAClY,OAAD,EAAUb,KAAV,EAAiBioB,YAAjB,EAA+BnP,cAAc,GAAG,KAAhD,EAAuD;YACvE,MAAMoP,YAAY,GAAGrnB,OAAO,CAACb,KAA7B;YAAA,MACMmoB,UAAU,GAAGD,YAAY,CAAC14B,MADhC;;YAGA,IAAI24B,UAAU,KAAK,CAAnB,EAAsB;cACpB,OAAO,IAAP;YACD;;YAED,KAAK,IAAInxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmxB,UAApB,EAAgCnxB,CAAC,EAAjC,EAAqC;cACnC,MAAMqI,IAAI,GAAG6oB,YAAY,CAAClxB,CAAD,CAAZ,CAAgBqI,IAA7B;;cAEA,IAAI,CAAC,KAAK+oB,cAAL,CAAoB/oB,IAApB,CAAL,EAAgC;gBAC9B,OAAOA,IAAP;cACD;YACF;;YAED,MAAMwa,OAAO,GAAGhZ,OAAO,CAACsB,KAAR,CAAcJ,EAA9B;YAAA,MACM+X,MAAM,GAAGjZ,OAAO,CAACuB,IAAR,CAAaL,EAD5B;;YAGA,IAAI+X,MAAM,GAAGD,OAAT,GAAmB,CAAnB,GAAuBsO,UAA3B,EAAuC;cACrC,MAAMzP,UAAU,GAAG7X,OAAO,CAACC,GAA3B;;cAEA,KAAK,IAAI9J,CAAC,GAAG,CAAR,EAAWwV,EAAE,GAAGsN,MAAM,GAAGD,OAA9B,EAAuC7iB,CAAC,GAAGwV,EAA3C,EAA+CxV,CAAC,EAAhD,EAAoD;gBAClD,MAAMqxB,MAAM,GAAGJ,YAAY,GAAGpO,OAAO,GAAG7iB,CAAb,GAAiB8iB,MAAM,GAAG9iB,CAArD;;gBAEA,IAAI0hB,UAAU,CAAC5jB,GAAX,CAAeuzB,MAAf,CAAJ,EAA4B;kBAC1B;gBACD;;gBAED,MAAMC,QAAQ,GAAGtoB,KAAK,CAACqoB,MAAM,GAAG,CAAV,CAAtB;;gBAEA,IAAI,CAAC,KAAKD,cAAL,CAAoBE,QAApB,CAAL,EAAoC;kBAClC,OAAOA,QAAP;gBACD;cACF;YACF;;YAED,IAAIC,cAAc,GAAGN,YAAY,GAAGnO,MAAH,GAAYD,OAAO,GAAG,CAAvD;YACA,IAAI2O,aAAa,GAAGxoB,KAAK,CAACuoB,cAAD,CAAzB;;YAEA,IAAIC,aAAa,IAAI,CAAC,KAAKJ,cAAL,CAAoBI,aAApB,CAAtB,EAA0D;cACxD,OAAOA,aAAP;YACD;;YAED,IAAI1P,cAAJ,EAAoB;cAClByP,cAAc,IAAIN,YAAY,GAAG,CAAH,GAAO,CAAC,CAAtC;cACAO,aAAa,GAAGxoB,KAAK,CAACuoB,cAAD,CAArB;;cAEA,IAAIC,aAAa,IAAI,CAAC,KAAKJ,cAAL,CAAoBI,aAApB,CAAtB,EAA0D;gBACxD,OAAOA,aAAP;cACD;YACF;;YAED,OAAO,IAAP;UACD;;UAEDJ,cAAc,CAAC/oB,IAAD,EAAO;YACnB,OAAOA,IAAI,CAAC+Y,cAAL,KAAwBvoB,SAAS,CAAC6H,eAAV,CAA0BkC,QAAzD;UACD;;UAEDof,UAAU,CAAC3Z,IAAD,EAAO;YACf,QAAQA,IAAI,CAAC+Y,cAAb;cACE,KAAKvoB,SAAS,CAAC6H,eAAV,CAA0BkC,QAA/B;gBACE,OAAO,KAAP;;cAEF,KAAK/J,SAAS,CAAC6H,eAAV,CAA0BiC,MAA/B;gBACE,KAAKiuB,mBAAL,GAA2BvoB,IAAI,CAAC0b,WAAhC;gBACA1b,IAAI,CAACic,MAAL;gBACA;;cAEF,KAAKzrB,SAAS,CAAC6H,eAAV,CAA0BgC,OAA/B;gBACE,KAAKkuB,mBAAL,GAA2BvoB,IAAI,CAAC0b,WAAhC;gBACA;;cAEF,KAAKlrB,SAAS,CAAC6H,eAAV,CAA0B+B,OAA/B;gBACE,KAAKmuB,mBAAL,GAA2BvoB,IAAI,CAAC0b,WAAhC;gBACA1b,IAAI,CAACyf,IAAL,GAAY2J,OAAZ,CAAoB,MAAM;kBACxB,KAAKjR,qBAAL;gBACD,CAFD,EAEGzkB,KAFH,CAES2W,MAAM,IAAI;kBACjB,IAAIA,MAAM,YAAY7hB,SAAS,CAAC03B,2BAAhC,EAA6D;oBAC3D;kBACD;;kBAEDvsB,OAAO,CAACC,KAAR,CAAe,gBAAeyW,MAAO,GAArC;gBACD,CARD;gBASA;YAxBJ;;YA2BA,OAAO,IAAP;UACD;;QA3IqB;;QA+IxBrlB,OAAO,CAAC0qB,iBAAR,GAA4BA,iBAA5B;QAEA;MAAO,CA35K8B;MA45KrC;;MACA;MAAO,CAACnqB,uBAAD,EAA0BP,OAA1B,KAAsC;QAI7CS,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAC60B,eAAR,GAA0B,KAAK,CAA/B;;QAEA,MAAMA,eAAN,CAAsB;UACpBpxB,WAAW,CAAC;YACVgmB,cADU;YAEVtmB,QAFU;YAGVH;UAHU,CAAD,EAIR;YACD,KAAKymB,cAAL,GAAsBA,cAAtB;YACA,KAAK4a,OAAL,GAAe,EAAf;YACA,KAAKlhC,QAAL,GAAgBA,QAAhB;YACA,KAAKmhC,OAAL,GAAethC,SAAf;YACA,KAAKuhC,yBAAL,GAAiC,IAAjC;YACA,KAAK/f,QAAL,GAAgB,IAAhB;YACA,KAAKH,mBAAL,GAA2B,IAA3B;YACA,KAAKjY,OAAL,GAAe,KAAf;UACD;;UAED2Y,cAAc,CAACyf,IAAD,EAAOC,KAAP,EAAc;YAC1B,KAAKjgB,QAAL,GAAgBggB,IAAhB;YACA,KAAKngB,mBAAL,GAA2BogB,KAA3B;UACD;;UAEDrf,MAAM,GAAG;YACP,IAAI,CAAC,KAAKZ,QAAN,IAAkB,CAAC,KAAKH,mBAA5B,EAAiD;cAC/C,MAAM,IAAIhY,KAAJ,CAAU,0CAAV,CAAN;YACD;;YAED,IAAI,KAAKD,OAAT,EAAkB;cAChB,MAAM,IAAIC,KAAJ,CAAU,qCAAV,CAAN;YACD;;YAED,KAAKD,OAAL,GAAe,IAAf;;YAEA,IAAI,CAAC,KAAKm4B,yBAAV,EAAqC;cACnC,KAAKA,yBAAL,GAAiC7rB,GAAG,IAAI;gBACtC,IAAIA,GAAG,CAAC1V,SAAJ,KAAkB,KAAKshC,OAAvB,IAAkC5rB,GAAG,CAAC1V,SAAJ,KAAkB,CAAC,CAAzD,EAA4D;kBAC1D,KAAK0hC,cAAL;gBACD;cACF,CAJD;;cAMA,KAAKvhC,QAAL,CAAc8qB,GAAd,CAAkB,wBAAlB,EAA4C,KAAKsW,yBAAjD;YACD;;YAED,KAAKG,cAAL;UACD;;UAEDpf,OAAO,GAAG;YACR,IAAI,CAAC,KAAKlZ,OAAV,EAAmB;cACjB;YACD;;YAED,KAAKA,OAAL,GAAe,KAAf;;YAEA,IAAI,KAAKm4B,yBAAT,EAAoC;cAClC,KAAKphC,QAAL,CAAcirB,IAAd,CAAmB,wBAAnB,EAA6C,KAAKmW,yBAAlD;;cAEA,KAAKA,yBAAL,GAAiC,IAAjC;YACD;UACF;;UAEDI,eAAe,CAACN,OAAD,EAAUO,aAAV,EAAyB;YACtC,IAAI,CAACP,OAAL,EAAc;cACZ,OAAO,EAAP;YACD;;YAED,MAAM;cACJhgB;YADI,IAEF,IAFJ;YAGA,IAAI1R,CAAC,GAAG,CAAR;YAAA,IACIkyB,MAAM,GAAG,CADb;YAEA,MAAMhf,GAAG,GAAGxB,mBAAmB,CAAClZ,MAApB,GAA6B,CAAzC;YACA,MAAM0P,MAAM,GAAG,EAAf;;YAEA,KAAK,IAAIiqB,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGV,OAAO,CAACl5B,MAA7B,EAAqC25B,CAAC,GAAGC,EAAzC,EAA6CD,CAAC,EAA9C,EAAkD;cAChD,IAAIE,QAAQ,GAAGX,OAAO,CAACS,CAAD,CAAtB;;cAEA,OAAOnyB,CAAC,KAAKkT,GAAN,IAAamf,QAAQ,IAAIH,MAAM,GAAGxgB,mBAAmB,CAAC1R,CAAD,CAAnB,CAAuBxH,MAAhE,EAAwE;gBACtE05B,MAAM,IAAIxgB,mBAAmB,CAAC1R,CAAD,CAAnB,CAAuBxH,MAAjC;gBACAwH,CAAC;cACF;;cAED,IAAIA,CAAC,KAAK0R,mBAAmB,CAAClZ,MAA9B,EAAsC;gBACpCwD,OAAO,CAACC,KAAR,CAAc,mCAAd;cACD;;cAED,MAAMoV,KAAK,GAAG;gBACZihB,KAAK,EAAE;kBACLC,MAAM,EAAEvyB,CADH;kBAELwyB,MAAM,EAAEH,QAAQ,GAAGH;gBAFd;cADK,CAAd;cAMAG,QAAQ,IAAIJ,aAAa,CAACE,CAAD,CAAzB;;cAEA,OAAOnyB,CAAC,KAAKkT,GAAN,IAAamf,QAAQ,GAAGH,MAAM,GAAGxgB,mBAAmB,CAAC1R,CAAD,CAAnB,CAAuBxH,MAA/D,EAAuE;gBACrE05B,MAAM,IAAIxgB,mBAAmB,CAAC1R,CAAD,CAAnB,CAAuBxH,MAAjC;gBACAwH,CAAC;cACF;;cAEDqR,KAAK,CAAC6B,GAAN,GAAY;gBACVqf,MAAM,EAAEvyB,CADE;gBAEVwyB,MAAM,EAAEH,QAAQ,GAAGH;cAFT,CAAZ;cAIAhqB,MAAM,CAAC7L,IAAP,CAAYgV,KAAZ;YACD;;YAED,OAAOnJ,MAAP;UACD;;UAEDuqB,cAAc,CAACf,OAAD,EAAU;YACtB,IAAIA,OAAO,CAACl5B,MAAR,KAAmB,CAAvB,EAA0B;cACxB;YACD;;YAED,MAAM;cACJse,cADI;cAEJ6a;YAFI,IAGF,IAHJ;YAIA,MAAM;cACJjgB,mBADI;cAEJG;YAFI,IAGF,IAHJ;YAIA,MAAM6gB,cAAc,GAAGf,OAAO,KAAK7a,cAAc,CAAC6b,QAAf,CAAwBhB,OAA3D;YACA,MAAMiB,gBAAgB,GAAG9b,cAAc,CAAC6b,QAAf,CAAwBN,QAAjD;YACA,MAAMQ,YAAY,GAAG/b,cAAc,CAACzQ,KAAf,CAAqBwsB,YAA1C;YACA,IAAIC,OAAO,GAAG,IAAd;YACA,MAAMC,QAAQ,GAAG;cACfR,MAAM,EAAE,CAAC,CADM;cAEfC,MAAM,EAAEhtB;YAFO,CAAjB;;YAKA,SAASwtB,SAAT,CAAmBV,KAAnB,EAA0B1gC,SAA1B,EAAqC;cACnC,MAAM2gC,MAAM,GAAGD,KAAK,CAACC,MAArB;cACA1gB,QAAQ,CAAC0gB,MAAD,CAAR,CAAiB9gB,WAAjB,GAA+B,EAA/B;cACA,OAAOwhB,eAAe,CAACV,MAAD,EAAS,CAAT,EAAYD,KAAK,CAACE,MAAlB,EAA0B5gC,SAA1B,CAAtB;YACD;;YAED,SAASqhC,eAAT,CAAyBV,MAAzB,EAAiCW,UAAjC,EAA6CC,QAA7C,EAAuDvhC,SAAvD,EAAkE;cAChE,IAAIX,GAAG,GAAG4gB,QAAQ,CAAC0gB,MAAD,CAAlB;;cAEA,IAAIthC,GAAG,CAACmiC,QAAJ,KAAiBC,IAAI,CAACC,SAA1B,EAAqC;gBACnC,MAAMC,IAAI,GAAG7hC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb;gBACAV,GAAG,CAACg3B,MAAJ,CAAWsL,IAAX;gBACAA,IAAI,CAACzhC,MAAL,CAAYb,GAAZ;gBACA4gB,QAAQ,CAAC0gB,MAAD,CAAR,GAAmBgB,IAAnB;gBACAtiC,GAAG,GAAGsiC,IAAN;cACD;;cAED,MAAMC,OAAO,GAAG9hB,mBAAmB,CAAC6gB,MAAD,CAAnB,CAA4BkB,SAA5B,CAAsCP,UAAtC,EAAkDC,QAAlD,CAAhB;cACA,MAAMhiB,IAAI,GAAGzf,QAAQ,CAACgiC,cAAT,CAAwBF,OAAxB,CAAb;;cAEA,IAAI5hC,SAAJ,EAAe;gBACb,MAAM2hC,IAAI,GAAG7hC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb;gBACA4hC,IAAI,CAAC3hC,SAAL,GAAkB,GAAEA,SAAU,WAA9B;gBACA2hC,IAAI,CAACzhC,MAAL,CAAYqf,IAAZ;gBACAlgB,GAAG,CAACa,MAAJ,CAAWyhC,IAAX;gBACA,OAAO3hC,SAAS,CAAC+L,QAAV,CAAmB,UAAnB,IAAiC41B,IAAI,CAAC1uB,UAAtC,GAAmD,CAA1D;cACD;;cAED5T,GAAG,CAACa,MAAJ,CAAWqf,IAAX;cACA,OAAO,CAAP;YACD;;YAED,IAAIwiB,EAAE,GAAGf,gBAAT;YAAA,IACIgB,EAAE,GAAGD,EAAE,GAAG,CADd;;YAGA,IAAId,YAAJ,EAAkB;cAChBc,EAAE,GAAG,CAAL;cACAC,EAAE,GAAGlC,OAAO,CAACl5B,MAAb;YACD,CAHD,MAGO,IAAI,CAACk6B,cAAL,EAAqB;cAC1B;YACD;;YAED,KAAK,IAAI1yB,CAAC,GAAG2zB,EAAb,EAAiB3zB,CAAC,GAAG4zB,EAArB,EAAyB5zB,CAAC,EAA1B,EAA8B;cAC5B,MAAMqR,KAAK,GAAGqgB,OAAO,CAAC1xB,CAAD,CAArB;cACA,MAAMsyB,KAAK,GAAGjhB,KAAK,CAACihB,KAApB;cACA,MAAMpf,GAAG,GAAG7B,KAAK,CAAC6B,GAAlB;cACA,MAAM2gB,UAAU,GAAGnB,cAAc,IAAI1yB,CAAC,KAAK4yB,gBAA3C;cACA,MAAMkB,eAAe,GAAGD,UAAU,GAAG,WAAH,GAAiB,EAAnD;cACA,IAAIE,YAAY,GAAG,CAAnB;;cAEA,IAAI,CAACjB,OAAD,IAAYR,KAAK,CAACC,MAAN,KAAiBO,OAAO,CAACP,MAAzC,EAAiD;gBAC/C,IAAIO,OAAO,KAAK,IAAhB,EAAsB;kBACpBG,eAAe,CAACH,OAAO,CAACP,MAAT,EAAiBO,OAAO,CAACN,MAAzB,EAAiCO,QAAQ,CAACP,MAA1C,CAAf;gBACD;;gBAEDQ,SAAS,CAACV,KAAD,CAAT;cACD,CAND,MAMO;gBACLW,eAAe,CAACH,OAAO,CAACP,MAAT,EAAiBO,OAAO,CAACN,MAAzB,EAAiCF,KAAK,CAACE,MAAvC,CAAf;cACD;;cAED,IAAIF,KAAK,CAACC,MAAN,KAAiBrf,GAAG,CAACqf,MAAzB,EAAiC;gBAC/BwB,YAAY,GAAGd,eAAe,CAACX,KAAK,CAACC,MAAP,EAAeD,KAAK,CAACE,MAArB,EAA6Btf,GAAG,CAACsf,MAAjC,EAAyC,cAAcsB,eAAvD,CAA9B;cACD,CAFD,MAEO;gBACLC,YAAY,GAAGd,eAAe,CAACX,KAAK,CAACC,MAAP,EAAeD,KAAK,CAACE,MAArB,EAA6BO,QAAQ,CAACP,MAAtC,EAA8C,oBAAoBsB,eAAlE,CAA9B;;gBAEA,KAAK,IAAIE,EAAE,GAAG1B,KAAK,CAACC,MAAN,GAAe,CAAxB,EAA2B0B,EAAE,GAAG/gB,GAAG,CAACqf,MAAzC,EAAiDyB,EAAE,GAAGC,EAAtD,EAA0DD,EAAE,EAA5D,EAAgE;kBAC9DniB,QAAQ,CAACmiB,EAAD,CAAR,CAAapiC,SAAb,GAAyB,qBAAqBkiC,eAA9C;gBACD;;gBAEDd,SAAS,CAAC9f,GAAD,EAAM,kBAAkB4gB,eAAxB,CAAT;cACD;;cAEDhB,OAAO,GAAG5f,GAAV;;cAEA,IAAI2gB,UAAJ,EAAgB;gBACd/c,cAAc,CAACod,mBAAf,CAAmC;kBACjCr8B,OAAO,EAAEga,QAAQ,CAACygB,KAAK,CAACC,MAAP,CADgB;kBAEjCwB,YAFiC;kBAGjC1jC,SAAS,EAAEshC,OAHsB;kBAIjCwC,UAAU,EAAEvB;gBAJqB,CAAnC;cAMD;YACF;;YAED,IAAIE,OAAJ,EAAa;cACXG,eAAe,CAACH,OAAO,CAACP,MAAT,EAAiBO,OAAO,CAACN,MAAzB,EAAiCO,QAAQ,CAACP,MAA1C,CAAf;YACD;UACF;;UAEDT,cAAc,GAAG;YACf,IAAI,CAAC,KAAKt4B,OAAV,EAAmB;cACjB;YACD;;YAED,MAAM;cACJqd,cADI;cAEJ4a,OAFI;cAGJC;YAHI,IAIF,IAJJ;YAKA,MAAM;cACJjgB,mBADI;cAEJG;YAFI,IAGF,IAHJ;YAIA,IAAIuiB,kBAAkB,GAAG,CAAC,CAA1B;;YAEA,KAAK,IAAIp0B,CAAC,GAAG,CAAR,EAAWwV,EAAE,GAAGkc,OAAO,CAACl5B,MAA7B,EAAqCwH,CAAC,GAAGwV,EAAzC,EAA6CxV,CAAC,EAA9C,EAAkD;cAChD,MAAMqR,KAAK,GAAGqgB,OAAO,CAAC1xB,CAAD,CAArB;cACA,MAAMsyB,KAAK,GAAG9qB,IAAI,CAACkD,GAAL,CAAS0pB,kBAAT,EAA6B/iB,KAAK,CAACihB,KAAN,CAAYC,MAAzC,CAAd;;cAEA,KAAK,IAAI8B,CAAC,GAAG/B,KAAR,EAAepf,GAAG,GAAG7B,KAAK,CAAC6B,GAAN,CAAUqf,MAApC,EAA4C8B,CAAC,IAAInhB,GAAjD,EAAsDmhB,CAAC,EAAvD,EAA2D;gBACzD,MAAMpjC,GAAG,GAAG4gB,QAAQ,CAACwiB,CAAD,CAApB;gBACApjC,GAAG,CAACwgB,WAAJ,GAAkBC,mBAAmB,CAAC2iB,CAAD,CAArC;gBACApjC,GAAG,CAACW,SAAJ,GAAgB,EAAhB;cACD;;cAEDwiC,kBAAkB,GAAG/iB,KAAK,CAAC6B,GAAN,CAAUqf,MAAV,GAAmB,CAAxC;YACD;;YAED,IAAI,CAACzb,cAAc,EAAEwd,gBAArB,EAAuC;cACrC;YACD;;YAED,MAAMC,WAAW,GAAGzd,cAAc,CAACyd,WAAf,CAA2B5C,OAA3B,KAAuC,IAA3D;YACA,MAAM6C,iBAAiB,GAAG1d,cAAc,CAAC0d,iBAAf,CAAiC7C,OAAjC,KAA6C,IAAvE;YACA,KAAKD,OAAL,GAAe,KAAKM,eAAL,CAAqBuC,WAArB,EAAkCC,iBAAlC,CAAf;;YAEA,KAAK/B,cAAL,CAAoB,KAAKf,OAAzB;UACD;;QAhQmB;;QAoQtBrkC,OAAO,CAAC60B,eAAR,GAA0BA,eAA1B;QAEA;MAAO,CA5qL8B;MA6qLrC;;MACA;MAAO,CAACt0B,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAConC,eAAR,GAA0B,KAAK,CAA/B;;QAEA,IAAI5jC,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAEA;;QAEA,SAAS6mC,QAAT,CAAkBC,OAAlB,EAA2BC,QAA3B,EAAqC;UACnC,MAAMhtB,CAAC,GAAGlW,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;;UAEA,IAAI,CAACiW,CAAC,CAACitB,KAAP,EAAc;YACZ,MAAM,IAAIn7B,KAAJ,CAAU,gDAAV,CAAN;UACD;;UAEDkO,CAAC,CAAC/N,IAAF,GAAS86B,OAAT;UACA/sB,CAAC,CAACrO,MAAF,GAAW,SAAX;;UAEA,IAAI,cAAcqO,CAAlB,EAAqB;YACnBA,CAAC,CAAC8sB,QAAF,GAAaE,QAAb;UACD;;UAED,CAACljC,QAAQ,CAACojC,IAAT,IAAiBpjC,QAAQ,CAAC+a,eAA3B,EAA4C3a,MAA5C,CAAmD8V,CAAnD;UACAA,CAAC,CAACitB,KAAF;UACAjtB,CAAC,CAACrV,MAAF;QACD;;QAED,MAAMkiC,eAAN,CAAsB;UACpB3jC,WAAW,GAAG;YACZ,KAAKikC,aAAL,GAAqB,IAAI1Q,OAAJ,EAArB;UACD;;UAED2Q,WAAW,CAAC17B,GAAD,EAAMs7B,QAAN,EAAgB;YACzB,IAAI,CAAC,CAAC,GAAG/jC,SAAS,CAACokC,sBAAd,EAAsC37B,GAAtC,EAA2C,oBAA3C,CAAL,EAAuE;cACrE0C,OAAO,CAACC,KAAR,CAAe,kCAAiC3C,GAAI,EAApD;cACA;YACD;;YAEDo7B,QAAQ,CAACp7B,GAAG,GAAG,wBAAP,EAAiCs7B,QAAjC,CAAR;UACD;;UAEDM,YAAY,CAACC,IAAD,EAAOP,QAAP,EAAiBQ,WAAjB,EAA8B;YACxC,MAAMT,OAAO,GAAGU,GAAG,CAACC,eAAJ,CAAoB,IAAIC,IAAJ,CAAS,CAACJ,IAAD,CAAT,EAAiB;cACnD9R,IAAI,EAAE+R;YAD6C,CAAjB,CAApB,CAAhB;YAGAV,QAAQ,CAACC,OAAD,EAAUC,QAAV,CAAR;UACD;;UAEDY,kBAAkB,CAAC39B,OAAD,EAAUs9B,IAAV,EAAgBP,QAAhB,EAA0B;YAC1C,MAAMa,SAAS,GAAG,CAAC,GAAG5kC,SAAS,CAAC6kC,SAAd,EAAyBd,QAAzB,CAAlB;YACA,MAAMQ,WAAW,GAAGK,SAAS,GAAG,iBAAH,GAAuB,EAApD;;YAEA,IAAIA,SAAJ,EAAe;cACb,IAAId,OAAO,GAAG,KAAKI,aAAL,CAAmBr9B,GAAnB,CAAuBG,OAAvB,CAAd;;cAEA,IAAI,CAAC88B,OAAL,EAAc;gBACZA,OAAO,GAAGU,GAAG,CAACC,eAAJ,CAAoB,IAAIC,IAAJ,CAAS,CAACJ,IAAD,CAAT,EAAiB;kBAC7C9R,IAAI,EAAE+R;gBADuC,CAAjB,CAApB,CAAV;;gBAIA,KAAKL,aAAL,CAAmBr1B,GAAnB,CAAuB7H,OAAvB,EAAgC88B,OAAhC;cACD;;cAED,IAAIgB,SAAJ;cACAA,SAAS,GAAG,WAAWC,kBAAkB,CAACjB,OAAO,GAAG,GAAV,GAAgBC,QAAjB,CAAzC;;cAEA,IAAI;gBACFniC,MAAM,CAACojC,IAAP,CAAYF,SAAZ;gBACA,OAAO,IAAP;cACD,CAHD,CAGE,OAAO92B,EAAP,EAAW;gBACX7C,OAAO,CAACC,KAAR,CAAe,uBAAsB4C,EAAG,EAAxC;gBACAw2B,GAAG,CAACS,eAAJ,CAAoBnB,OAApB;;gBAEA,KAAKI,aAAL,CAAmB5f,MAAnB,CAA0Btd,OAA1B;cACD;YACF;;YAED,KAAKq9B,YAAL,CAAkBC,IAAlB,EAAwBP,QAAxB,EAAkCQ,WAAlC;YACA,OAAO,KAAP;UACD;;UAEDV,QAAQ,CAACqB,IAAD,EAAOz8B,GAAP,EAAYs7B,QAAZ,EAAsB;YAC5B,MAAMD,OAAO,GAAGU,GAAG,CAACC,eAAJ,CAAoBS,IAApB,CAAhB;YACArB,QAAQ,CAACC,OAAD,EAAUC,QAAV,CAAR;UACD;;QAzDmB;;QA6DtBvnC,OAAO,CAAConC,eAAR,GAA0BA,eAA1B;QAEA;MAAO,CA7wL8B;MA8wLrC;;MACA;MAAO,CAAC7mC,uBAAD,EAA0BP,OAA1B,KAAsC;QAI7CS,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAC2oC,UAAR,GAAqB3oC,OAAO,CAAC4oC,QAAR,GAAmB5oC,OAAO,CAAC6oC,kBAAR,GAA6B,KAAK,CAA1E;QACA7oC,OAAO,CAAC8oC,oBAAR,GAA+BA,oBAA/B;QACA,MAAMH,UAAU,GAAG;UACjBI,KAAK,EAAE,OADU;UAEjBC,OAAO,EAAE;QAFQ,CAAnB;QAIAhpC,OAAO,CAAC2oC,UAAR,GAAqBA,UAArB;;QAEA,SAASG,oBAAT,CAA8B;UAC5B58B,MAD4B;UAE5BhC,IAF4B;UAG5B++B,KAAK,GAAG;QAHoB,CAA9B,EAIG;UACD,OAAO,IAAIh+B,OAAJ,CAAY,UAAUkU,OAAV,EAAmB6Q,MAAnB,EAA2B;YAC5C,IAAI,OAAO9jB,MAAP,KAAkB,QAAlB,IAA8B,EAAEhC,IAAI,IAAI,OAAOA,IAAP,KAAgB,QAA1B,CAA9B,IAAqE,EAAE2E,MAAM,CAACC,SAAP,CAAiBm6B,KAAjB,KAA2BA,KAAK,IAAI,CAAtC,CAAzE,EAAmH;cACjH,MAAM,IAAI58B,KAAJ,CAAU,4CAAV,CAAN;YACD;;YAED,SAAS68B,OAAT,CAAiBlT,IAAjB,EAAuB;cACrB,IAAI9pB,MAAM,YAAY08B,QAAtB,EAAgC;gBAC9B18B,MAAM,CAACkiB,IAAP,CAAYlkB,IAAZ,EAAkBi/B,YAAlB;cACD,CAFD,MAEO;gBACLj9B,MAAM,CAACshB,mBAAP,CAA2BtjB,IAA3B,EAAiCi/B,YAAjC;cACD;;cAED,IAAIrkB,OAAJ,EAAa;gBACXc,YAAY,CAACd,OAAD,CAAZ;cACD;;cAED3F,OAAO,CAAC6W,IAAD,CAAP;YACD;;YAED,MAAMmT,YAAY,GAAGD,OAAO,CAACre,IAAR,CAAa,IAAb,EAAmB8d,UAAU,CAACI,KAA9B,CAArB;;YAEA,IAAI78B,MAAM,YAAY08B,QAAtB,EAAgC;cAC9B18B,MAAM,CAAC+hB,GAAP,CAAW/jB,IAAX,EAAiBi/B,YAAjB;YACD,CAFD,MAEO;cACLj9B,MAAM,CAACoN,gBAAP,CAAwBpP,IAAxB,EAA8Bi/B,YAA9B;YACD;;YAED,MAAMC,cAAc,GAAGF,OAAO,CAACre,IAAR,CAAa,IAAb,EAAmB8d,UAAU,CAACK,OAA9B,CAAvB;YACA,MAAMlkB,OAAO,GAAGsB,UAAU,CAACgjB,cAAD,EAAiBH,KAAjB,CAA1B;UACD,CA7BM,CAAP;QA8BD;;QAED,MAAML,QAAN,CAAe;UACbnlC,WAAW,GAAG;YACZ,KAAK4lC,UAAL,GAAkB5oC,MAAM,CAACk9B,MAAP,CAAc,IAAd,CAAlB;UACD;;UAED2L,EAAE,CAACC,SAAD,EAAYC,QAAZ,EAAsB9lC,OAAO,GAAG,IAAhC,EAAsC;YACtC,KAAKuqB,GAAL,CAASsb,SAAT,EAAoBC,QAApB,EAA8B;cAC5BC,QAAQ,EAAE,IADkB;cAE5BC,IAAI,EAAEhmC,OAAO,EAAEgmC;YAFa,CAA9B;UAID;;UAEDC,GAAG,CAACJ,SAAD,EAAYC,QAAZ,EAAsB9lC,OAAO,GAAG,IAAhC,EAAsC;YACvC,KAAK0qB,IAAL,CAAUmb,SAAV,EAAqBC,QAArB,EAA+B;cAC7BC,QAAQ,EAAE,IADmB;cAE7BC,IAAI,EAAEhmC,OAAO,EAAEgmC;YAFc,CAA/B;UAID;;UAEDh5B,QAAQ,CAAC64B,SAAD,EAAYzB,IAAZ,EAAkB;YACxB,MAAM8B,cAAc,GAAG,KAAKP,UAAL,CAAgBE,SAAhB,CAAvB;;YAEA,IAAI,CAACK,cAAD,IAAmBA,cAAc,CAACz+B,MAAf,KAA0B,CAAjD,EAAoD;cAClD;YACD;;YAED,IAAI0+B,iBAAJ;;YAEA,KAAK,MAAM;cACTL,QADS;cAETC,QAFS;cAGTC;YAHS,CAAX,IAIKE,cAAc,CAACxH,KAAf,CAAqB,CAArB,CAJL,EAI8B;cAC5B,IAAIsH,IAAJ,EAAU;gBACR,KAAKtb,IAAL,CAAUmb,SAAV,EAAqBC,QAArB;cACD;;cAED,IAAIC,QAAJ,EAAc;gBACZ,CAACI,iBAAiB,KAAK,EAAvB,EAA2B76B,IAA3B,CAAgCw6B,QAAhC;gBACA;cACD;;cAEDA,QAAQ,CAAC1B,IAAD,CAAR;YACD;;YAED,IAAI+B,iBAAJ,EAAuB;cACrB,KAAK,MAAML,QAAX,IAAuBK,iBAAvB,EAA0C;gBACxCL,QAAQ,CAAC1B,IAAD,CAAR;cACD;;cAED+B,iBAAiB,GAAG,IAApB;YACD;UACF;;UAED5b,GAAG,CAACsb,SAAD,EAAYC,QAAZ,EAAsB9lC,OAAO,GAAG,IAAhC,EAAsC;YACvC,MAAMkmC,cAAc,GAAG,KAAKP,UAAL,CAAgBE,SAAhB,MAA+B,EAAtD;YACAK,cAAc,CAAC56B,IAAf,CAAoB;cAClBw6B,QADkB;cAElBC,QAAQ,EAAE/lC,OAAO,EAAE+lC,QAAT,KAAsB,IAFd;cAGlBC,IAAI,EAAEhmC,OAAO,EAAEgmC,IAAT,KAAkB;YAHN,CAApB;UAKD;;UAEDtb,IAAI,CAACmb,SAAD,EAAYC,QAAZ,EAAsB9lC,OAAO,GAAG,IAAhC,EAAsC;YACxC,MAAMkmC,cAAc,GAAG,KAAKP,UAAL,CAAgBE,SAAhB,CAAvB;;YAEA,IAAI,CAACK,cAAL,EAAqB;cACnB;YACD;;YAED,KAAK,IAAIj3B,CAAC,GAAG,CAAR,EAAWwV,EAAE,GAAGyhB,cAAc,CAACz+B,MAApC,EAA4CwH,CAAC,GAAGwV,EAAhD,EAAoDxV,CAAC,EAArD,EAAyD;cACvD,IAAIi3B,cAAc,CAACj3B,CAAD,CAAd,CAAkB62B,QAAlB,KAA+BA,QAAnC,EAA6C;gBAC3CI,cAAc,CAACE,MAAf,CAAsBn3B,CAAtB,EAAyB,CAAzB;gBACA;cACD;YACF;UACF;;QA5EY;;QAgFf3S,OAAO,CAAC4oC,QAAR,GAAmBA,QAAnB;;QAEA,MAAMC,kBAAN,SAAiCD,QAAjC,CAA0C;UACxCl4B,QAAQ,CAAC64B,SAAD,EAAYzB,IAAZ,EAAkB;YACxB,MAAM,IAAIz7B,KAAJ,CAAU,8CAAV,CAAN;UACD;;QAHuC;;QAO1CrM,OAAO,CAAC6oC,kBAAR,GAA6BA,kBAA7B;QAEA;MAAO,CA95L8B;MA+5LrC;;MACA;MAAO,CAACtoC,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAC+pC,WAAR,GAAsB,KAAK,CAA3B;;QAEAvpC,mBAAmB,CAAC,EAAD,CAAnB;;QAEA,IAAIW,WAAW,GAAGX,mBAAmB,CAAC,CAAD,CAArC;;QAEA,MAAMwpC,OAAO,GAAG3lC,QAAQ,CAAC2lC,OAAzB;;QAEA,MAAMD,WAAN,CAAkB;UAChBtmC,WAAW,CAACogB,IAAD,EAAO;YAChB,KAAKomB,KAAL,GAAapmB,IAAb;YACA,KAAKqmB,MAAL,GAAc,IAAIj/B,OAAJ,CAAY,CAACkU,OAAD,EAAU6Q,MAAV,KAAqB;cAC7Cga,OAAO,CAACG,WAAR,CAAoB,CAAC,GAAGhpC,WAAW,CAACmE,aAAhB,EAA+Bue,IAA/B,CAApB,EAA0D,MAAM;gBAC9D1E,OAAO,CAAC6qB,OAAD,CAAP;cACD,CAFD;YAGD,CAJa,CAAd;UAKD;;UAEK7/B,WAAW,GAAG;YAAA;;YAAA;cAClB,MAAMrI,IAAI,SAAS,OAAI,CAACooC,MAAxB;cACA,OAAOpoC,IAAI,CAACqI,WAAL,EAAP;YAFkB;UAGnB;;UAEKC,YAAY,GAAG;YAAA;;YAAA;cACnB,MAAMtI,IAAI,SAAS,OAAI,CAACooC,MAAxB;cACA,OAAOpoC,IAAI,CAACsI,YAAL,EAAP;YAFmB;UAGpB;;UAEKC,GAAG,CAAC5B,GAAD,EAAMC,IAAI,GAAG,IAAb,EAAmB4B,QAAQ,GAAG,CAAC,GAAGnJ,WAAW,CAACoE,eAAhB,EAAiCkD,GAAjC,EAAsCC,IAAtC,CAA9B,EAA2E;YAAA;;YAAA;cAClF,MAAM5G,IAAI,SAAS,OAAI,CAACooC,MAAxB;cACA,OAAOpoC,IAAI,CAACuI,GAAL,CAAS5B,GAAT,EAAcC,IAAd,EAAoB4B,QAApB,CAAP;YAFkF;UAGnF;;UAEKC,SAAS,CAACC,OAAD,EAAU;YAAA;;YAAA;cACvB,MAAM1I,IAAI,SAAS,OAAI,CAACooC,MAAxB;cACA,OAAOpoC,IAAI,CAACyI,SAAL,CAAeC,OAAf,CAAP;YAFuB;UAGxB;;QA5Be;;QAgClBxK,OAAO,CAAC+pC,WAAR,GAAsBA,WAAtB;QAEA;MAAO,CAj9L8B;MAk9LrC;;MACA;MAAO,MAAM;QAIb1lC,QAAQ,CAAC2lC,OAAT,GAAmB,UAAU5kC,MAAV,EAAkBf,QAAlB,EAA4B8T,SAA5B,EAAuC;UACxD,IAAIiyB,SAAS,GAAG,EAAhB;UACA,IAAIC,SAAS,GAAG,EAAhB;UACA,IAAIC,SAAS,GAAG,aAAhB;UACA,IAAIC,SAAS,GAAG,EAAhB;UACA,IAAIC,OAAO,GAAG,EAAd;UACA,IAAIC,WAAW,GAAG,SAAlB;UACA,IAAIC,qBAAqB,GAAG,IAA5B;;UAEA,SAASC,oBAAT,GAAgC;YAC9B,OAAOtmC,QAAQ,CAACumC,gBAAT,CAA0B,+BAA1B,CAAP;UACD;;UAED,SAASC,iBAAT,GAA6B;YAC3B,IAAIC,MAAM,GAAGzmC,QAAQ,CAACkc,aAAT,CAAuB,iCAAvB,CAAb;YACA,OAAOuqB,MAAM,GAAG76B,IAAI,CAACqB,KAAL,CAAWw5B,MAAM,CAACC,SAAlB,CAAH,GAAkC,IAA/C;UACD;;UAED,SAASC,uBAAT,CAAiCxgC,OAAjC,EAA0C;YACxC,OAAOA,OAAO,GAAGA,OAAO,CAACogC,gBAAR,CAAyB,iBAAzB,CAAH,GAAiD,EAA/D;UACD;;UAED,SAASK,iBAAT,CAA2BzgC,OAA3B,EAAoC;YAClC,IAAI,CAACA,OAAL,EAAc,OAAO,EAAP;YACd,IAAI0gC,MAAM,GAAG1gC,OAAO,CAACm4B,YAAR,CAAqB,cAArB,CAAb;YACA,IAAIwI,QAAQ,GAAG3gC,OAAO,CAACm4B,YAAR,CAAqB,gBAArB,CAAf;YACA,IAAIj6B,IAAI,GAAG,EAAX;;YAEA,IAAIyiC,QAAJ,EAAc;cACZ,IAAI;gBACFziC,IAAI,GAAGuH,IAAI,CAACqB,KAAL,CAAW65B,QAAX,CAAP;cACD,CAFD,CAEE,OAAOC,CAAP,EAAU;gBACVz8B,OAAO,CAAC4b,IAAR,CAAa,oCAAoC2gB,MAAjD;cACD;YACF;;YAED,OAAO;cACLxtB,EAAE,EAAEwtB,MADC;cAELxiC,IAAI,EAAEA;YAFD,CAAP;UAID;;UAED,SAAS2iC,WAAT,CAAqBp/B,GAArB,EAA0Bq/B,SAA1B,EAAqCC,SAArC,EAAgD;YAC9CD,SAAS,GAAGA,SAAS,IAAI,SAASE,UAAT,CAAoB1D,IAApB,EAA0B,CAAE,CAArD;;YAEAyD,SAAS,GAAGA,SAAS,IAAI,SAASE,UAAT,GAAsB,CAAE,CAAjD;;YAEA,IAAIC,GAAG,GAAG,IAAIC,cAAJ,EAAV;YACAD,GAAG,CAAClD,IAAJ,CAAS,KAAT,EAAgBv8B,GAAhB,EAAqBy+B,qBAArB;;YAEA,IAAIgB,GAAG,CAACE,gBAAR,EAA0B;cACxBF,GAAG,CAACE,gBAAJ,CAAqB,2BAArB;YACD;;YAEDF,GAAG,CAACG,kBAAJ,GAAyB,YAAY;cACnC,IAAIH,GAAG,CAACI,UAAJ,IAAkB,CAAtB,EAAyB;gBACvB,IAAIJ,GAAG,CAACK,MAAJ,IAAc,GAAd,IAAqBL,GAAG,CAACK,MAAJ,KAAe,CAAxC,EAA2C;kBACzCT,SAAS,CAACI,GAAG,CAACM,YAAL,CAAT;gBACD,CAFD,MAEO;kBACLT,SAAS;gBACV;cACF;YACF,CARD;;YAUAG,GAAG,CAACO,OAAJ,GAAcV,SAAd;YACAG,GAAG,CAACQ,SAAJ,GAAgBX,SAAhB;;YAEA,IAAI;cACFG,GAAG,CAACS,IAAJ,CAAS,IAAT;YACD,CAFD,CAEE,OAAOf,CAAP,EAAU;cACVG,SAAS;YACV;UACF;;UAED,SAASa,aAAT,CAAuB5/B,IAAvB,EAA6BqX,IAA7B,EAAmCwoB,eAAnC,EAAoDC,eAApD,EAAqE;YACnE,IAAIC,OAAO,GAAG//B,IAAI,CAACxC,OAAL,CAAa,SAAb,EAAwB,EAAxB,KAA+B,IAA7C;;YAEA,SAASwiC,UAAT,CAAoBziC,IAApB,EAA0B;cACxB,IAAIA,IAAI,CAAC0iC,WAAL,CAAiB,IAAjB,IAAyB,CAA7B,EAAgC,OAAO1iC,IAAP;cAChC,OAAOA,IAAI,CAACC,OAAL,CAAa,OAAb,EAAsB,IAAtB,EAA4BA,OAA5B,CAAoC,MAApC,EAA4C,IAA5C,EAAkDA,OAAlD,CAA0D,MAA1D,EAAkE,IAAlE,EAAwEA,OAAxE,CAAgF,MAAhF,EAAwF,IAAxF,EAA8FA,OAA9F,CAAsG,MAAtG,EAA8G,IAA9G,EAAoHA,OAApH,CAA4H,MAA5H,EAAoI,IAApI,EAA0IA,OAA1I,CAAkJ,MAAlJ,EAA0J,GAA1J,EAA+JA,OAA/J,CAAuK,MAAvK,EAA+K,GAA/K,EAAoLA,OAApL,CAA4L,MAA5L,EAAoM,GAApM,EAAyMA,OAAzM,CAAiN,MAAjN,EAAyN,GAAzN,CAAP;YACD;;YAED,SAAS0iC,eAAT,CAAyB3iC,IAAzB,EAA+B4iC,wBAA/B,EAAyD;cACvD,IAAIC,UAAU,GAAG,EAAjB;cACA,IAAIC,OAAO,GAAG,WAAd;cACA,IAAIC,SAAS,GAAG,aAAhB;cACA,IAAIC,SAAS,GAAG,kBAAhB;cACA,IAAIC,QAAQ,GAAG,gCAAf;cACA,IAAIC,OAAO,GAAG,wBAAd;;cAEA,SAASC,aAAT,CAAuBC,OAAvB,EAAgCC,cAAhC,EAAgDC,sBAAhD,EAAwE;gBACtE,IAAIC,OAAO,GAAGH,OAAO,CAACnjC,OAAR,CAAgB6iC,OAAhB,EAAyB,EAAzB,EAA6B97B,KAA7B,CAAmC,SAAnC,CAAd;gBACA,IAAIw8B,WAAW,GAAG,GAAlB;gBACA,IAAIC,WAAW,GAAG3pB,IAAI,CAAC9S,KAAL,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAAlB;gBACA,IAAI08B,QAAQ,GAAG,KAAf;gBACA,IAAIzpB,KAAK,GAAG,EAAZ;;gBAEA,SAAS0pB,SAAT,GAAqB;kBACnB,OAAO,IAAP,EAAa;oBACX,IAAI,CAACJ,OAAO,CAACniC,MAAb,EAAqB;sBACnBkiC,sBAAsB;sBACtB;oBACD;;oBAED,IAAIM,IAAI,GAAGL,OAAO,CAACM,KAAR,EAAX;oBACA,IAAId,SAAS,CAAC7O,IAAV,CAAe0P,IAAf,CAAJ,EAA0B;;oBAE1B,IAAIP,cAAJ,EAAoB;sBAClBppB,KAAK,GAAG+oB,SAAS,CAACc,IAAV,CAAeF,IAAf,CAAR;;sBAEA,IAAI3pB,KAAJ,EAAW;wBACTupB,WAAW,GAAGvpB,KAAK,CAAC,CAAD,CAAL,CAASna,WAAT,EAAd;wBACA4jC,QAAQ,GAAGF,WAAW,KAAK,GAAhB,IAAuBA,WAAW,KAAK1pB,IAAvC,IAA+C0pB,WAAW,KAAKC,WAA1E;wBACA;sBACD,CAJD,MAIO,IAAIC,QAAJ,EAAc;wBACnB;sBACD;;sBAEDzpB,KAAK,GAAGgpB,QAAQ,CAACa,IAAT,CAAcF,IAAd,CAAR;;sBAEA,IAAI3pB,KAAJ,EAAW;wBACT8pB,UAAU,CAACvB,OAAO,GAAGvoB,KAAK,CAAC,CAAD,CAAhB,EAAqB0pB,SAArB,CAAV;wBACA;sBACD;oBACF;;oBAED,IAAIK,GAAG,GAAGJ,IAAI,CAAC3pB,KAAL,CAAWipB,OAAX,CAAV;;oBAEA,IAAIc,GAAG,IAAIA,GAAG,CAAC5iC,MAAJ,IAAc,CAAzB,EAA4B;sBAC1ByhC,UAAU,CAACmB,GAAG,CAAC,CAAD,CAAJ,CAAV,GAAqBvB,UAAU,CAACuB,GAAG,CAAC,CAAD,CAAJ,CAA/B;oBACD;kBACF;gBACF;;gBAEDL,SAAS;cACV;;cAED,SAASI,UAAT,CAAoB7hC,GAApB,EAAyBuM,QAAzB,EAAmC;gBACjC6yB,WAAW,CAACp/B,GAAD,EAAM,UAAUk6B,OAAV,EAAmB;kBAClC+G,aAAa,CAAC/G,OAAD,EAAU,KAAV,EAAiB3tB,QAAjB,CAAb;gBACD,CAFU,EAER,YAAY;kBACb7J,OAAO,CAAC4b,IAAR,CAAate,GAAG,GAAG,aAAnB;kBACAuM,QAAQ;gBACT,CALU,CAAX;cAMD;;cAED00B,aAAa,CAACnjC,IAAD,EAAO,IAAP,EAAa,YAAY;gBACpC4iC,wBAAwB,CAACC,UAAD,CAAxB;cACD,CAFY,CAAb;YAGD;;YAEDvB,WAAW,CAAC7+B,IAAD,EAAO,UAAUwhC,QAAV,EAAoB;cACpC3D,SAAS,IAAI2D,QAAb;cACAtB,eAAe,CAACsB,QAAD,EAAW,UAAUlG,IAAV,EAAgB;gBACxC,KAAK,IAAIr/B,GAAT,IAAgBq/B,IAAhB,EAAsB;kBACpB,IAAIpqB,EAAJ;kBAAA,IACIuwB,IADJ;kBAAA,IAEIvyB,KAAK,GAAGjT,GAAG,CAACgkC,WAAJ,CAAgB,GAAhB,CAFZ;;kBAIA,IAAI/wB,KAAK,GAAG,CAAZ,EAAe;oBACbgC,EAAE,GAAGjV,GAAG,CAAC29B,SAAJ,CAAc,CAAd,EAAiB1qB,KAAjB,CAAL;oBACAuyB,IAAI,GAAGxlC,GAAG,CAAC29B,SAAJ,CAAc1qB,KAAK,GAAG,CAAtB,CAAP;kBACD,CAHD,MAGO;oBACLgC,EAAE,GAAGjV,GAAL;oBACAwlC,IAAI,GAAG3D,SAAP;kBACD;;kBAED,IAAI,CAACF,SAAS,CAAC1sB,EAAD,CAAd,EAAoB;oBAClB0sB,SAAS,CAAC1sB,EAAD,CAAT,GAAgB,EAAhB;kBACD;;kBAED0sB,SAAS,CAAC1sB,EAAD,CAAT,CAAcuwB,IAAd,IAAsBnG,IAAI,CAACr/B,GAAD,CAA1B;gBACD;;gBAED,IAAI4jC,eAAJ,EAAqB;kBACnBA,eAAe;gBAChB;cACF,CAxBc,CAAf;YAyBD,CA3BU,EA2BRC,eA3BQ,CAAX;UA4BD;;UAED,SAAS4B,UAAT,CAAoBrqB,IAApB,EAA0BrL,QAA1B,EAAoC;YAClC,IAAIqL,IAAJ,EAAU;cACRA,IAAI,GAAGA,IAAI,CAACha,WAAL,EAAP;YACD;;YAED2O,QAAQ,GAAGA,QAAQ,IAAI,SAAS21B,SAAT,GAAqB,CAAE,CAA9C;;YAEA3gC,KAAK;YACL+8B,SAAS,GAAG1mB,IAAZ;YACA,IAAIuqB,SAAS,GAAGzD,oBAAoB,EAApC;YACA,IAAI0D,SAAS,GAAGD,SAAS,CAACjjC,MAA1B;;YAEA,IAAIkjC,SAAS,KAAK,CAAlB,EAAqB;cACnB,IAAIC,IAAI,GAAGzD,iBAAiB,EAA5B;;cAEA,IAAIyD,IAAI,IAAIA,IAAI,CAACC,OAAb,IAAwBD,IAAI,CAACE,cAAjC,EAAiD;gBAC/C7/B,OAAO,CAAC8/B,GAAR,CAAY,kDAAZ;gBACArE,SAAS,GAAGkE,IAAI,CAACC,OAAL,CAAa1qB,IAAb,CAAZ;;gBAEA,IAAI,CAACumB,SAAL,EAAgB;kBACd,IAAIsE,aAAa,GAAGJ,IAAI,CAACE,cAAL,CAAoB3kC,WAApB,EAApB;;kBAEA,KAAK,IAAI8kC,WAAT,IAAwBL,IAAI,CAACC,OAA7B,EAAsC;oBACpCI,WAAW,GAAGA,WAAW,CAAC9kC,WAAZ,EAAd;;oBAEA,IAAI8kC,WAAW,KAAK9qB,IAApB,EAA0B;sBACxBumB,SAAS,GAAGkE,IAAI,CAACC,OAAL,CAAa1qB,IAAb,CAAZ;sBACA;oBACD,CAHD,MAGO,IAAI8qB,WAAW,KAAKD,aAApB,EAAmC;sBACxCtE,SAAS,GAAGkE,IAAI,CAACC,OAAL,CAAaG,aAAb,CAAZ;oBACD;kBACF;gBACF;;gBAEDl2B,QAAQ;cACT,CApBD,MAoBO;gBACL7J,OAAO,CAAC8/B,GAAR,CAAY,oCAAZ;cACD;;cAEDhE,WAAW,GAAG,UAAd;cACA;YACD;;YAED,IAAImE,gBAAgB,GAAG,IAAvB;YACA,IAAIC,cAAc,GAAG,CAArB;;YAEAD,gBAAgB,GAAG,YAAY;cAC7BC,cAAc;;cAEd,IAAIA,cAAc,IAAIR,SAAtB,EAAiC;gBAC/B71B,QAAQ;gBACRiyB,WAAW,GAAG,UAAd;cACD;YACF,CAPD;;YASA,SAASqE,gBAAT,CAA0B9iC,IAA1B,EAAgC;cAC9B,IAAIQ,IAAI,GAAGR,IAAI,CAACQ,IAAhB;;cAEA,KAAKuiC,IAAL,GAAY,UAAUlrB,IAAV,EAAgBrL,QAAhB,EAA0B;gBACpC4zB,aAAa,CAAC5/B,IAAD,EAAOqX,IAAP,EAAarL,QAAb,EAAuB,YAAY;kBAC9C7J,OAAO,CAAC4b,IAAR,CAAa/d,IAAI,GAAG,aAApB;kBACAmC,OAAO,CAAC4b,IAAR,CAAa,MAAM1G,IAAN,GAAa,sBAA1B;kBACA0mB,SAAS,GAAG,EAAZ;kBACA/xB,QAAQ;gBACT,CALY,CAAb;cAMD,CAPD;YAQD;;YAED,KAAK,IAAI7F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG07B,SAApB,EAA+B17B,CAAC,EAAhC,EAAoC;cAClC,IAAIq8B,QAAQ,GAAG,IAAIF,gBAAJ,CAAqBV,SAAS,CAACz7B,CAAD,CAA9B,CAAf;cACAq8B,QAAQ,CAACD,IAAT,CAAclrB,IAAd,EAAoB+qB,gBAApB;YACD;UACF;;UAED,SAASphC,KAAT,GAAiB;YACf48B,SAAS,GAAG,EAAZ;YACAC,SAAS,GAAG,EAAZ;YACAE,SAAS,GAAG,EAAZ;UACD;;UAED,SAAS0E,cAAT,CAAwBprB,IAAxB,EAA8B;YAC5B,IAAIqrB,aAAa,GAAG;cAClB,MAAM,CADY;cAElB,MAAM,CAFY;cAGlB,MAAM,CAHY;cAIlB,MAAM,CAJY;cAKlB,OAAO,CALW;cAMlB,MAAM,CANY;cAOlB,MAAM,EAPY;cAQlB,OAAO,CARW;cASlB,OAAO,CATW;cAUlB,MAAM,CAVY;cAWlB,MAAM,CAXY;cAYlB,MAAM,CAZY;cAalB,MAAM,CAbY;cAclB,MAAM,CAdY;cAelB,MAAM,EAfY;cAgBlB,OAAO,CAhBW;cAiBlB,MAAM,EAjBY;cAkBlB,MAAM,CAlBY;cAmBlB,OAAO,CAnBW;cAoBlB,OAAO,CApBW;cAqBlB,MAAM,EArBY;cAsBlB,MAAM,EAtBY;cAuBlB,MAAM,CAvBY;cAwBlB,MAAM,CAxBY;cAyBlB,MAAM,CAzBY;cA0BlB,MAAM,CA1BY;cA2BlB,MAAM,CA3BY;cA4BlB,MAAM,CA5BY;cA6BlB,MAAM,CA7BY;cA8BlB,MAAM,CA9BY;cA+BlB,MAAM,CA/BY;cAgClB,MAAM,CAhCY;cAiClB,MAAM,CAjCY;cAkClB,MAAM,CAlCY;cAmClB,MAAM,CAnCY;cAoClB,MAAM,CApCY;cAqClB,OAAO,CArCW;cAsClB,MAAM,CAtCY;cAuClB,MAAM,CAvCY;cAwClB,OAAO,CAxCW;cAyClB,MAAM,CAzCY;cA0ClB,MAAM,CA1CY;cA2ClB,MAAM,EA3CY;cA4ClB,MAAM,CA5CY;cA6ClB,OAAO,CA7CW;cA8ClB,MAAM,CA9CY;cA+ClB,OAAO,CA/CW;cAgDlB,MAAM,EAhDY;cAiDlB,MAAM,CAjDY;cAkDlB,OAAO,CAlDW;cAmDlB,MAAM,CAnDY;cAoDlB,MAAM,CApDY;cAqDlB,MAAM,EArDY;cAsDlB,MAAM,CAtDY;cAuDlB,MAAM,CAvDY;cAwDlB,MAAM,CAxDY;cAyDlB,MAAM,CAzDY;cA0DlB,MAAM,CA1DY;cA2DlB,MAAM,CA3DY;cA4DlB,MAAM,CA5DY;cA6DlB,MAAM,CA7DY;cA8DlB,OAAO,CA9DW;cA+DlB,MAAM,CA/DY;cAgElB,MAAM,CAhEY;cAiElB,OAAO,CAjEW;cAkElB,OAAO,CAlEW;cAmElB,OAAO,CAnEW;cAoElB,OAAO,CApEW;cAqElB,OAAO,CArEW;cAsElB,MAAM,CAtEY;cAuElB,MAAM,CAvEY;cAwElB,MAAM,CAxEY;cAyElB,MAAM,CAzEY;cA0ElB,MAAM,CA1EY;cA2ElB,OAAO,CA3EW;cA4ElB,OAAO,EA5EW;cA6ElB,MAAM,CA7EY;cA8ElB,MAAM,CA9EY;cA+ElB,OAAO,EA/EW;cAgFlB,MAAM,CAhFY;cAiFlB,MAAM,CAjFY;cAkFlB,MAAM,CAlFY;cAmFlB,MAAM,CAnFY;cAoFlB,MAAM,EApFY;cAqFlB,MAAM,CArFY;cAsFlB,OAAO,CAtFW;cAuFlB,MAAM,CAvFY;cAwFlB,MAAM,EAxFY;cAyFlB,MAAM,CAzFY;cA0FlB,MAAM,CA1FY;cA2FlB,MAAM,CA3FY;cA4FlB,MAAM,CA5FY;cA6FlB,MAAM,CA7FY;cA8FlB,MAAM,EA9FY;cA+FlB,MAAM,CA/FY;cAgGlB,OAAO,CAhGW;cAiGlB,OAAO,CAjGW;cAkGlB,MAAM,CAlGY;cAmGlB,MAAM,CAnGY;cAoGlB,MAAM,CApGY;cAqGlB,MAAM,CArGY;cAsGlB,MAAM,CAtGY;cAuGlB,MAAM,CAvGY;cAwGlB,MAAM,CAxGY;cAyGlB,OAAO,CAzGW;cA0GlB,MAAM,CA1GY;cA2GlB,OAAO,CA3GW;cA4GlB,MAAM,CA5GY;cA6GlB,MAAM,CA7GY;cA8GlB,MAAM,CA9GY;cA+GlB,OAAO,CA/GW;cAgHlB,MAAM,EAhHY;cAiHlB,MAAM,CAjHY;cAkHlB,MAAM,CAlHY;cAmHlB,MAAM,CAnHY;cAoHlB,MAAM,CApHY;cAqHlB,OAAO,CArHW;cAsHlB,MAAM,EAtHY;cAuHlB,OAAO,CAvHW;cAwHlB,OAAO,CAxHW;cAyHlB,OAAO,CAzHW;cA0HlB,MAAM,CA1HY;cA2HlB,OAAO,CA3HW;cA4HlB,OAAO,CA5HW;cA6HlB,MAAM,CA7HY;cA8HlB,MAAM,EA9HY;cA+HlB,OAAO,EA/HW;cAgIlB,MAAM,EAhIY;cAiIlB,MAAM,EAjIY;cAkIlB,OAAO,CAlIW;cAmIlB,OAAO,CAnIW;cAoIlB,OAAO,CApIW;cAqIlB,OAAO,CArIW;cAsIlB,OAAO,CAtIW;cAuIlB,MAAM,CAvIY;cAwIlB,MAAM,CAxIY;cAyIlB,MAAM,CAzIY;cA0IlB,MAAM,EA1IY;cA2IlB,MAAM,CA3IY;cA4IlB,OAAO,CA5IW;cA6IlB,MAAM,CA7IY;cA8IlB,MAAM,CA9IY;cA+IlB,MAAM,CA/IY;cAgJlB,OAAO,CAhJW;cAiJlB,MAAM,CAjJY;cAkJlB,MAAM,CAlJY;cAmJlB,OAAO,CAnJW;cAoJlB,MAAM,CApJY;cAqJlB,MAAM,CArJY;cAsJlB,OAAO,CAtJW;cAuJlB,MAAM,CAvJY;cAwJlB,MAAM,CAxJY;cAyJlB,MAAM,CAzJY;cA0JlB,MAAM,CA1JY;cA2JlB,MAAM,CA3JY;cA4JlB,MAAM,CA5JY;cA6JlB,OAAO,EA7JW;cA8JlB,MAAM,EA9JY;cA+JlB,MAAM,CA/JY;cAgKlB,MAAM,CAhKY;cAiKlB,MAAM,CAjKY;cAkKlB,OAAO,CAlKW;cAmKlB,MAAM,CAnKY;cAoKlB,OAAO,CApKW;cAqKlB,MAAM,CArKY;cAsKlB,MAAM,CAtKY;cAuKlB,OAAO,CAvKW;cAwKlB,MAAM,CAxKY;cAyKlB,MAAM,CAzKY;cA0KlB,MAAM;YA1KY,CAApB;;YA6KA,SAASC,IAAT,CAAcnI,CAAd,EAAiBoI,IAAjB,EAAuB;cACrB,OAAOA,IAAI,CAACpjB,OAAL,CAAagb,CAAb,MAAoB,CAAC,CAA5B;YACD;;YAED,SAASqI,SAAT,CAAmBrI,CAAnB,EAAsBntB,KAAtB,EAA6BgM,GAA7B,EAAkC;cAChC,OAAOhM,KAAK,IAAImtB,CAAT,IAAcA,CAAC,IAAInhB,GAA1B;YACD;;YAED,IAAIypB,WAAW,GAAG;cAChB,KAAK,UAAUtI,CAAV,EAAa;gBAChB,OAAO,OAAP;cACD,CAHe;cAIhB,KAAK,UAAUA,CAAV,EAAa;gBAChB,IAAIqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,CAAV,EAAa,EAAb,CAAb,EAA+B,OAAO,KAAP;gBAC/B,IAAIA,CAAC,KAAK,CAAV,EAAa,OAAO,MAAP;gBACb,IAAIqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAAb,EAAgC,OAAO,MAAP;gBAChC,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CAXe;cAYhB,KAAK,UAAUA,CAAV,EAAa;gBAChB,IAAIA,CAAC,KAAK,CAAN,IAAWA,CAAC,GAAG,EAAJ,KAAW,CAA1B,EAA6B,OAAO,MAAP;gBAC7B,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CAjBe;cAkBhB,KAAK,UAAUA,CAAV,EAAa;gBAChB,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CArBe;cAsBhB,KAAK,UAAUA,CAAV,EAAa;gBAChB,IAAIqI,SAAS,CAACrI,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAb,EAAwB,OAAO,KAAP;gBACxB,OAAO,OAAP;cACD,CAzBe;cA0BhB,KAAK,UAAUA,CAAV,EAAa;gBAChB,IAAIqI,SAAS,CAACrI,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAT,IAAsBA,CAAC,IAAI,CAA/B,EAAkC,OAAO,KAAP;gBAClC,OAAO,OAAP;cACD,CA7Be;cA8BhB,KAAK,UAAUA,CAAV,EAAa;gBAChB,IAAIA,CAAC,KAAK,CAAV,EAAa,OAAO,MAAP;gBACb,IAAIA,CAAC,GAAG,EAAJ,IAAU,CAAV,IAAeA,CAAC,GAAG,GAAJ,IAAW,EAA9B,EAAkC,OAAO,KAAP;gBAClC,OAAO,OAAP;cACD,CAlCe;cAmChB,KAAK,UAAUA,CAAV,EAAa;gBAChB,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CAvCe;cAwChB,KAAK,UAAUA,CAAV,EAAa;gBAChB,IAAIqI,SAAS,CAACrI,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAb,EAAwB,OAAO,KAAP;gBACxB,IAAIqI,SAAS,CAACrI,CAAD,EAAI,CAAJ,EAAO,EAAP,CAAb,EAAyB,OAAO,MAAP;gBACzB,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CA9Ce;cA+ChB,KAAK,UAAUA,CAAV,EAAa;gBAChB,IAAIA,CAAC,KAAK,CAAN,IAAWA,CAAC,IAAI,CAAL,IAAUqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,CAAV,EAAa,EAAb,CAAlC,EAAoD,OAAO,KAAP;gBACpD,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CAnDe;cAoDhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIqI,SAAS,CAACrI,CAAC,GAAG,EAAL,EAAS,CAAT,EAAY,CAAZ,CAAT,IAA2B,CAACqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAAzC,EAA4D,OAAO,KAAP;gBAC5D,IAAIA,CAAC,GAAG,EAAJ,IAAU,CAAV,IAAe,CAACqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAA7B,EAAgD,OAAO,KAAP;gBAChD,OAAO,OAAP;cACD,CAxDe;cAyDhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIqI,SAAS,CAACrI,CAAC,GAAG,EAAL,EAAS,CAAT,EAAY,CAAZ,CAAT,IAA2B,CAACqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAAzC,EAA4D,OAAO,KAAP;gBAC5D,IAAIA,CAAC,GAAG,EAAJ,KAAW,CAAX,IAAgBqI,SAAS,CAACrI,CAAC,GAAG,EAAL,EAAS,CAAT,EAAY,CAAZ,CAAzB,IAA2CqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAAxD,EAA2E,OAAO,MAAP;gBAC3E,IAAIA,CAAC,GAAG,EAAJ,IAAU,CAAV,IAAeA,CAAC,GAAG,GAAJ,IAAW,EAA9B,EAAkC,OAAO,KAAP;gBAClC,OAAO,OAAP;cACD,CA9De;cA+DhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIqI,SAAS,CAACrI,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAb,EAAwB,OAAO,KAAP;gBACxB,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CAnEe;cAoEhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIqI,SAAS,CAACrI,CAAC,GAAG,EAAL,EAAS,CAAT,EAAY,CAAZ,CAAT,IAA2B,CAACqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAAzC,EAA4D,OAAO,KAAP;gBAC5D,IAAIA,CAAC,IAAI,CAAL,IAAUqI,SAAS,CAACrI,CAAC,GAAG,EAAL,EAAS,CAAT,EAAY,CAAZ,CAAnB,IAAqCqI,SAAS,CAACrI,CAAC,GAAG,EAAL,EAAS,CAAT,EAAY,CAAZ,CAA9C,IAAgEqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAA7E,EAAgG,OAAO,MAAP;gBAChG,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CAzEe;cA0EhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,CAAV,EAAa,CAAb,CAAb,EAA8B,OAAO,KAAP;gBAC9B,IAAIA,CAAC,GAAG,GAAJ,IAAW,CAAf,EAAkB,OAAO,KAAP;gBAClB,IAAIA,CAAC,GAAG,GAAJ,IAAW,CAAf,EAAkB,OAAO,KAAP;gBAClB,OAAO,OAAP;cACD,CA/Ee;cAgFhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIA,CAAC,KAAK,CAAN,IAAWqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,CAAV,EAAa,EAAb,CAAxB,EAA0C,OAAO,KAAP;gBAC1C,IAAIqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAAb,EAAgC,OAAO,MAAP;gBAChC,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CArFe;cAsFhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIA,CAAC,GAAG,EAAJ,IAAU,CAAV,IAAeA,CAAC,IAAI,EAAxB,EAA4B,OAAO,KAAP;gBAC5B,OAAO,OAAP;cACD,CAzFe;cA0FhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,IAAIA,CAAC,KAAK,CAAV,EAAa,OAAO,MAAP;gBACb,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,MAAP;gBACZ,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CAjGe;cAkGhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIA,CAAC,KAAK,CAAV,EAAa,OAAO,MAAP;gBACb,IAAIqI,SAAS,CAACrI,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAT,IAAsBA,CAAC,KAAK,CAA5B,IAAiCA,CAAC,IAAI,CAA1C,EAA6C,OAAO,KAAP;gBAC7C,OAAO,OAAP;cACD,CAtGe;cAuGhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIqI,SAAS,CAACrI,CAAD,EAAI,CAAJ,EAAO,EAAP,CAAb,EAAyB,OAAO,KAAP;gBACzB,IAAIqI,SAAS,CAACrI,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAb,EAAwB,OAAO,KAAP;gBACxB,OAAO,OAAP;cACD,CA3Ge;cA4GhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAI,CAACqI,SAAS,CAACrI,CAAC,GAAG,EAAL,EAAS,CAAT,EAAY,CAAZ,CAAT,IAA2BA,CAAC,GAAG,EAAJ,IAAU,CAAtC,KAA4C,EAAEqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAAT,IAA8BqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAAvC,IAA4DqI,SAAS,CAACrI,CAAC,GAAG,GAAL,EAAU,EAAV,EAAc,EAAd,CAAvE,CAAhD,EAA2I,OAAO,KAAP;gBAC3I,IAAIA,CAAC,GAAG,OAAJ,KAAgB,CAAhB,IAAqBA,CAAC,KAAK,CAA/B,EAAkC,OAAO,MAAP;gBAClC,IAAIA,CAAC,GAAG,EAAJ,IAAU,CAAV,IAAe,CAACmI,IAAI,CAACnI,CAAC,GAAG,GAAL,EAAU,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAV,CAAxB,EAAiD,OAAO,KAAP;gBACjD,IAAIA,CAAC,GAAG,EAAJ,IAAU,CAAV,IAAe,CAACmI,IAAI,CAACnI,CAAC,GAAG,GAAL,EAAU,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAV,CAAxB,EAAiD,OAAO,KAAP;gBACjD,OAAO,OAAP;cACD,CAlHe;cAmHhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIA,CAAC,KAAK,CAAV,EAAa,OAAO,MAAP;gBACb,IAAIA,CAAC,IAAI,CAAT,EAAY,OAAO,KAAP;gBACZ,OAAO,OAAP;cACD,CAvHe;cAwHhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIqI,SAAS,CAACrI,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAT,IAAsBqI,SAAS,CAACrI,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAAnC,EAAgD,OAAO,KAAP;gBAChD,OAAO,OAAP;cACD,CA3He;cA4HhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIqI,SAAS,CAACrI,CAAC,GAAG,EAAL,EAAS,CAAT,EAAY,CAAZ,CAAT,IAA2BA,CAAC,GAAG,EAAJ,KAAW,CAA1C,EAA6C,OAAO,KAAP;gBAC7C,OAAO,OAAP;cACD,CA/He;cAgIhB,MAAM,UAAUA,CAAV,EAAa;gBACjB,IAAIqI,SAAS,CAACrI,CAAD,EAAI,CAAJ,EAAO,EAAP,CAAT,IAAuBqI,SAAS,CAACrI,CAAD,EAAI,EAAJ,EAAQ,EAAR,CAApC,EAAiD,OAAO,KAAP;gBACjD,IAAImI,IAAI,CAACnI,CAAD,EAAI,CAAC,CAAD,EAAI,EAAJ,CAAJ,CAAR,EAAsB,OAAO,KAAP;gBACtB,IAAImI,IAAI,CAACnI,CAAD,EAAI,CAAC,CAAD,EAAI,EAAJ,CAAJ,CAAR,EAAsB,OAAO,KAAP;gBACtB,OAAO,OAAP;cACD;YArIe,CAAlB;YAuIA,IAAItrB,KAAK,GAAGwzB,aAAa,CAACrrB,IAAI,CAAC7Z,OAAL,CAAa,MAAb,EAAqB,EAArB,CAAD,CAAzB;;YAEA,IAAI,EAAE0R,KAAK,IAAI4zB,WAAX,CAAJ,EAA6B;cAC3B3gC,OAAO,CAAC4b,IAAR,CAAa,8BAA8B1G,IAA9B,GAAqC,GAAlD;cACA,OAAO,YAAY;gBACjB,OAAO,OAAP;cACD,CAFD;YAGD;;YAED,OAAOyrB,WAAW,CAAC5zB,KAAD,CAAlB;UACD;;UAED8uB,OAAO,CAAC+E,MAAR,GAAiB,UAAUv/B,GAAV,EAAe4C,KAAf,EAAsBnK,GAAtB,EAA2BwlC,IAA3B,EAAiC;YAChD,IAAIjH,CAAC,GAAG91B,UAAU,CAAC0B,KAAD,CAAlB;YACA,IAAIgN,KAAK,CAAConB,CAAD,CAAT,EAAc,OAAOh3B,GAAP;YACd,IAAIi+B,IAAI,IAAI3D,SAAZ,EAAuB,OAAOt6B,GAAP;;YAEvB,IAAI,CAACw6B,OAAO,CAACgF,YAAb,EAA2B;cACzBhF,OAAO,CAACgF,YAAR,GAAuBP,cAAc,CAAC1E,SAAD,CAArC;YACD;;YAED,IAAI7uB,KAAK,GAAG,MAAM8uB,OAAO,CAACgF,YAAR,CAAqBxI,CAArB,CAAN,GAAgC,GAA5C;;YAEA,IAAIA,CAAC,KAAK,CAAN,IAAWv+B,GAAG,GAAG,QAAN,IAAkB2hC,SAAjC,EAA4C;cAC1Cp6B,GAAG,GAAGo6B,SAAS,CAAC3hC,GAAG,GAAG,QAAP,CAAT,CAA0BwlC,IAA1B,CAAN;YACD,CAFD,MAEO,IAAIjH,CAAC,IAAI,CAAL,IAAUv+B,GAAG,GAAG,OAAN,IAAiB2hC,SAA/B,EAA0C;cAC/Cp6B,GAAG,GAAGo6B,SAAS,CAAC3hC,GAAG,GAAG,OAAP,CAAT,CAAyBwlC,IAAzB,CAAN;YACD,CAFM,MAEA,IAAIjH,CAAC,IAAI,CAAL,IAAUv+B,GAAG,GAAG,OAAN,IAAiB2hC,SAA/B,EAA0C;cAC/Cp6B,GAAG,GAAGo6B,SAAS,CAAC3hC,GAAG,GAAG,OAAP,CAAT,CAAyBwlC,IAAzB,CAAN;YACD,CAFM,MAEA,IAAIxlC,GAAG,GAAGiT,KAAN,IAAe0uB,SAAnB,EAA8B;cACnCp6B,GAAG,GAAGo6B,SAAS,CAAC3hC,GAAG,GAAGiT,KAAP,CAAT,CAAuBuyB,IAAvB,CAAN;YACD,CAFM,MAEA,IAAIxlC,GAAG,GAAG,SAAN,IAAmB2hC,SAAvB,EAAkC;cACvCp6B,GAAG,GAAGo6B,SAAS,CAAC3hC,GAAG,GAAG,SAAP,CAAT,CAA2BwlC,IAA3B,CAAN;YACD;;YAED,OAAOj+B,GAAP;UACD,CAxBD;;UA0BA,SAASy/B,WAAT,CAAqBhnC,GAArB,EAA0BC,IAA1B,EAAgC4B,QAAhC,EAA0C;YACxC,IAAIw9B,IAAI,GAAGsC,SAAS,CAAC3hC,GAAD,CAApB;;YAEA,IAAI,CAACq/B,IAAL,EAAW;cACTn5B,OAAO,CAAC4b,IAAR,CAAa,MAAM9hB,GAAN,GAAY,gBAAzB;;cAEA,IAAI,CAAC6B,QAAL,EAAe;gBACb,OAAO,IAAP;cACD;;cAEDw9B,IAAI,GAAGx9B,QAAP;YACD;;YAED,IAAIolC,EAAE,GAAG,EAAT;;YAEA,KAAK,IAAIzB,IAAT,IAAiBnG,IAAjB,EAAuB;cACrB,IAAI93B,GAAG,GAAG83B,IAAI,CAACmG,IAAD,CAAd;cACAj+B,GAAG,GAAG2/B,YAAY,CAAC3/B,GAAD,EAAMtH,IAAN,EAAYD,GAAZ,EAAiBwlC,IAAjB,CAAlB;cACAj+B,GAAG,GAAG4/B,cAAc,CAAC5/B,GAAD,EAAMtH,IAAN,EAAYD,GAAZ,CAApB;cACAinC,EAAE,CAACzB,IAAD,CAAF,GAAWj+B,GAAX;YACD;;YAED,OAAO0/B,EAAP;UACD;;UAED,SAASC,YAAT,CAAsB3/B,GAAtB,EAA2BtH,IAA3B,EAAiCD,GAAjC,EAAsCwlC,IAAtC,EAA4C;YAC1C,IAAI4B,OAAO,GAAG,0CAAd;YACA,IAAIC,OAAO,GAAGD,OAAO,CAAChC,IAAR,CAAa79B,GAAb,CAAd;YACA,IAAI,CAAC8/B,OAAD,IAAY,CAACA,OAAO,CAAC3kC,MAAzB,EAAiC,OAAO6E,GAAP;YACjC,IAAI+/B,SAAS,GAAGD,OAAO,CAAC,CAAD,CAAvB;YACA,IAAIE,SAAS,GAAGF,OAAO,CAAC,CAAD,CAAvB;YACA,IAAIl9B,KAAJ;;YAEA,IAAIlK,IAAI,IAAIsnC,SAAS,IAAItnC,IAAzB,EAA+B;cAC7BkK,KAAK,GAAGlK,IAAI,CAACsnC,SAAD,CAAZ;YACD,CAFD,MAEO,IAAIA,SAAS,IAAI5F,SAAjB,EAA4B;cACjCx3B,KAAK,GAAGw3B,SAAS,CAAC4F,SAAD,CAAjB;YACD;;YAED,IAAID,SAAS,IAAIvF,OAAjB,EAA0B;cACxB,IAAIyF,KAAK,GAAGzF,OAAO,CAACuF,SAAD,CAAnB;cACA//B,GAAG,GAAGigC,KAAK,CAACjgC,GAAD,EAAM4C,KAAN,EAAanK,GAAb,EAAkBwlC,IAAlB,CAAX;YACD;;YAED,OAAOj+B,GAAP;UACD;;UAED,SAAS4/B,cAAT,CAAwB5/B,GAAxB,EAA6BtH,IAA7B,EAAmCD,GAAnC,EAAwC;YACtC,IAAIynC,MAAM,GAAG,sBAAb;YACA,OAAOlgC,GAAG,CAAChG,OAAJ,CAAYkmC,MAAZ,EAAoB,UAAUC,YAAV,EAAwBC,GAAxB,EAA6B;cACtD,IAAI1nC,IAAI,IAAI0nC,GAAG,IAAI1nC,IAAnB,EAAyB;gBACvB,OAAOA,IAAI,CAAC0nC,GAAD,CAAX;cACD;;cAED,IAAIA,GAAG,IAAIhG,SAAX,EAAsB;gBACpB,OAAOA,SAAS,CAACgG,GAAD,CAAhB;cACD;;cAEDzhC,OAAO,CAAC8/B,GAAR,CAAY,gBAAgB2B,GAAhB,GAAsB,UAAtB,GAAmC3nC,GAAnC,GAAyC,gBAArD;cACA,OAAO0nC,YAAP;YACD,CAXM,CAAP;UAYD;;UAED,SAASE,gBAAT,CAA0B7lC,OAA1B,EAAmC;YACjC,IAAI1I,IAAI,GAAGmpC,iBAAiB,CAACzgC,OAAD,CAA5B;YACA,IAAI,CAAC1I,IAAI,CAAC4b,EAAV,EAAc;YACd,IAAIoqB,IAAI,GAAG2H,WAAW,CAAC3tC,IAAI,CAAC4b,EAAN,EAAU5b,IAAI,CAAC4G,IAAf,CAAtB;;YAEA,IAAI,CAACo/B,IAAL,EAAW;cACTn5B,OAAO,CAAC4b,IAAR,CAAa,MAAMzoB,IAAI,CAAC4b,EAAX,GAAgB,gBAA7B;cACA;YACD;;YAED,IAAIoqB,IAAI,CAACwC,SAAD,CAAR,EAAqB;cACnB,IAAIgG,oBAAoB,CAAC9lC,OAAD,CAApB,KAAkC,CAAtC,EAAyC;gBACvCA,OAAO,CAAC8/B,SAAD,CAAP,GAAqBxC,IAAI,CAACwC,SAAD,CAAzB;cACD,CAFD,MAEO;gBACL,IAAIrmB,QAAQ,GAAGzZ,OAAO,CAACouB,UAAvB;gBACA,IAAI2X,KAAK,GAAG,KAAZ;;gBAEA,KAAK,IAAI59B,CAAC,GAAG,CAAR,EAAW69B,CAAC,GAAGvsB,QAAQ,CAAC9Y,MAA7B,EAAqCwH,CAAC,GAAG69B,CAAzC,EAA4C79B,CAAC,EAA7C,EAAiD;kBAC/C,IAAIsR,QAAQ,CAACtR,CAAD,CAAR,CAAYozB,QAAZ,KAAyB,CAAzB,IAA8B,KAAK9H,IAAL,CAAUha,QAAQ,CAACtR,CAAD,CAAR,CAAY89B,SAAtB,CAAlC,EAAoE;oBAClE,IAAIF,KAAJ,EAAW;sBACTtsB,QAAQ,CAACtR,CAAD,CAAR,CAAY89B,SAAZ,GAAwB,EAAxB;oBACD,CAFD,MAEO;sBACLxsB,QAAQ,CAACtR,CAAD,CAAR,CAAY89B,SAAZ,GAAwB3I,IAAI,CAACwC,SAAD,CAA5B;sBACAiG,KAAK,GAAG,IAAR;oBACD;kBACF;gBACF;;gBAED,IAAI,CAACA,KAAL,EAAY;kBACV,IAAIG,QAAQ,GAAGrsC,QAAQ,CAACgiC,cAAT,CAAwByB,IAAI,CAACwC,SAAD,CAA5B,CAAf;kBACA9/B,OAAO,CAACmmC,OAAR,CAAgBD,QAAhB;gBACD;cACF;;cAED,OAAO5I,IAAI,CAACwC,SAAD,CAAX;YACD;;YAED,KAAK,IAAIsG,CAAT,IAAc9I,IAAd,EAAoB;cAClBt9B,OAAO,CAAComC,CAAD,CAAP,GAAa9I,IAAI,CAAC8I,CAAD,CAAjB;YACD;UACF;;UAED,SAASN,oBAAT,CAA8B9lC,OAA9B,EAAuC;YACrC,IAAIA,OAAO,CAACyZ,QAAZ,EAAsB;cACpB,OAAOzZ,OAAO,CAACyZ,QAAR,CAAiB9Y,MAAxB;YACD;;YAED,IAAI,OAAOX,OAAO,CAACqmC,iBAAf,KAAqC,WAAzC,EAAsD;cACpD,OAAOrmC,OAAO,CAACqmC,iBAAf;YACD;;YAED,IAAIC,KAAK,GAAG,CAAZ;;YAEA,KAAK,IAAIn+B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnI,OAAO,CAACouB,UAAR,CAAmBztB,MAAvC,EAA+CwH,CAAC,EAAhD,EAAoD;cAClDm+B,KAAK,IAAItmC,OAAO,CAACu7B,QAAR,KAAqB,CAArB,GAAyB,CAAzB,GAA6B,CAAtC;YACD;;YAED,OAAO+K,KAAP;UACD;;UAED,SAASC,iBAAT,CAA2BvmC,OAA3B,EAAoC;YAClCA,OAAO,GAAGA,OAAO,IAAInG,QAAQ,CAAC+a,eAA9B;YACA,IAAI6E,QAAQ,GAAG+mB,uBAAuB,CAACxgC,OAAD,CAAtC;YACA,IAAIwmC,YAAY,GAAG/sB,QAAQ,CAAC9Y,MAA5B;;YAEA,KAAK,IAAIwH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGq+B,YAApB,EAAkCr+B,CAAC,EAAnC,EAAuC;cACrC09B,gBAAgB,CAACpsB,QAAQ,CAACtR,CAAD,CAAT,CAAhB;YACD;;YAED09B,gBAAgB,CAAC7lC,OAAD,CAAhB;UACD;;UAED,OAAO;YACLH,GAAG,EAAE,UAAU5B,GAAV,EAAeC,IAAf,EAAqBuoC,cAArB,EAAqC;cACxC,IAAIv1B,KAAK,GAAGjT,GAAG,CAACgkC,WAAJ,CAAgB,GAAhB,CAAZ;cACA,IAAIwB,IAAI,GAAG3D,SAAX;;cAEA,IAAI5uB,KAAK,GAAG,CAAZ,EAAe;gBACbuyB,IAAI,GAAGxlC,GAAG,CAAC29B,SAAJ,CAAc1qB,KAAK,GAAG,CAAtB,CAAP;gBACAjT,GAAG,GAAGA,GAAG,CAAC29B,SAAJ,CAAc,CAAd,EAAiB1qB,KAAjB,CAAN;cACD;;cAED,IAAIpR,QAAJ;;cAEA,IAAI2mC,cAAJ,EAAoB;gBAClB3mC,QAAQ,GAAG,EAAX;gBACAA,QAAQ,CAAC2jC,IAAD,CAAR,GAAiBgD,cAAjB;cACD;;cAED,IAAInJ,IAAI,GAAG2H,WAAW,CAAChnC,GAAD,EAAMC,IAAN,EAAY4B,QAAZ,CAAtB;;cAEA,IAAIw9B,IAAI,IAAImG,IAAI,IAAInG,IAApB,EAA0B;gBACxB,OAAOA,IAAI,CAACmG,IAAD,CAAX;cACD;;cAED,OAAO,OAAOxlC,GAAP,GAAa,IAApB;YACD,CAxBI;YAyBLyoC,OAAO,EAAE,YAAY;cACnB,OAAO9G,SAAP;YACD,CA3BI;YA4BL+G,OAAO,EAAE,YAAY;cACnB,OAAO9G,SAAP;YACD,CA9BI;YA+BLlgC,WAAW,EAAE,YAAY;cACvB,OAAOogC,SAAP;YACD,CAjCI;YAkCLJ,WAAW,EAAE,UAAUtmB,IAAV,EAAgBrL,QAAhB,EAA0B;cACrC01B,UAAU,CAACrqB,IAAD,EAAO,YAAY;gBAC3B,IAAIrL,QAAJ,EAAcA,QAAQ;cACvB,CAFS,CAAV;YAGD,CAtCI;YAuCLpO,YAAY,EAAE,YAAY;cACxB,IAAIgnC,OAAO,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,CAAd;cACA,IAAIC,SAAS,GAAG9G,SAAS,CAACx5B,KAAV,CAAgB,GAAhB,EAAqB,CAArB,EAAwB,CAAxB,CAAhB;cACA,OAAOqgC,OAAO,CAACplB,OAAR,CAAgBqlB,SAAhB,KAA8B,CAA9B,GAAkC,KAAlC,GAA0C,KAAjD;YACD,CA3CI;YA4CL9mC,SAAS,EAAEwmC,iBA5CN;YA6CLO,aAAa,EAAE,YAAY;cACzB,OAAO7G,WAAP;YACD,CA/CI;YAgDL8G,KAAK,EAAE,UAAU/4B,QAAV,EAAoB;cACzB,IAAI,CAACA,QAAL,EAAe;gBACb;cACD,CAFD,MAEO,IAAIiyB,WAAW,IAAI,UAAf,IAA6BA,WAAW,IAAI,aAAhD,EAA+D;gBACpErlC,MAAM,CAACghB,UAAP,CAAkB,YAAY;kBAC5B5N,QAAQ;gBACT,CAFD;cAGD,CAJM,MAIA,IAAInU,QAAQ,CAACiV,gBAAb,EAA+B;gBACpCjV,QAAQ,CAACiV,gBAAT,CAA0B,WAA1B,EAAuC,SAASowB,IAAT,GAAgB;kBACrDrlC,QAAQ,CAACmpB,mBAAT,CAA6B,WAA7B,EAA0Ckc,IAA1C;kBACAlxB,QAAQ;gBACT,CAHD;cAID;YACF;UA7DI,CAAP;QA+DD,CA9yBkB,CA8yBjBpT,MA9yBiB,EA8yBTf,QA9yBS,CAAnB;QAgzBA;;MAAO,CAvwN8B;MAwwNrC;;MACA;MAAO,CAAC9D,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACwxC,iBAAR,GAA4BxxC,OAAO,CAACyxC,SAAR,GAAoB,KAAK,CAArD;;QAEA,IAAIjmC,SAAS,GAAGhL,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIgD,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIkxC,eAAe,GAAGlxC,mBAAmB,CAAC,EAAD,CAAzC;;QAEA,MAAMixC,SAAS,GAAG;UAChBE,KAAK,EAAE,CADS;UAEhBC,SAAS,EAAE,CAFK;UAGhBr7B,OAAO,EAAE,CAHO;UAIhBs7B,OAAO,EAAE;QAJO,CAAlB;QAMA7xC,OAAO,CAACyxC,SAAR,GAAoBA,SAApB;QACA,MAAMK,YAAY,GAAG,GAArB;QACA,MAAMC,uBAAuB,GAAG,CAAC,EAAjC;QACA,MAAMC,wBAAwB,GAAG,CAAC,GAAlC;QACA,MAAMC,uBAAuB,GAAG;UAC9B,UAAU,GADoB;UAE9B,UAAU,GAFoB;UAG9B,UAAU,GAHoB;UAI9B,UAAU,GAJoB;UAK9B,UAAU,GALoB;UAM9B,UAAU,GANoB;UAO9B,UAAU,GAPoB;UAQ9B,UAAU,GARoB;UAS9B,UAAU,GAToB;UAU9B,UAAU,KAVoB;UAW9B,UAAU,KAXoB;UAY9B,UAAU;QAZoB,CAAhC;QAcA,MAAMC,oBAAoB,GAAG,IAAIx1B,GAAJ,CAAQ,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,MAAjC,EAAyC,MAAzC,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,MAAjE,EAAyE,MAAzE,EAAiF,MAAjF,EAAyF,MAAzF,EAAiG,MAAjG,EAAyG,MAAzG,EAAiH,MAAjH,EAAyH,MAAzH,EAAiI,MAAjI,EAAyI,MAAzI,EAAiJ,MAAjJ,EAAyJ,MAAzJ,EAAiK,MAAjK,EAAyK,MAAzK,EAAiL,MAAjL,EAAyL,MAAzL,EAAiM,MAAjM,EAAyM,MAAzM,EAAiN,MAAjN,EAAyN,MAAzN,EAAiO,MAAjO,EAAyO,MAAzO,EAAiP,MAAjP,EAAyP,MAAzP,EAAiQ,MAAjQ,EAAyQ,MAAzQ,EAAiR,MAAjR,EAAyR,MAAzR,EAAiS,MAAjS,EAAyS,MAAzS,EAAiT,MAAjT,EAAyT,MAAzT,EAAiU,MAAjU,EAAyU,MAAzU,EAAiV,MAAjV,EAAyV,MAAzV,EAAiW,MAAjW,CAAR,CAA7B;QACA,MAAMy1B,wBAAwB,GAAG,CAAC,GAAGD,oBAAoB,CAACjzB,MAArB,EAAJ,EAAmCgW,GAAnC,CAAuC/a,CAAC,IAAIk4B,MAAM,CAACC,YAAP,CAAoBn4B,CAApB,CAA5C,EAAoE2oB,IAApE,CAAyE,EAAzE,CAAjC;QACA,MAAMyP,kBAAkB,GAAG,UAA3B;QACA,MAAMC,qBAAqB,GAAG,sDAA9B;QACA,MAAMC,8BAA8B,GAAG,oBAAvC;QACA,MAAMC,gCAAgC,GAAG,oBAAzC;QACA,MAAMC,iBAAiB,GAAG,mDAA1B;QACA,MAAMC,iBAAiB,GAAG,IAAI9lC,GAAJ,EAA1B;QACA,MAAM+lC,4BAA4B,GAAG,4EAArC;QACA,IAAIC,iBAAiB,GAAG,IAAxB;QACA,IAAIC,mBAAmB,GAAG,IAA1B;;QAEA,SAASC,SAAT,CAAmBhpC,IAAnB,EAAyB;UACvB,MAAMipC,iBAAiB,GAAG,EAA1B;UACA,IAAIlO,CAAJ;;UAEA,OAAO,CAACA,CAAC,GAAG4N,iBAAiB,CAAC7E,IAAlB,CAAuB9jC,IAAvB,CAAL,MAAuC,IAA9C,EAAoD;YAClD,IAAI;cACF2R;YADE,IAEAopB,CAFJ;;YAIA,KAAK,MAAMmO,IAAX,IAAmBnO,CAAC,CAAC,CAAD,CAApB,EAAyB;cACvB,IAAIoO,GAAG,GAAGP,iBAAiB,CAACtoC,GAAlB,CAAsB4oC,IAAtB,CAAV;;cAEA,IAAI,CAACC,GAAL,EAAU;gBACRA,GAAG,GAAGD,IAAI,CAACF,SAAL,CAAe,KAAf,EAAsB5nC,MAA5B;gBACAwnC,iBAAiB,CAACtgC,GAAlB,CAAsB4gC,IAAtB,EAA4BC,GAA5B;cACD;;cAEDF,iBAAiB,CAAChkC,IAAlB,CAAuB,CAACkkC,GAAD,EAAMx3B,KAAK,EAAX,CAAvB;YACD;UACF;;UAED,IAAIy3B,kBAAJ;;UAEA,IAAIH,iBAAiB,CAAC7nC,MAAlB,KAA6B,CAA7B,IAAkC0nC,iBAAtC,EAAyD;YACvDM,kBAAkB,GAAGN,iBAArB;UACD,CAFD,MAEO,IAAIG,iBAAiB,CAAC7nC,MAAlB,GAA2B,CAA3B,IAAgC2nC,mBAApC,EAAyD;YAC9DK,kBAAkB,GAAGL,mBAArB;UACD,CAFM,MAEA;YACL,MAAM9oC,OAAO,GAAGvJ,MAAM,CAAC6nB,IAAP,CAAY2pB,uBAAZ,EAAqCpP,IAArC,CAA0C,EAA1C,CAAhB;YACA,MAAMuQ,MAAM,GAAI,KAAIppC,OAAQ,uCAA5B;;YAEA,IAAIgpC,iBAAiB,CAAC7nC,MAAlB,KAA6B,CAAjC,EAAoC;cAClCgoC,kBAAkB,GAAGN,iBAAiB,GAAG,IAAIQ,MAAJ,CAAWD,MAAM,GAAG,YAApB,EAAkC,KAAlC,CAAzC;YACD,CAFD,MAEO;cACLD,kBAAkB,GAAGL,mBAAmB,GAAG,IAAIO,MAAJ,CAAWD,MAAM,GAAI,KAAIR,4BAA6B,GAAtD,EAA0D,KAA1D,CAA3C;YACD;UACF;;UAED,MAAMU,sBAAsB,GAAG,EAA/B;;UAEA,OAAO,CAACxO,CAAC,GAAGwN,kBAAkB,CAACzE,IAAnB,CAAwB9jC,IAAxB,CAAL,MAAwC,IAA/C,EAAqD;YACnDupC,sBAAsB,CAACtkC,IAAvB,CAA4B,CAAC81B,CAAC,CAAC,CAAD,CAAD,CAAK35B,MAAN,EAAc25B,CAAC,CAACppB,KAAhB,CAA5B;UACD;;UAED,IAAI63B,UAAU,GAAGxpC,IAAI,CAACgpC,SAAL,CAAe,KAAf,CAAjB;UACA,MAAMS,SAAS,GAAG,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAAlB;UACA,IAAIC,kBAAkB,GAAG,CAAzB;UACA,IAAIC,aAAa,GAAG,CAApB;UACA,IAAI9F,KAAK,GAAG,CAAZ;UACA,IAAI+F,WAAW,GAAG,CAAlB;UACA,IAAIC,GAAG,GAAG,CAAV;UACA,IAAIC,aAAa,GAAG,KAApB;UACAN,UAAU,GAAGA,UAAU,CAACvpC,OAAX,CAAmBmpC,kBAAnB,EAAuC,CAACnvB,KAAD,EAAQ8vB,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,EAA4BvhC,CAA5B,KAAkC;YACpFA,CAAC,IAAIghC,WAAL;;YAEA,IAAIG,EAAJ,EAAQ;cACN,MAAMK,WAAW,GAAGlC,uBAAuB,CAACjuB,KAAD,CAA3C;cACA,MAAMowB,EAAE,GAAGD,WAAW,CAAChpC,MAAvB;;cAEA,KAAK,IAAIkpC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,EAApB,EAAwBC,CAAC,EAAzB,EAA6B;gBAC3Bb,SAAS,CAACxkC,IAAV,CAAe,CAAC2D,CAAC,GAAGi7B,KAAJ,GAAYyG,CAAb,EAAgBzG,KAAK,GAAGyG,CAAxB,CAAf;cACD;;cAEDzG,KAAK,IAAIwG,EAAE,GAAG,CAAd;cACA,OAAOD,WAAP;YACD;;YAED,IAAIJ,EAAJ,EAAQ;cACN,MAAMO,kBAAkB,GAAGP,EAAE,CAACQ,QAAH,CAAY,IAAZ,CAA3B;cACA,MAAMrB,GAAG,GAAGoB,kBAAkB,GAAGP,EAAE,CAAC5oC,MAAH,GAAY,CAAf,GAAmB4oC,EAAE,CAAC5oC,MAApD;cACA0oC,aAAa,GAAG,IAAhB;cACA,IAAIO,EAAE,GAAGlB,GAAT;;cAEA,IAAIvgC,CAAC,GAAGihC,GAAJ,KAAYN,sBAAsB,CAACG,kBAAD,CAAtB,GAA6C,CAA7C,CAAhB,EAAiE;gBAC/DW,EAAE,IAAId,sBAAsB,CAACG,kBAAD,CAAtB,CAA2C,CAA3C,CAAN;gBACA,EAAEA,kBAAF;cACD;;cAED,KAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAID,EAArB,EAAyBC,CAAC,EAA1B,EAA8B;gBAC5Bb,SAAS,CAACxkC,IAAV,CAAe,CAAC2D,CAAC,GAAG,CAAJ,GAAQi7B,KAAR,GAAgByG,CAAjB,EAAoBzG,KAAK,GAAGyG,CAA5B,CAAf;cACD;;cAEDzG,KAAK,IAAIwG,EAAT;cACAT,WAAW,IAAIS,EAAf;;cAEA,IAAIE,kBAAJ,EAAwB;gBACtB3hC,CAAC,IAAIugC,GAAG,GAAG,CAAX;gBACAM,SAAS,CAACxkC,IAAV,CAAe,CAAC2D,CAAC,GAAGi7B,KAAJ,GAAY,CAAb,EAAgB,IAAIA,KAApB,CAAf;gBACAA,KAAK,IAAI,CAAT;gBACA+F,WAAW,IAAI,CAAf;gBACAC,GAAG,IAAI,CAAP;gBACA,OAAOG,EAAE,CAAC3R,KAAH,CAAS,CAAT,EAAY8Q,GAAZ,CAAP;cACD;;cAED,OAAOa,EAAP;YACD;;YAED,IAAIC,EAAJ,EAAQ;cACNR,SAAS,CAACxkC,IAAV,CAAe,CAAC2D,CAAC,GAAGi7B,KAAJ,GAAY,CAAb,EAAgB,IAAIA,KAApB,CAAf;cACAA,KAAK,IAAI,CAAT;cACA+F,WAAW,IAAI,CAAf;cACAC,GAAG,IAAI,CAAP;cACA,OAAOI,EAAE,CAACQ,MAAH,CAAU,CAAV,CAAP;YACD;;YAED,IAAIP,EAAJ,EAAQ;cACNT,SAAS,CAACxkC,IAAV,CAAe,CAAC2D,CAAC,GAAGi7B,KAAJ,GAAY,CAAb,EAAgBA,KAAK,GAAG,CAAxB,CAAf;cACAA,KAAK,IAAI,CAAT;cACA+F,WAAW,IAAI,CAAf;cACAC,GAAG,IAAI,CAAP;cACA,OAAO,GAAP;YACD;;YAED,IAAIjhC,CAAC,GAAGihC,GAAJ,KAAYZ,iBAAiB,CAACU,aAAD,CAAjB,GAAmC,CAAnC,CAAhB,EAAuD;cACrD,MAAMe,UAAU,GAAGzB,iBAAiB,CAACU,aAAD,CAAjB,CAAiC,CAAjC,IAAsC,CAAzD;cACA,EAAEA,aAAF;;cAEA,KAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAII,UAArB,EAAiCJ,CAAC,EAAlC,EAAsC;gBACpCb,SAAS,CAACxkC,IAAV,CAAe,CAAC2D,CAAC,IAAIi7B,KAAK,GAAGyG,CAAZ,CAAF,EAAkBzG,KAAK,GAAGyG,CAA1B,CAAf;cACD;;cAEDzG,KAAK,IAAI6G,UAAT;cACAd,WAAW,IAAIc,UAAf;YACD;;YAED,OAAOP,EAAP;UACD,CA1EY,CAAb;UA2EAV,SAAS,CAACxkC,IAAV,CAAe,CAACukC,UAAU,CAACpoC,MAAZ,EAAoByiC,KAApB,CAAf;UACA,OAAO,CAAC2F,UAAD,EAAaC,SAAb,EAAwBK,aAAxB,CAAP;QACD;;QAED,SAASa,gBAAT,CAA0BC,KAA1B,EAAiCC,GAAjC,EAAsC1B,GAAtC,EAA2C;UACzC,IAAI,CAACyB,KAAL,EAAY;YACV,OAAO,CAACC,GAAD,EAAM1B,GAAN,CAAP;UACD;;UAED,MAAMr5B,KAAK,GAAG+6B,GAAd;UACA,MAAM/uB,GAAG,GAAG+uB,GAAG,GAAG1B,GAAlB;UACA,IAAIvgC,CAAC,GAAG,CAAC,GAAGnH,SAAS,CAAC6I,qBAAd,EAAqCsgC,KAArC,EAA4Cz6B,CAAC,IAAIA,CAAC,CAAC,CAAD,CAAD,IAAQL,KAAzD,CAAR;;UAEA,IAAI86B,KAAK,CAAChiC,CAAD,CAAL,CAAS,CAAT,IAAckH,KAAlB,EAAyB;YACvB,EAAElH,CAAF;UACD;;UAED,IAAI0hC,CAAC,GAAG,CAAC,GAAG7oC,SAAS,CAAC6I,qBAAd,EAAqCsgC,KAArC,EAA4Cz6B,CAAC,IAAIA,CAAC,CAAC,CAAD,CAAD,IAAQ2L,GAAzD,EAA8DlT,CAA9D,CAAR;;UAEA,IAAIgiC,KAAK,CAACN,CAAD,CAAL,CAAS,CAAT,IAAcxuB,GAAlB,EAAuB;YACrB,EAAEwuB,CAAF;UACD;;UAED,OAAO,CAACx6B,KAAK,GAAG86B,KAAK,CAAChiC,CAAD,CAAL,CAAS,CAAT,CAAT,EAAsBugC,GAAG,GAAGyB,KAAK,CAACN,CAAD,CAAL,CAAS,CAAT,CAAN,GAAoBM,KAAK,CAAChiC,CAAD,CAAL,CAAS,CAAT,CAA1C,CAAP;QACD;;QAED,MAAM6+B,iBAAN,CAAwB;UACtB/tC,WAAW,CAAC;YACVlB,WADU;YAEVY;UAFU,CAAD,EAGR;YACD,KAAK0xC,YAAL,GAAoBtyC,WAApB;YACA,KAAKuyC,SAAL,GAAiB3xC,QAAjB;YACA,KAAK,CAAC6wB,KAAN;;YAEA7wB,QAAQ,CAAC8qB,GAAT,CAAa,MAAb,EAAqB,KAAK,CAAC8mB,MAAN,CAAalqB,IAAb,CAAkB,IAAlB,CAArB;;YAEA1nB,QAAQ,CAAC8qB,GAAT,CAAa,cAAb,EAA6B,KAAK,CAAC+mB,cAAN,CAAqBnqB,IAArB,CAA0B,IAA1B,CAA7B;UACD;;UAEmB,IAAhBoc,gBAAgB,GAAG;YACrB,OAAO,KAAKgO,iBAAZ;UACD;;UAEc,IAAX/N,WAAW,GAAG;YAChB,OAAO,KAAKgO,YAAZ;UACD;;UAEoB,IAAjB/N,iBAAiB,GAAG;YACtB,OAAO,KAAKgO,kBAAZ;UACD;;UAEW,IAAR7P,QAAQ,GAAG;YACb,OAAO,KAAK8P,SAAZ;UACD;;UAEQ,IAALp8B,KAAK,GAAG;YACV,OAAO,KAAKq8B,MAAZ;UACD;;UAED9nC,WAAW,CAACH,WAAD,EAAc;YACvB,IAAI,KAAKkoC,YAAT,EAAuB;cACrB,KAAK,CAACthB,KAAN;YACD;;YAED,IAAI,CAAC5mB,WAAL,EAAkB;cAChB;YACD;;YAED,KAAKkoC,YAAL,GAAoBloC,WAApB;;YAEA,KAAKqf,oBAAL,CAA0BtN,OAA1B;UACD;;UAED,CAAC41B,MAAM,CAAC/7B,KAAD,EAAQ;YACb,IAAI,CAACA,KAAL,EAAY;cACV;YACD;;YAED,MAAM5L,WAAW,GAAG,KAAKkoC,YAAzB;YACA,MAAM;cACJtf;YADI,IAEFhd,KAFJ;;YAIA,IAAI,KAAKq8B,MAAL,KAAgB,IAAhB,IAAwB,KAAK,CAACE,gBAAN,CAAuBv8B,KAAvB,CAA5B,EAA2D;cACzD,KAAKw8B,WAAL,GAAmB,IAAnB;YACD;;YAED,KAAKH,MAAL,GAAcr8B,KAAd;;YAEA,IAAIgd,IAAI,KAAK,oBAAb,EAAmC;cACjC,KAAK,CAACyf,aAAN,CAAoBhE,SAAS,CAACI,OAA9B;YACD;;YAED,KAAKplB,oBAAL,CAA0BtH,OAA1B,CAAkC3W,IAAlC,CAAuC,MAAM;cAC3C,IAAI,CAAC,KAAK8mC,YAAN,IAAsBloC,WAAW,IAAI,KAAKkoC,YAAL,KAAsBloC,WAA/D,EAA4E;gBAC1E;cACD;;cAED,KAAK,CAACsoC,WAAN;cACA,MAAMC,aAAa,GAAG,CAAC,KAAKV,iBAA5B;cACA,MAAMW,cAAc,GAAG,CAAC,CAAC,KAAKC,YAA9B;;cAEA,IAAI,KAAKA,YAAT,EAAuB;gBACrBjwB,YAAY,CAAC,KAAKiwB,YAAN,CAAZ;gBACA,KAAKA,YAAL,GAAoB,IAApB;cACD;;cAED,IAAI,CAAC7f,IAAL,EAAW;gBACT,KAAK6f,YAAL,GAAoBzvB,UAAU,CAAC,MAAM;kBACnC,KAAK,CAAC0vB,SAAN;kBACA,KAAKD,YAAL,GAAoB,IAApB;gBACD,CAH6B,EAG3B/D,YAH2B,CAA9B;cAID,CALD,MAKO,IAAI,KAAK0D,WAAT,EAAsB;gBAC3B,KAAK,CAACM,SAAN;cACD,CAFM,MAEA,IAAI9f,IAAI,KAAK,OAAb,EAAsB;gBAC3B,KAAK,CAAC8f,SAAN;;gBAEA,IAAIH,aAAa,IAAI,KAAKN,MAAL,CAAY7P,YAAjC,EAA+C;kBAC7C,KAAK,CAACuQ,cAAN;gBACD;cACF,CANM,MAMA,IAAI/f,IAAI,KAAK,oBAAb,EAAmC;gBACxC,IAAI4f,cAAJ,EAAoB;kBAClB,KAAK,CAACE,SAAN;gBACD,CAFD,MAEO;kBACL,KAAKb,iBAAL,GAAyB,IAAzB;gBACD;;gBAED,KAAK,CAACc,cAAN;cACD,CARM,MAQA;gBACL,KAAK,CAACD,SAAN;cACD;YACF,CAtCD;UAuCD;;UAEDjP,mBAAmB,CAAC;YAClBr8B,OAAO,GAAG,IADQ;YAElBk8B,YAAY,GAAG,CAFG;YAGlB1jC,SAAS,GAAG,CAAC,CAHK;YAIlB8jC,UAAU,GAAG,CAAC;UAJI,CAAD,EAKhB;YACD,IAAI,CAAC,KAAKkP,cAAN,IAAwB,CAACxrC,OAA7B,EAAsC;cACpC;YACD,CAFD,MAEO,IAAIs8B,UAAU,KAAK,CAAC,CAAhB,IAAqBA,UAAU,KAAK,KAAKsO,SAAL,CAAepQ,QAAvD,EAAiE;cACtE;YACD,CAFM,MAEA,IAAIhiC,SAAS,KAAK,CAAC,CAAf,IAAoBA,SAAS,KAAK,KAAKoyC,SAAL,CAAe9Q,OAArD,EAA8D;cACnE;YACD;;YAED,KAAK0R,cAAL,GAAsB,KAAtB;YACA,MAAMh/B,IAAI,GAAG;cACXkB,GAAG,EAAE65B,uBADM;cAEX35B,IAAI,EAAEsuB,YAAY,GAAGsL;YAFV,CAAb;YAIA,CAAC,GAAGxmC,SAAS,CAAC0J,cAAd,EAA8B1K,OAA9B,EAAuCwM,IAAvC,EAA6C,IAA7C;UACD;;UAED,CAACgd,KAAK,GAAG;YACP,KAAKihB,iBAAL,GAAyB,KAAzB;YACA,KAAKe,cAAL,GAAsB,KAAtB;YACA,KAAKV,YAAL,GAAoB,IAApB;YACA,KAAKJ,YAAL,GAAoB,EAApB;YACA,KAAKC,kBAAL,GAA0B,EAA1B;YACA,KAAKE,MAAL,GAAc,IAAd;YACA,KAAKD,SAAL,GAAiB;cACf9Q,OAAO,EAAE,CAAC,CADK;cAEfU,QAAQ,EAAE,CAAC;YAFI,CAAjB;YAIA,KAAKiR,OAAL,GAAe;cACb3R,OAAO,EAAE,IADI;cAEbU,QAAQ,EAAE,IAFG;cAGbkR,OAAO,EAAE;YAHI,CAAf;YAKA,KAAKC,oBAAL,GAA4B,EAA5B;YACA,KAAKC,aAAL,GAAqB,EAArB;YACA,KAAKC,UAAL,GAAkB,EAAlB;YACA,KAAKC,cAAL,GAAsB,EAAtB;YACA,KAAKC,kBAAL,GAA0B,CAA1B;YACA,KAAKC,cAAL,GAAsB,IAAtB;YACA,KAAKC,mBAAL,GAA2B,IAAI/5B,GAAJ,EAA3B;YACA,KAAKg6B,cAAL,GAAsB,IAAtB;YACA,KAAKlB,WAAL,GAAmB,KAAnB;YACA5vB,YAAY,CAAC,KAAKiwB,YAAN,CAAZ;YACA,KAAKA,YAAL,GAAoB,IAApB;YACA,KAAKppB,oBAAL,GAA4B,CAAC,GAAGjpB,SAAS,CAAC6sB,uBAAd,GAA5B;UACD;;UAES,IAAN,CAACzf,KAAK,GAAG;YACX,IAAI,KAAKykC,MAAL,CAAYzkC,KAAZ,KAAsB,KAAK+lC,SAA/B,EAA0C;cACxC,KAAKA,SAAL,GAAiB,KAAKtB,MAAL,CAAYzkC,KAA7B;cACA,CAAC,KAAKgmC,gBAAN,IAA0B7D,SAAS,CAAC,KAAKsC,MAAL,CAAYzkC,KAAb,CAAnC;YACD;;YAED,OAAO,KAAKgmC,gBAAZ;UACD;;UAED,CAACrB,gBAAgB,CAACv8B,KAAD,EAAQ;YACvB,IAAIA,KAAK,CAACpI,KAAN,KAAgB,KAAKykC,MAAL,CAAYzkC,KAAhC,EAAuC;cACrC,OAAO,IAAP;YACD;;YAED,QAAQoI,KAAK,CAACgd,IAAd;cACE,KAAK,OAAL;gBACE,MAAM3nB,UAAU,GAAG,KAAK+mC,SAAL,CAAe9Q,OAAf,GAAyB,CAA5C;gBACA,MAAM/hC,WAAW,GAAG,KAAKsyC,YAAzB;;gBAEA,IAAIxmC,UAAU,IAAI,CAAd,IAAmBA,UAAU,IAAI9L,WAAW,CAACoL,UAA7C,IAA2DU,UAAU,KAAK9L,WAAW,CAAC6I,IAAtF,IAA8F,CAAC7I,WAAW,CAAC+P,aAAZ,CAA0BjE,UAA1B,CAAnG,EAA0I;kBACxI,OAAO,IAAP;gBACD;;gBAED,OAAO,KAAP;;cAEF,KAAK,oBAAL;gBACE,OAAO,KAAP;YAZJ;;YAeA,OAAO,IAAP;UACD;;UAED,CAACwoC,YAAY,CAAC1Q,OAAD,EAAU2Q,QAAV,EAAoB3rC,MAApB,EAA4B;YACvC,IAAI6Y,KAAK,GAAGmiB,OAAO,CAAC/D,KAAR,CAAc,CAAd,EAAiB0U,QAAjB,EAA2B9yB,KAA3B,CAAiCwuB,8BAAjC,CAAZ;;YAEA,IAAIxuB,KAAJ,EAAW;cACT,MAAMlG,KAAK,GAAGqoB,OAAO,CAAC4Q,UAAR,CAAmBD,QAAnB,CAAd;cACA,MAAMluC,KAAK,GAAGob,KAAK,CAAC,CAAD,CAAL,CAAS+yB,UAAT,CAAoB,CAApB,CAAd;;cAEA,IAAI,CAAC,GAAGrF,eAAe,CAACsF,gBAApB,EAAsCl5B,KAAtC,MAAiD,CAAC,GAAG4zB,eAAe,CAACsF,gBAApB,EAAsCpuC,KAAtC,CAArD,EAAmG;gBACjG,OAAO,KAAP;cACD;YACF;;YAEDob,KAAK,GAAGmiB,OAAO,CAAC/D,KAAR,CAAc0U,QAAQ,GAAG3rC,MAAzB,EAAiC6Y,KAAjC,CAAuCyuB,gCAAvC,CAAR;;YAEA,IAAIzuB,KAAJ,EAAW;cACT,MAAMjG,IAAI,GAAGooB,OAAO,CAAC4Q,UAAR,CAAmBD,QAAQ,GAAG3rC,MAAX,GAAoB,CAAvC,CAAb;cACA,MAAMvC,KAAK,GAAGob,KAAK,CAAC,CAAD,CAAL,CAAS+yB,UAAT,CAAoB,CAApB,CAAd;;cAEA,IAAI,CAAC,GAAGrF,eAAe,CAACsF,gBAApB,EAAsCj5B,IAAtC,MAAgD,CAAC,GAAG2zB,eAAe,CAACsF,gBAApB,EAAsCpuC,KAAtC,CAApD,EAAkG;gBAChG,OAAO,KAAP;cACD;YACF;;YAED,OAAO,IAAP;UACD;;UAED,CAACquC,oBAAoB,CAACrmC,KAAD,EAAQsmC,UAAR,EAAoBl0C,SAApB,EAA+Bm0C,WAA/B,EAA4C;YAC/D,MAAM9S,OAAO,GAAG,EAAhB;YAAA,MACMO,aAAa,GAAG,EADtB;YAEA,MAAM+P,KAAK,GAAG,KAAK0B,UAAL,CAAgBrzC,SAAhB,CAAd;YACA,IAAIghB,KAAJ;;YAEA,OAAO,CAACA,KAAK,GAAGpT,KAAK,CAACi9B,IAAN,CAAWsJ,WAAX,CAAT,MAAsC,IAA7C,EAAmD;cACjD,IAAID,UAAU,IAAI,CAAC,KAAK,CAACL,YAAN,CAAmBM,WAAnB,EAAgCnzB,KAAK,CAACtI,KAAtC,EAA6CsI,KAAK,CAAC,CAAD,CAAL,CAAS7Y,MAAtD,CAAnB,EAAkF;gBAChF;cACD;;cAED,MAAM,CAACisC,QAAD,EAAWC,QAAX,IAAuB3C,gBAAgB,CAACC,KAAD,EAAQ3wB,KAAK,CAACtI,KAAd,EAAqBsI,KAAK,CAAC,CAAD,CAAL,CAAS7Y,MAA9B,CAA7C;;cAEA,IAAIksC,QAAJ,EAAc;gBACZhT,OAAO,CAACr1B,IAAR,CAAaooC,QAAb;gBACAxS,aAAa,CAAC51B,IAAd,CAAmBqoC,QAAnB;cACD;YACF;;YAED,KAAKnC,YAAL,CAAkBlyC,SAAlB,IAA+BqhC,OAA/B;YACA,KAAK8Q,kBAAL,CAAwBnyC,SAAxB,IAAqC4hC,aAArC;UACD;;UAED,CAAC0S,qBAAqB,CAAC1mC,KAAD,EAAQijC,aAAR,EAAuB;YAC3C,MAAM;cACJ0D;YADI,IAEF,KAAKlC,MAFT;YAGA,IAAImC,SAAS,GAAG,KAAhB;YACA5mC,KAAK,GAAGA,KAAK,CAAC5G,OAAN,CAAcuoC,qBAAd,EAAqC,CAACvuB,KAAD,EAAQ8vB,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,KAA+B;cAC1E,IAAIJ,EAAJ,EAAQ;gBACN,OAAQ,SAAQA,EAAG,MAAnB;cACD;;cAED,IAAIC,EAAJ,EAAQ;gBACN,OAAQ,OAAMA,EAAG,MAAjB;cACD;;cAED,IAAIC,EAAJ,EAAQ;gBACN,OAAO,MAAP;cACD;;cAED,IAAIuD,eAAJ,EAAqB;gBACnB,OAAOtD,EAAE,IAAIC,EAAb;cACD;;cAED,IAAID,EAAJ,EAAQ;gBACN,OAAO/B,oBAAoB,CAACzhC,GAArB,CAAyBwjC,EAAE,CAAC8C,UAAH,CAAc,CAAd,CAAzB,IAA6C9C,EAA7C,GAAkD,EAAzD;cACD;;cAED,IAAIJ,aAAJ,EAAmB;gBACjB2D,SAAS,GAAG,IAAZ;gBACA,OAAQ,GAAEtD,EAAG,SAAb;cACD;;cAED,OAAOA,EAAP;YACD,CA3BO,CAAR;YA4BA,MAAMuD,cAAc,GAAG,MAAvB;;YAEA,IAAI7mC,KAAK,CAAC2jC,QAAN,CAAekD,cAAf,CAAJ,EAAoC;cAClC7mC,KAAK,GAAGA,KAAK,CAACwxB,KAAN,CAAY,CAAZ,EAAexxB,KAAK,CAACzF,MAAN,GAAessC,cAAc,CAACtsC,MAA7C,CAAR;YACD;;YAED,IAAIosC,eAAJ,EAAqB;cACnB,IAAI1D,aAAJ,EAAmB;gBACjB2D,SAAS,GAAG,IAAZ;gBACA5mC,KAAK,GAAI,GAAEA,KAAM,OAAMuhC,wBAAyB,gBAAhD;cACD;YACF;;YAED,OAAO,CAACqF,SAAD,EAAY5mC,KAAZ,CAAP;UACD;;UAED,CAAC8mC,cAAc,CAAC10C,SAAD,EAAY;YACzB,IAAI4N,KAAK,GAAG,KAAK,CAACA,KAAlB;;YAEA,IAAIA,KAAK,CAACzF,MAAN,KAAiB,CAArB,EAAwB;cACtB;YACD;;YAED,MAAM;cACJwsC,aADI;cAEJT,UAFI;cAGJrmC;YAHI,IAIF,KAAKwkC,MAJT;YAKA,MAAM8B,WAAW,GAAG,KAAKf,aAAL,CAAmBpzC,SAAnB,CAApB;YACA,MAAM6wC,aAAa,GAAG,KAAKyC,cAAL,CAAoBtzC,SAApB,CAAtB;YACA,IAAIw0C,SAAS,GAAG,KAAhB;;YAEA,IAAI3mC,YAAJ,EAAkB;cAChB,CAAC2mC,SAAD,EAAY5mC,KAAZ,IAAqB,KAAK,CAAC0mC,qBAAN,CAA4B1mC,KAA5B,EAAmCijC,aAAnC,CAArB;YACD,CAFD,MAEO;cACL,MAAM7vB,KAAK,GAAGpT,KAAK,CAACoT,KAAN,CAAY,MAAZ,CAAd;;cAEA,IAAIA,KAAJ,EAAW;gBACTpT,KAAK,GAAGoT,KAAK,CAAC/F,IAAN,GAAa25B,OAAb,GAAuB3iB,GAAvB,CAA2Bra,CAAC,IAAI;kBACtC,MAAM,CAACi9B,aAAD,EAAgBC,SAAhB,IAA6B,KAAK,CAACR,qBAAN,CAA4B18B,CAA5B,EAA+Bi5B,aAA/B,CAAnC;kBACA2D,SAAS,KAAKK,aAAd;kBACA,OAAQ,IAAGC,SAAU,GAArB;gBACD,CAJO,EAILjV,IAJK,CAIA,GAJA,CAAR;cAKD;YACF;;YAED,MAAMkV,KAAK,GAAI,IAAGP,SAAS,GAAG,GAAH,GAAS,EAAG,GAAEG,aAAa,GAAG,EAAH,GAAQ,GAAI,EAAlE;YACA/mC,KAAK,GAAG,IAAIyiC,MAAJ,CAAWziC,KAAX,EAAkBmnC,KAAlB,CAAR;YACA,KAAK,CAACd,oBAAN,CAA2BrmC,KAA3B,EAAkCsmC,UAAlC,EAA8Cl0C,SAA9C,EAAyDm0C,WAAzD;;YAEA,IAAI,KAAK9B,MAAL,CAAY7P,YAAhB,EAA8B;cAC5B,KAAK,CAACwS,UAAN,CAAiBh1C,SAAjB;YACD;;YAED,IAAI,KAAK0zC,cAAL,KAAwB1zC,SAA5B,EAAuC;cACrC,KAAK0zC,cAAL,GAAsB,IAAtB;cACA,KAAK,CAACuB,aAAN;YACD;;YAED,MAAMC,gBAAgB,GAAG,KAAKhD,YAAL,CAAkBlyC,SAAlB,EAA6BmI,MAAtD;;YAEA,IAAI+sC,gBAAgB,GAAG,CAAvB,EAA0B;cACxB,KAAK3B,kBAAL,IAA2B2B,gBAA3B;cACA,KAAK,CAACC,oBAAN;YACD;UACF;;UAED,CAACzC,WAAW,GAAG;YACb,IAAI,KAAKS,oBAAL,CAA0BhrC,MAA1B,GAAmC,CAAvC,EAA0C;cACxC;YACD;;YAED,IAAIga,OAAO,GAAGla,OAAO,CAACkU,OAAR,EAAd;;YAEA,KAAK,IAAIxM,CAAC,GAAG,CAAR,EAAWwV,EAAE,GAAG,KAAK0sB,YAAL,CAAkBlnC,UAAvC,EAAmDgF,CAAC,GAAGwV,EAAvD,EAA2DxV,CAAC,EAA5D,EAAgE;cAC9D,MAAMylC,qBAAqB,GAAG,CAAC,GAAG50C,SAAS,CAAC6sB,uBAAd,GAA9B;cACA,KAAK8lB,oBAAL,CAA0BxjC,CAA1B,IAA+BylC,qBAAqB,CAACjzB,OAArD;cACAA,OAAO,GAAGA,OAAO,CAAC3W,IAAR,CAAa,MAAM;gBAC3B,OAAO,KAAK8mC,YAAL,CAAkB1nB,OAAlB,CAA0Bjb,CAAC,GAAG,CAA9B,EAAiCnE,IAAjC,CAAsC9M,OAAO,IAAI;kBACtD,OAAOA,OAAO,CAACw2B,cAAR,EAAP;gBACD,CAFM,EAEJ1pB,IAFI,CAEC4V,WAAW,IAAI;kBACrB,MAAMi0B,MAAM,GAAG,EAAf;;kBAEA,KAAK,MAAMC,QAAX,IAAuBl0B,WAAW,CAACzK,KAAnC,EAA0C;oBACxC0+B,MAAM,CAACrpC,IAAP,CAAYspC,QAAQ,CAACtoC,GAArB;;oBAEA,IAAIsoC,QAAQ,CAACC,MAAb,EAAqB;sBACnBF,MAAM,CAACrpC,IAAP,CAAY,IAAZ;oBACD;kBACF;;kBAED,CAAC,KAAKonC,aAAL,CAAmBzjC,CAAnB,CAAD,EAAwB,KAAK0jC,UAAL,CAAgB1jC,CAAhB,CAAxB,EAA4C,KAAK2jC,cAAL,CAAoB3jC,CAApB,CAA5C,IAAsEogC,SAAS,CAACsF,MAAM,CAACxV,IAAP,CAAY,EAAZ,CAAD,CAA/E;kBACAuV,qBAAqB,CAACj5B,OAAtB;gBACD,CAfM,EAeJkG,MAAM,IAAI;kBACX1W,OAAO,CAACC,KAAR,CAAe,uCAAsC+D,CAAC,GAAG,CAAE,EAA3D,EAA8D0S,MAA9D;kBACA,KAAK+wB,aAAL,CAAmBzjC,CAAnB,IAAwB,EAAxB;kBACA,KAAK0jC,UAAL,CAAgB1jC,CAAhB,IAAqB,IAArB;kBACA,KAAK2jC,cAAL,CAAoB3jC,CAApB,IAAyB,KAAzB;kBACAylC,qBAAqB,CAACj5B,OAAtB;gBACD,CArBM,CAAP;cAsBD,CAvBS,CAAV;YAwBD;UACF;;UAED,CAAC64B,UAAU,CAACt8B,KAAD,EAAQ;YACjB,IAAI,KAAKs6B,cAAL,IAAuB,KAAKZ,SAAL,CAAe9Q,OAAf,KAA2B5oB,KAAtD,EAA6D;cAC3D,KAAKm5B,YAAL,CAAkBzpC,IAAlB,GAAyBsQ,KAAK,GAAG,CAAjC;YACD;;YAED,KAAKo5B,SAAL,CAAepkC,QAAf,CAAwB,wBAAxB,EAAkD;cAChDC,MAAM,EAAE,IADwC;cAEhD3N,SAAS,EAAE0Y;YAFqC,CAAlD;UAID;;UAED,CAACq6B,cAAc,GAAG;YAChB,KAAKjB,SAAL,CAAepkC,QAAf,CAAwB,wBAAxB,EAAkD;cAChDC,MAAM,EAAE,IADwC;cAEhD3N,SAAS,EAAE,CAAC;YAFoC,CAAlD;UAID;;UAED,CAAC8yC,SAAS,GAAG;YACX,MAAMlqB,QAAQ,GAAG,KAAKypB,MAAL,CAAYmD,YAA7B;YACA,MAAMC,gBAAgB,GAAG,KAAK5D,YAAL,CAAkBzpC,IAAlB,GAAyB,CAAlD;YACA,MAAMwC,QAAQ,GAAG,KAAKinC,YAAL,CAAkBlnC,UAAnC;YACA,KAAKsnC,iBAAL,GAAyB,IAAzB;;YAEA,IAAI,KAAKO,WAAT,EAAsB;cACpB,KAAKA,WAAL,GAAmB,KAAnB;cACA,KAAKJ,SAAL,CAAe9Q,OAAf,GAAyB,KAAK8Q,SAAL,CAAepQ,QAAf,GAA0B,CAAC,CAApD;cACA,KAAKiR,OAAL,CAAa3R,OAAb,GAAuBmU,gBAAvB;cACA,KAAKxC,OAAL,CAAajR,QAAb,GAAwB,IAAxB;cACA,KAAKiR,OAAL,CAAaC,OAAb,GAAuB,KAAvB;cACA,KAAKQ,cAAL,GAAsB,IAAtB;cACA,KAAKxB,YAAL,CAAkB/pC,MAAlB,GAA2B,CAA3B;cACA,KAAKgqC,kBAAL,CAAwBhqC,MAAxB,GAAiC,CAAjC;cACA,KAAKorC,kBAAL,GAA0B,CAA1B;cACA,KAAK,CAACR,cAAN;;cAEA,KAAK,IAAIpjC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/E,QAApB,EAA8B+E,CAAC,EAA/B,EAAmC;gBACjC,IAAI,KAAK8jC,mBAAL,CAAyBhmC,GAAzB,CAA6BkC,CAA7B,CAAJ,EAAqC;kBACnC;gBACD;;gBAED,KAAK8jC,mBAAL,CAAyB54B,GAAzB,CAA6BlL,CAA7B;;gBAEA,KAAKwjC,oBAAL,CAA0BxjC,CAA1B,EAA6BnE,IAA7B,CAAkC,MAAM;kBACtC,KAAKioC,mBAAL,CAAyB3uB,MAAzB,CAAgCnV,CAAhC;;kBAEA,KAAK,CAAC+kC,cAAN,CAAqB/kC,CAArB;gBACD,CAJD;cAKD;YACF;;YAED,IAAI,KAAK,CAAC/B,KAAN,KAAgB,EAApB,EAAwB;cACtB,KAAK,CAAC6kC,aAAN,CAAoBhE,SAAS,CAACE,KAA9B;cACA;YACD;;YAED,IAAI,KAAK+E,cAAT,EAAyB;cACvB;YACD;;YAED,MAAMvR,MAAM,GAAG,KAAK8Q,OAApB;YACA,KAAKO,cAAL,GAAsB5oC,QAAtB;;YAEA,IAAIu3B,MAAM,CAACH,QAAP,KAAoB,IAAxB,EAA8B;cAC5B,MAAM0T,cAAc,GAAG,KAAKxD,YAAL,CAAkB/P,MAAM,CAACb,OAAzB,EAAkCn5B,MAAzD;;cAEA,IAAI,CAACygB,QAAD,IAAauZ,MAAM,CAACH,QAAP,GAAkB,CAAlB,GAAsB0T,cAAnC,IAAqD9sB,QAAQ,IAAIuZ,MAAM,CAACH,QAAP,GAAkB,CAAvF,EAA0F;gBACxFG,MAAM,CAACH,QAAP,GAAkBpZ,QAAQ,GAAGuZ,MAAM,CAACH,QAAP,GAAkB,CAArB,GAAyBG,MAAM,CAACH,QAAP,GAAkB,CAArE;gBACA,KAAK,CAAC2T,WAAN,CAAkB,IAAlB;gBACA;cACD;;cAED,KAAK,CAACC,iBAAN,CAAwBhtB,QAAxB;YACD;;YAED,KAAK,CAACqsB,aAAN;UACD;;UAED,CAACY,YAAY,CAACxU,OAAD,EAAU;YACrB,MAAMc,MAAM,GAAG,KAAK8Q,OAApB;YACA,MAAM6C,UAAU,GAAGzU,OAAO,CAACl5B,MAA3B;YACA,MAAMygB,QAAQ,GAAG,KAAKypB,MAAL,CAAYmD,YAA7B;;YAEA,IAAIM,UAAJ,EAAgB;cACd3T,MAAM,CAACH,QAAP,GAAkBpZ,QAAQ,GAAGktB,UAAU,GAAG,CAAhB,GAAoB,CAA9C;cACA,KAAK,CAACH,WAAN,CAAkB,IAAlB;cACA,OAAO,IAAP;YACD;;YAED,KAAK,CAACC,iBAAN,CAAwBhtB,QAAxB;;YAEA,IAAIuZ,MAAM,CAAC+Q,OAAX,EAAoB;cAClB/Q,MAAM,CAACH,QAAP,GAAkB,IAAlB;;cAEA,IAAI,KAAKwR,cAAL,GAAsB,CAA1B,EAA6B;gBAC3B,KAAK,CAACmC,WAAN,CAAkB,KAAlB;gBACA,OAAO,IAAP;cACD;YACF;;YAED,OAAO,KAAP;UACD;;UAED,CAACV,aAAa,GAAG;YACf,IAAI,KAAKvB,cAAL,KAAwB,IAA5B,EAAkC;cAChC/nC,OAAO,CAACC,KAAR,CAAc,qCAAd;YACD;;YAED,IAAIy1B,OAAO,GAAG,IAAd;;YAEA,GAAG;cACD,MAAMC,OAAO,GAAG,KAAK2R,OAAL,CAAa3R,OAA7B;cACAD,OAAO,GAAG,KAAK6Q,YAAL,CAAkB5Q,OAAlB,CAAV;;cAEA,IAAI,CAACD,OAAL,EAAc;gBACZ,KAAKqS,cAAL,GAAsBpS,OAAtB;gBACA;cACD;YACF,CARD,QAQS,CAAC,KAAK,CAACuU,YAAN,CAAmBxU,OAAnB,CARV;UASD;;UAED,CAACuU,iBAAiB,CAAChtB,QAAD,EAAW;YAC3B,MAAMuZ,MAAM,GAAG,KAAK8Q,OAApB;YACA,MAAMroC,QAAQ,GAAG,KAAKinC,YAAL,CAAkBlnC,UAAnC;YACAw3B,MAAM,CAACb,OAAP,GAAiB1Y,QAAQ,GAAGuZ,MAAM,CAACb,OAAP,GAAiB,CAApB,GAAwBa,MAAM,CAACb,OAAP,GAAiB,CAAlE;YACAa,MAAM,CAACH,QAAP,GAAkB,IAAlB;YACA,KAAKwR,cAAL;;YAEA,IAAIrR,MAAM,CAACb,OAAP,IAAkB12B,QAAlB,IAA8Bu3B,MAAM,CAACb,OAAP,GAAiB,CAAnD,EAAsD;cACpDa,MAAM,CAACb,OAAP,GAAiB1Y,QAAQ,GAAGhe,QAAQ,GAAG,CAAd,GAAkB,CAA3C;cACAu3B,MAAM,CAAC+Q,OAAP,GAAiB,IAAjB;YACD;UACF;;UAED,CAACyC,WAAW,CAACpI,KAAK,GAAG,KAAT,EAAgB;YAC1B,IAAIv3B,KAAK,GAAGy4B,SAAS,CAACG,SAAtB;YACA,MAAMsE,OAAO,GAAG,KAAKD,OAAL,CAAaC,OAA7B;YACA,KAAKD,OAAL,CAAaC,OAAb,GAAuB,KAAvB;;YAEA,IAAI3F,KAAJ,EAAW;cACT,MAAMx+B,YAAY,GAAG,KAAKqjC,SAAL,CAAe9Q,OAApC;cACA,KAAK8Q,SAAL,CAAe9Q,OAAf,GAAyB,KAAK2R,OAAL,CAAa3R,OAAtC;cACA,KAAK8Q,SAAL,CAAepQ,QAAf,GAA0B,KAAKiR,OAAL,CAAajR,QAAvC;cACAhsB,KAAK,GAAGk9B,OAAO,GAAGzE,SAAS,CAACl7B,OAAb,GAAuBk7B,SAAS,CAACE,KAAhD;;cAEA,IAAI5/B,YAAY,KAAK,CAAC,CAAlB,IAAuBA,YAAY,KAAK,KAAKqjC,SAAL,CAAe9Q,OAA3D,EAAoE;gBAClE,KAAK,CAAC0T,UAAN,CAAiBjmC,YAAjB;cACD;YACF;;YAED,KAAK,CAAC0jC,aAAN,CAAoBz8B,KAApB,EAA2B,KAAKq8B,MAAL,CAAYmD,YAAvC;;YAEA,IAAI,KAAKpD,SAAL,CAAe9Q,OAAf,KAA2B,CAAC,CAAhC,EAAmC;cACjC,KAAK0R,cAAL,GAAsB,IAAtB;cACA,KAAK,CAACgC,UAAN,CAAiB,KAAK5C,SAAL,CAAe9Q,OAAhC;YACD;UACF;;UAED,CAAC0Q,cAAc,CAACt8B,GAAD,EAAM;YACnB,MAAMtL,WAAW,GAAG,KAAKkoC,YAAzB;;YAEA,KAAK7oB,oBAAL,CAA0BtH,OAA1B,CAAkC3W,IAAlC,CAAuC,MAAM;cAC3C,IAAI,CAAC,KAAK8mC,YAAN,IAAsBloC,WAAW,IAAI,KAAKkoC,YAAL,KAAsBloC,WAA/D,EAA4E;gBAC1E;cACD;;cAED,IAAI,KAAKyoC,YAAT,EAAuB;gBACrBjwB,YAAY,CAAC,KAAKiwB,YAAN,CAAZ;gBACA,KAAKA,YAAL,GAAoB,IAApB;cACD;;cAED,IAAI,KAAKa,cAAT,EAAyB;gBACvB,KAAKA,cAAL,GAAsB,IAAtB;gBACA,KAAKlB,WAAL,GAAmB,IAAnB;cACD;;cAED,KAAK,CAACC,aAAN,CAAoBhE,SAAS,CAACE,KAA9B;cACA,KAAKsD,iBAAL,GAAyB,KAAzB;cACA,KAAK,CAACc,cAAN;YACD,CAlBD;UAmBD;;UAED,CAACgD,mBAAmB,GAAG;YACrB,MAAM;cACJzU,OADI;cAEJU;YAFI,IAGF,KAAKoQ,SAHT;YAIA,IAAI4D,OAAO,GAAG,CAAd;YAAA,IACIrwC,KAAK,GAAG,KAAK4tC,kBADjB;;YAGA,IAAIvR,QAAQ,KAAK,CAAC,CAAlB,EAAqB;cACnB,KAAK,IAAIryB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2xB,OAApB,EAA6B3xB,CAAC,EAA9B,EAAkC;gBAChCqmC,OAAO,IAAI,KAAK9D,YAAL,CAAkBviC,CAAlB,GAAsBxH,MAAtB,IAAgC,CAA3C;cACD;;cAED6tC,OAAO,IAAIhU,QAAQ,GAAG,CAAtB;YACD;;YAED,IAAIgU,OAAO,GAAG,CAAV,IAAeA,OAAO,GAAGrwC,KAA7B,EAAoC;cAClCqwC,OAAO,GAAGrwC,KAAK,GAAG,CAAlB;YACD;;YAED,OAAO;cACLqwC,OADK;cAELrwC;YAFK,CAAP;UAID;;UAED,CAACwvC,oBAAoB,GAAG;YACtB,KAAKrD,SAAL,CAAepkC,QAAf,CAAwB,wBAAxB,EAAkD;cAChDC,MAAM,EAAE,IADwC;cAEhDsoC,YAAY,EAAE,KAAK,CAACF,mBAAN;YAFkC,CAAlD;UAID;;UAED,CAACtD,aAAa,CAACz8B,KAAD,EAAQ4S,QAAQ,GAAG,KAAnB,EAA0B;YACtC,KAAKkpB,SAAL,CAAepkC,QAAf,CAAwB,wBAAxB,EAAkD;cAChDC,MAAM,EAAE,IADwC;cAEhDqI,KAFgD;cAGhD4S,QAHgD;cAIhDqtB,YAAY,EAAE,KAAK,CAACF,mBAAN,EAJkC;cAKhDG,QAAQ,EAAE,KAAK7D,MAAL,EAAazkC,KAAb,IAAsB;YALgB,CAAlD;UAOD;;QA1lBqB;;QA8lBxB5Q,OAAO,CAACwxC,iBAAR,GAA4BA,iBAA5B;QAEA;MAAO,CArjP8B;MAsjPrC;;MACA;MAAO,CAACjxC,uBAAD,EAA0BP,OAA1B,KAAsC;QAI7CS,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACm5C,aAAR,GAAwB,KAAK,CAA7B;QACAn5C,OAAO,CAACg3C,gBAAR,GAA2BA,gBAA3B;QACA,MAAMmC,aAAa,GAAG;UACpBC,KAAK,EAAE,CADa;UAEpBC,YAAY,EAAE,CAFM;UAGpBC,KAAK,EAAE,CAHa;UAIpBC,UAAU,EAAE,CAJQ;UAKpBC,eAAe,EAAE,CALG;UAMpBC,eAAe,EAAE,CANG;UAOpBC,yBAAyB,EAAE,CAPP;UAQpBC,WAAW,EAAE;QARO,CAAtB;QAUA35C,OAAO,CAACm5C,aAAR,GAAwBA,aAAxB;;QAEA,SAASS,oBAAT,CAA8BC,QAA9B,EAAwC;UACtC,OAAOA,QAAQ,GAAG,MAAlB;QACD;;QAED,SAASC,OAAT,CAAiBD,QAAjB,EAA2B;UACzB,OAAO,CAACA,QAAQ,GAAG,MAAZ,MAAwB,CAA/B;QACD;;QAED,SAASE,YAAT,CAAsBF,QAAtB,EAAgC;UAC9B,OAAOA,QAAQ,IAAI,IAAZ,IAAoBA,QAAQ,IAAI,IAAhC,IAAwCA,QAAQ,IAAI,IAAZ,IAAoBA,QAAQ,IAAI,IAA/E;QACD;;QAED,SAASG,YAAT,CAAsBH,QAAtB,EAAgC;UAC9B,OAAOA,QAAQ,IAAI,IAAZ,IAAoBA,QAAQ,IAAI,IAAvC;QACD;;QAED,SAASI,YAAT,CAAsBJ,QAAtB,EAAgC;UAC9B,OAAOA,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,IAAlC,IAA0CA,QAAQ,KAAK,IAAvD,IAA+DA,QAAQ,KAAK,IAAnF;QACD;;QAED,SAASK,KAAT,CAAeL,QAAf,EAAyB;UACvB,OAAOA,QAAQ,IAAI,MAAZ,IAAsBA,QAAQ,IAAI,MAAlC,IAA4CA,QAAQ,IAAI,MAAZ,IAAsBA,QAAQ,IAAI,MAArF;QACD;;QAED,SAASM,UAAT,CAAoBN,QAApB,EAA8B;UAC5B,OAAOA,QAAQ,IAAI,MAAZ,IAAsBA,QAAQ,IAAI,MAAzC;QACD;;QAED,SAASO,UAAT,CAAoBP,QAApB,EAA8B;UAC5B,OAAOA,QAAQ,IAAI,MAAZ,IAAsBA,QAAQ,IAAI,MAAzC;QACD;;QAED,SAASQ,mBAAT,CAA6BR,QAA7B,EAAuC;UACrC,OAAOA,QAAQ,IAAI,MAAZ,IAAsBA,QAAQ,IAAI,MAAzC;QACD;;QAED,SAASS,MAAT,CAAgBT,QAAhB,EAA0B;UACxB,OAAO,CAACA,QAAQ,GAAG,MAAZ,MAAwB,MAA/B;QACD;;QAED,SAAS7C,gBAAT,CAA0B6C,QAA1B,EAAoC;UAClC,IAAID,oBAAoB,CAACC,QAAD,CAAxB,EAAoC;YAClC,IAAIC,OAAO,CAACD,QAAD,CAAX,EAAuB;cACrB,IAAII,YAAY,CAACJ,QAAD,CAAhB,EAA4B;gBAC1B,OAAOV,aAAa,CAACC,KAArB;cACD,CAFD,MAEO,IAAIW,YAAY,CAACF,QAAD,CAAZ,IAA0BG,YAAY,CAACH,QAAD,CAAtC,IAAoDA,QAAQ,KAAK,IAArE,EAA2E;gBAChF,OAAOV,aAAa,CAACE,YAArB;cACD;;cAED,OAAOF,aAAa,CAACG,KAArB;YACD,CARD,MAQO,IAAIgB,MAAM,CAACT,QAAD,CAAV,EAAsB;cAC3B,OAAOV,aAAa,CAACQ,WAArB;YACD,CAFM,MAEA,IAAIE,QAAQ,KAAK,IAAjB,EAAuB;cAC5B,OAAOV,aAAa,CAACC,KAArB;YACD;;YAED,OAAOD,aAAa,CAACE,YAArB;UACD;;UAED,IAAIa,KAAK,CAACL,QAAD,CAAT,EAAqB;YACnB,OAAOV,aAAa,CAACI,UAArB;UACD,CAFD,MAEO,IAAIY,UAAU,CAACN,QAAD,CAAd,EAA0B;YAC/B,OAAOV,aAAa,CAACK,eAArB;UACD,CAFM,MAEA,IAAIY,UAAU,CAACP,QAAD,CAAd,EAA0B;YAC/B,OAAOV,aAAa,CAACM,eAArB;UACD,CAFM,MAEA,IAAIY,mBAAmB,CAACR,QAAD,CAAvB,EAAmC;YACxC,OAAOV,aAAa,CAACO,yBAArB;UACD;;UAED,OAAOP,aAAa,CAACE,YAArB;QACD;QAED;;MAAO,CAppP8B;MAqpPrC;;MACA;MAAO,CAAC94C,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACu6C,UAAR,GAAqB,KAAK,CAA1B;QACAv6C,OAAO,CAACw6C,iBAAR,GAA4BA,iBAA5B;QACAx6C,OAAO,CAACy6C,iBAAR,GAA4BA,iBAA5B;;QAEA,IAAIjvC,SAAS,GAAGhL,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIk6C,YAAY,GAAGl6C,mBAAmB,CAAC,EAAD,CAAtC;;QAEA,MAAMm6C,mBAAmB,GAAG,IAA5B;QACA,MAAMC,0BAA0B,GAAG,EAAnC;QACA,MAAMC,uBAAuB,GAAG,IAAhC;;QAEA,SAASC,cAAT,GAA0B;UACxB,OAAOz2C,QAAQ,CAACkvB,QAAT,CAAkBljB,IAAzB;QACD;;QAED,MAAMkqC,UAAN,CAAiB;UACf92C,WAAW,CAAC;YACVlB,WADU;YAEVY;UAFU,CAAD,EAGR;YACD,KAAKZ,WAAL,GAAmBA,WAAnB;YACA,KAAKY,QAAL,GAAgBA,QAAhB;YACA,KAAK43C,YAAL,GAAoB,KAApB;YACA,KAAKC,YAAL,GAAoB,EAApB;YACA,KAAKhnB,KAAL;YACA,KAAKinB,YAAL,GAAoB,IAApB;;YAEA,KAAK93C,QAAL,CAAc8qB,GAAd,CAAkB,WAAlB,EAA+B,MAAM;cACnC,KAAKitB,cAAL,GAAsB,KAAtB;;cAEA,KAAK/3C,QAAL,CAAc8qB,GAAd,CAAkB,aAAlB,EAAiCvV,GAAG,IAAI;gBACtC,KAAKwiC,cAAL,GAAsB,CAAC,CAACxiC,GAAG,CAAC/K,UAA5B;cACD,CAFD,EAEG;gBACD+7B,IAAI,EAAE;cADL,CAFH;YAKD,CARD;UASD;;UAEDyR,UAAU,CAAC;YACTC,WADS;YAETC,YAAY,GAAG,KAFN;YAGTC,SAAS,GAAG;UAHH,CAAD,EAIP;YACD,IAAI,CAACF,WAAD,IAAgB,OAAOA,WAAP,KAAuB,QAA3C,EAAqD;cACnDzsC,OAAO,CAACC,KAAR,CAAc,sEAAd;cACA;YACD;;YAED,IAAI,KAAKmsC,YAAT,EAAuB;cACrB,KAAK/mB,KAAL;YACD;;YAED,MAAMunB,aAAa,GAAG,KAAKP,YAAL,KAAsB,EAAtB,IAA4B,KAAKA,YAAL,KAAsBI,WAAxE;YACA,KAAKJ,YAAL,GAAoBI,WAApB;YACA,KAAKI,UAAL,GAAkBF,SAAS,KAAK,IAAhC;YACA,KAAKP,YAAL,GAAoB,IAApB;;YAEA,KAAKU,WAAL;;YAEA,MAAMziC,KAAK,GAAG5T,MAAM,CAACs2C,OAAP,CAAe1iC,KAA7B;YACA,KAAK2iC,mBAAL,GAA2B,KAA3B;YACA,KAAKC,gBAAL,GAAwB,CAAxB;YACA,KAAKC,YAAL,GAAoBf,cAAc,EAAlC;YACA,KAAKgB,mBAAL,GAA2B,CAA3B;YACA,KAAKC,IAAL,GAAY,KAAKC,OAAL,GAAe,CAA3B;YACA,KAAKC,YAAL,GAAoB,IAApB;YACA,KAAKC,SAAL,GAAiB,IAAjB;;YAEA,IAAI,CAAC,KAAKC,aAAL,CAAmBnjC,KAAnB,EAA0B,IAA1B,CAAD,IAAoCqiC,YAAxC,EAAsD;cACpD,MAAM;gBACJhrC,IADI;gBAEJjF,IAFI;gBAGJ0C;cAHI,IAIF,KAAKsuC,iBAAL,CAAuB,IAAvB,CAJJ;;cAMA,IAAI,CAAC/rC,IAAD,IAASkrC,aAAT,IAA0BF,YAA9B,EAA4C;gBAC1C,KAAKgB,mBAAL,CAAyB,IAAzB,EAA+B,IAA/B;;gBAEA;cACD;;cAED,KAAKA,mBAAL,CAAyB;gBACvBhsC,IADuB;gBAEvBjF,IAFuB;gBAGvB0C;cAHuB,CAAzB,EAIG,IAJH;;cAMA;YACD;;YAED,MAAMwuC,WAAW,GAAGtjC,KAAK,CAACsjC,WAA1B;;YAEA,KAAKC,oBAAL,CAA0BD,WAA1B,EAAuCtjC,KAAK,CAACwjC,GAA7C,EAAkD,IAAlD;;YAEA,IAAIF,WAAW,CAACxuC,QAAZ,KAAyBqK,SAA7B,EAAwC;cACtC,KAAKskC,gBAAL,GAAwBH,WAAW,CAACxuC,QAApC;YACD;;YAED,IAAIwuC,WAAW,CAACltC,IAAhB,EAAsB;cACpB,KAAKstC,gBAAL,GAAwBzsC,IAAI,CAACC,SAAL,CAAeosC,WAAW,CAACltC,IAA3B,CAAxB;cACA,KAAK6sC,YAAL,CAAkB7wC,IAAlB,GAAyB,IAAzB;YACD,CAHD,MAGO,IAAIkxC,WAAW,CAACjsC,IAAhB,EAAsB;cAC3B,KAAKqsC,gBAAL,GAAwBJ,WAAW,CAACjsC,IAApC;YACD,CAFM,MAEA,IAAIisC,WAAW,CAAClxC,IAAhB,EAAsB;cAC3B,KAAKsxC,gBAAL,GAAyB,QAAOJ,WAAW,CAAClxC,IAAK,EAAjD;YACD;UACF;;UAED4oB,KAAK,GAAG;YACN,IAAI,KAAK+mB,YAAT,EAAuB;cACrB,KAAK4B,SAAL;;cAEA,KAAK5B,YAAL,GAAoB,KAApB;;cAEA,KAAK6B,aAAL;YACD;;YAED,IAAI,KAAKC,sBAAT,EAAiC;cAC/Bj3B,YAAY,CAAC,KAAKi3B,sBAAN,CAAZ;cACA,KAAKA,sBAAL,GAA8B,IAA9B;YACD;;YAED,KAAKH,gBAAL,GAAwB,IAAxB;YACA,KAAKD,gBAAL,GAAwB,IAAxB;UACD;;UAEDztC,IAAI,CAAC;YACHd,SAAS,GAAG,IADT;YAEHC,YAFG;YAGHE;UAHG,CAAD,EAID;YACD,IAAI,CAAC,KAAK0sC,YAAV,EAAwB;cACtB;YACD;;YAED,IAAI7sC,SAAS,IAAI,OAAOA,SAAP,KAAqB,QAAtC,EAAgD;cAC9CS,OAAO,CAACC,KAAR,CAAc,sBAAuB,IAAGV,SAAU,uCAAlD;cACA;YACD,CAHD,MAGO,IAAI,CAACoB,KAAK,CAACC,OAAN,CAAcpB,YAAd,CAAL,EAAkC;cACvCQ,OAAO,CAACC,KAAR,CAAc,sBAAuB,IAAGT,YAAa,0CAArD;cACA;YACD,CAHM,MAGA,IAAI,CAAC,KAAK2uC,YAAL,CAAkBzuC,UAAlB,CAAL,EAAoC;cACzC,IAAIA,UAAU,KAAK,IAAf,IAAuB,KAAK4tC,YAAhC,EAA8C;gBAC5CttC,OAAO,CAACC,KAAR,CAAc,sBAAuB,IAAGP,UAAW,wCAAnD;gBACA;cACD;YACF;;YAED,MAAMgC,IAAI,GAAGnC,SAAS,IAAI+B,IAAI,CAACC,SAAL,CAAe/B,YAAf,CAA1B;;YAEA,IAAI,CAACkC,IAAL,EAAW;cACT;YACD;;YAED,IAAI0sC,YAAY,GAAG,KAAnB;;YAEA,IAAI,KAAKd,YAAL,KAAsBxB,iBAAiB,CAAC,KAAKwB,YAAL,CAAkB5rC,IAAnB,EAAyBA,IAAzB,CAAjB,IAAmDmqC,iBAAiB,CAAC,KAAKyB,YAAL,CAAkB7sC,IAAnB,EAAyBjB,YAAzB,CAA1F,CAAJ,EAAuI;cACrI,IAAI,KAAK8tC,YAAL,CAAkB7wC,IAAtB,EAA4B;gBAC1B;cACD;;cAED2xC,YAAY,GAAG,IAAf;YACD;;YAED,IAAI,KAAKpB,mBAAL,IAA4B,CAACoB,YAAjC,EAA+C;cAC7C;YACD;;YAED,KAAKV,mBAAL,CAAyB;cACvBjtC,IAAI,EAAEjB,YADiB;cAEvBkC,IAFuB;cAGvBjF,IAAI,EAAEiD,UAHiB;cAIvBP,QAAQ,EAAE,KAAKvL,WAAL,CAAiBuL;YAJJ,CAAzB,EAKGivC,YALH;;YAOA,IAAI,CAAC,KAAKpB,mBAAV,EAA+B;cAC7B,KAAKA,mBAAL,GAA2B,IAA3B;cACA1wC,OAAO,CAACkU,OAAR,GAAkB3Q,IAAlB,CAAuB,MAAM;gBAC3B,KAAKmtC,mBAAL,GAA2B,KAA3B;cACD,CAFD;YAGD;UACF;;UAEDhsC,QAAQ,CAACtB,UAAD,EAAa;YACnB,IAAI,CAAC,KAAK0sC,YAAV,EAAwB;cACtB;YACD;;YAED,IAAI,CAAC,KAAK+B,YAAL,CAAkBzuC,UAAlB,CAAL,EAAoC;cAClCM,OAAO,CAACC,KAAR,CAAe,yBAAwBP,UAAW,+BAAlD;cACA;YACD;;YAED,IAAI,KAAK4tC,YAAL,EAAmB7wC,IAAnB,KAA4BiD,UAAhC,EAA4C;cAC1C;YACD;;YAED,IAAI,KAAKstC,mBAAT,EAA8B;cAC5B;YACD;;YAED,KAAKU,mBAAL,CAAyB;cACvBjtC,IAAI,EAAE,IADiB;cAEvBiB,IAAI,EAAG,QAAOhC,UAAW,EAFF;cAGvBjD,IAAI,EAAEiD,UAHiB;cAIvBP,QAAQ,EAAE,KAAKvL,WAAL,CAAiBuL;YAJJ,CAAzB;;YAOA,IAAI,CAAC,KAAK6tC,mBAAV,EAA+B;cAC7B,KAAKA,mBAAL,GAA2B,IAA3B;cACA1wC,OAAO,CAACkU,OAAR,GAAkB3Q,IAAlB,CAAuB,MAAM;gBAC3B,KAAKmtC,mBAAL,GAA2B,KAA3B;cACD,CAFD;YAGD;UACF;;UAED5sC,mBAAmB,GAAG;YACpB,IAAI,CAAC,KAAKgsC,YAAN,IAAsB,KAAKY,mBAA/B,EAAoD;cAClD;YACD;;YAED,KAAKqB,uBAAL;UACD;;UAEDprC,IAAI,GAAG;YACL,IAAI,CAAC,KAAKmpC,YAAN,IAAsB,KAAKY,mBAA/B,EAAoD;cAClD;YACD;;YAED,MAAM3iC,KAAK,GAAG5T,MAAM,CAACs2C,OAAP,CAAe1iC,KAA7B;;YAEA,IAAI,KAAKmjC,aAAL,CAAmBnjC,KAAnB,KAA6BA,KAAK,CAACwjC,GAAN,GAAY,CAA7C,EAAgD;cAC9Cp3C,MAAM,CAACs2C,OAAP,CAAe9pC,IAAf;YACD;UACF;;UAEDC,OAAO,GAAG;YACR,IAAI,CAAC,KAAKkpC,YAAN,IAAsB,KAAKY,mBAA/B,EAAoD;cAClD;YACD;;YAED,MAAM3iC,KAAK,GAAG5T,MAAM,CAACs2C,OAAP,CAAe1iC,KAA7B;;YAEA,IAAI,KAAKmjC,aAAL,CAAmBnjC,KAAnB,KAA6BA,KAAK,CAACwjC,GAAN,GAAY,KAAKR,OAAlD,EAA2D;cACzD52C,MAAM,CAACs2C,OAAP,CAAe7pC,OAAf;YACD;UACF;;UAEqB,IAAlBorC,kBAAkB,GAAG;YACvB,OAAO,KAAKlC,YAAL,KAAsB,KAAKY,mBAAL,IAA4B,KAAKC,gBAAL,GAAwB,CAA1E,CAAP;UACD;;UAEkB,IAAfsB,eAAe,GAAG;YACpB,OAAO,KAAKnC,YAAL,GAAoB,KAAK2B,gBAAzB,GAA4C,IAAnD;UACD;;UAEkB,IAAfS,eAAe,GAAG;YACpB,OAAO,KAAKpC,YAAL,GAAoB,KAAK0B,gBAAzB,GAA4C,IAAnD;UACD;;UAEDJ,mBAAmB,CAACC,WAAD,EAAcS,YAAY,GAAG,KAA7B,EAAoC;YACrD,MAAMK,aAAa,GAAGL,YAAY,IAAI,CAAC,KAAKd,YAA5C;YACA,MAAMoB,QAAQ,GAAG;cACfjC,WAAW,EAAE,KAAKJ,YADH;cAEfwB,GAAG,EAAEY,aAAa,GAAG,KAAKrB,IAAR,GAAe,KAAKA,IAAL,GAAY,CAF9B;cAGfO;YAHe,CAAjB;;YAMA,KAAKC,oBAAL,CAA0BD,WAA1B,EAAuCe,QAAQ,CAACb,GAAhD;;YAEA,IAAIc,MAAJ;;YAEA,IAAI,KAAK9B,UAAL,IAAmBc,WAAW,EAAEjsC,IAApC,EAA0C;cACxC,MAAMlD,OAAO,GAAG9I,QAAQ,CAACkvB,QAAT,CAAkB/mB,IAAlB,CAAuBuE,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAhB;;cAEA,IAAI,CAAC5D,OAAO,CAACowC,UAAR,CAAmB,SAAnB,CAAL,EAAoC;gBAClCD,MAAM,GAAI,GAAEnwC,OAAQ,IAAGmvC,WAAW,CAACjsC,IAAK,EAAxC;cACD;YACF;;YAED,IAAI+sC,aAAJ,EAAmB;cACjBh4C,MAAM,CAACs2C,OAAP,CAAe8B,YAAf,CAA4BH,QAA5B,EAAsC,EAAtC,EAA0CC,MAA1C;YACD,CAFD,MAEO;cACLl4C,MAAM,CAACs2C,OAAP,CAAe+B,SAAf,CAAyBJ,QAAzB,EAAmC,EAAnC,EAAuCC,MAAvC;YACD;UACF;;UAEDN,uBAAuB,CAACU,SAAS,GAAG,KAAb,EAAoB;YACzC,IAAI,CAAC,KAAKxB,SAAV,EAAqB;cACnB;YACD;;YAED,IAAI1yB,QAAQ,GAAG,KAAK0yB,SAApB;;YAEA,IAAIwB,SAAJ,EAAe;cACbl0B,QAAQ,GAAG/oB,MAAM,CAACk9C,MAAP,CAAcl9C,MAAM,CAACk9B,MAAP,CAAc,IAAd,CAAd,EAAmC,KAAKue,SAAxC,CAAX;cACA1yB,QAAQ,CAACk0B,SAAT,GAAqB,IAArB;YACD;;YAED,IAAI,CAAC,KAAKzB,YAAV,EAAwB;cACtB,KAAKI,mBAAL,CAAyB7yB,QAAzB;;cAEA;YACD;;YAED,IAAI,KAAKyyB,YAAL,CAAkByB,SAAtB,EAAiC;cAC/B,KAAKrB,mBAAL,CAAyB7yB,QAAzB,EAAmC,IAAnC;;cAEA;YACD;;YAED,IAAI,KAAKyyB,YAAL,CAAkB5rC,IAAlB,KAA2BmZ,QAAQ,CAACnZ,IAAxC,EAA8C;cAC5C;YACD;;YAED,IAAI,CAAC,KAAK4rC,YAAL,CAAkB7wC,IAAnB,KAA4BwvC,0BAA0B,IAAI,CAA9B,IAAmC,KAAKkB,mBAAL,IAA4BlB,0BAA3F,CAAJ,EAA4H;cAC1H;YACD;;YAED,IAAImC,YAAY,GAAG,KAAnB;;YAEA,IAAI,KAAKd,YAAL,CAAkB7wC,IAAlB,IAA0Boe,QAAQ,CAAC1L,KAAnC,IAA4C,KAAKm+B,YAAL,CAAkB7wC,IAAlB,IAA0Boe,QAAQ,CAACpe,IAAnF,EAAyF;cACvF,IAAI,KAAK6wC,YAAL,CAAkB7sC,IAAlB,KAA2B+I,SAA3B,IAAwC,CAAC,KAAK8jC,YAAL,CAAkBn+B,KAA/D,EAAsE;gBACpE;cACD;;cAEDi/B,YAAY,GAAG,IAAf;YACD;;YAED,KAAKV,mBAAL,CAAyB7yB,QAAzB,EAAmCuzB,YAAnC;UACD;;UAEDD,YAAY,CAACrtC,GAAD,EAAM;YAChB,OAAOZ,MAAM,CAACC,SAAP,CAAiBW,GAAjB,KAAyBA,GAAG,GAAG,CAA/B,IAAoCA,GAAG,IAAI,KAAKlN,WAAL,CAAiBoL,UAAnE;UACD;;UAEDwuC,aAAa,CAACnjC,KAAD,EAAQ4kC,WAAW,GAAG,KAAtB,EAA6B;YACxC,IAAI,CAAC5kC,KAAL,EAAY;cACV,OAAO,KAAP;YACD;;YAED,IAAIA,KAAK,CAACoiC,WAAN,KAAsB,KAAKJ,YAA/B,EAA6C;cAC3C,IAAI4C,WAAJ,EAAiB;gBACf,IAAI,OAAO5kC,KAAK,CAACoiC,WAAb,KAA6B,QAA7B,IAAyCpiC,KAAK,CAACoiC,WAAN,CAAkBjwC,MAAlB,KAA6B,KAAK6vC,YAAL,CAAkB7vC,MAA5F,EAAoG;kBAClG,OAAO,KAAP;gBACD;;gBAED,MAAM,CAAC0yC,SAAD,IAActkB,WAAW,CAACukB,gBAAZ,CAA6B,YAA7B,CAApB;;gBAEA,IAAID,SAAS,EAAE7nB,IAAX,KAAoB,QAAxB,EAAkC;kBAChC,OAAO,KAAP;gBACD;cACF,CAVD,MAUO;gBACL,OAAO,KAAP;cACD;YACF;;YAED,IAAI,CAACnnB,MAAM,CAACC,SAAP,CAAiBkK,KAAK,CAACwjC,GAAvB,CAAD,IAAgCxjC,KAAK,CAACwjC,GAAN,GAAY,CAAhD,EAAmD;cACjD,OAAO,KAAP;YACD;;YAED,IAAIxjC,KAAK,CAACsjC,WAAN,KAAsB,IAAtB,IAA8B,OAAOtjC,KAAK,CAACsjC,WAAb,KAA6B,QAA/D,EAAyE;cACvE,OAAO,KAAP;YACD;;YAED,OAAO,IAAP;UACD;;UAEDC,oBAAoB,CAACD,WAAD,EAAcE,GAAd,EAAmBuB,eAAe,GAAG,KAArC,EAA4C;YAC9D,IAAI,KAAKlB,sBAAT,EAAiC;cAC/Bj3B,YAAY,CAAC,KAAKi3B,sBAAN,CAAZ;cACA,KAAKA,sBAAL,GAA8B,IAA9B;YACD;;YAED,IAAIkB,eAAe,IAAIzB,WAAW,EAAEoB,SAApC,EAA+C;cAC7C,OAAOpB,WAAW,CAACoB,SAAnB;YACD;;YAED,KAAKzB,YAAL,GAAoBK,WAApB;YACA,KAAKP,IAAL,GAAYS,GAAZ;YACA,KAAKR,OAAL,GAAe7hC,IAAI,CAACkD,GAAL,CAAS,KAAK2+B,OAAd,EAAuBQ,GAAvB,CAAf;YACA,KAAKV,mBAAL,GAA2B,CAA3B;UACD;;UAEDM,iBAAiB,CAAC4B,cAAc,GAAG,KAAlB,EAAyB;YACxC,MAAM3tC,IAAI,GAAGgB,QAAQ,CAACypC,cAAc,EAAf,CAAR,CAA2B1U,SAA3B,CAAqC,CAArC,CAAb;YACA,MAAM71B,MAAM,GAAG,CAAC,GAAG/E,SAAS,CAACgF,gBAAd,EAAgCH,IAAhC,CAAf;YACA,MAAM4tC,SAAS,GAAG1tC,MAAM,CAAClG,GAAP,CAAW,WAAX,KAA2B,EAA7C;YACA,IAAIe,IAAI,GAAGmF,MAAM,CAAClG,GAAP,CAAW,MAAX,IAAqB,CAAhC;;YAEA,IAAI,CAAC,KAAKyyC,YAAL,CAAkB1xC,IAAlB,CAAD,IAA4B4yC,cAAc,IAAIC,SAAS,CAAC9yC,MAAV,GAAmB,CAArE,EAAwE;cACtEC,IAAI,GAAG,IAAP;YACD;;YAED,OAAO;cACLiF,IADK;cAELjF,IAFK;cAGL0C,QAAQ,EAAE,KAAKvL,WAAL,CAAiBuL;YAHtB,CAAP;UAKD;;UAEDowC,eAAe,CAAC;YACd3qB;UADc,CAAD,EAEZ;YACD,IAAI,KAAKspB,sBAAT,EAAiC;cAC/Bj3B,YAAY,CAAC,KAAKi3B,sBAAN,CAAZ;cACA,KAAKA,sBAAL,GAA8B,IAA9B;YACD;;YAED,KAAKX,SAAL,GAAiB;cACf7rC,IAAI,EAAEkjB,QAAQ,CAACR,aAAT,CAAuBqT,SAAvB,CAAiC,CAAjC,CADS;cAEfh7B,IAAI,EAAE,KAAK7I,WAAL,CAAiB6I,IAFR;cAGf0S,KAAK,EAAEyV,QAAQ,CAACllB,UAHD;cAIfP,QAAQ,EAAEylB,QAAQ,CAACzlB;YAJJ,CAAjB;;YAOA,IAAI,KAAK6tC,mBAAT,EAA8B;cAC5B;YACD;;YAED,IAAIf,0BAA0B,GAAG,CAA7B,IAAkC,KAAKM,cAAvC,IAAyD,KAAKe,YAA9D,IAA8E,CAAC,KAAKA,YAAL,CAAkB7wC,IAArG,EAA2G;cACzG,KAAK0wC,mBAAL;YACD;;YAED,IAAIjB,uBAAuB,GAAG,CAA9B,EAAiC;cAC/B,KAAKgC,sBAAL,GAA8Bz2B,UAAU,CAAC,MAAM;gBAC7C,IAAI,CAAC,KAAKu1B,mBAAV,EAA+B;kBAC7B,KAAKqB,uBAAL,CAA6B,IAA7B;gBACD;;gBAED,KAAKH,sBAAL,GAA8B,IAA9B;cACD,CANuC,EAMrChC,uBANqC,CAAxC;YAOD;UACF;;UAEDsD,SAAS,CAAC;YACRnlC;UADQ,CAAD,EAEN;YACD,MAAMolC,OAAO,GAAGtD,cAAc,EAA9B;YAAA,MACMuD,WAAW,GAAG,KAAKxC,YAAL,KAAsBuC,OAD1C;YAEA,KAAKvC,YAAL,GAAoBuC,OAApB;;YAEA,IAAI,CAACplC,KAAL,EAAY;cACV,KAAK+iC,IAAL;;cAEA,MAAM;gBACJ1rC,IADI;gBAEJjF,IAFI;gBAGJ0C;cAHI,IAIF,KAAKsuC,iBAAL,EAJJ;;cAMA,KAAKC,mBAAL,CAAyB;gBACvBhsC,IADuB;gBAEvBjF,IAFuB;gBAGvB0C;cAHuB,CAAzB,EAIG,IAJH;;cAMA;YACD;;YAED,IAAI,CAAC,KAAKquC,aAAL,CAAmBnjC,KAAnB,CAAL,EAAgC;cAC9B;YACD;;YAED,KAAK2iC,mBAAL,GAA2B,IAA3B;;YAEA,IAAI0C,WAAJ,EAAiB;cACf,KAAKzC,gBAAL;cACA,CAAC,GAAGlB,YAAY,CAAC5R,oBAAjB,EAAuC;gBACrC58B,MAAM,EAAE9G,MAD6B;gBAErC8E,IAAI,EAAE,YAF+B;gBAGrC++B,KAAK,EAAE0R;cAH8B,CAAvC,EAIGnsC,IAJH,CAIQ,MAAM;gBACZ,KAAKotC,gBAAL;cACD,CAND;YAOD;;YAED,MAAMU,WAAW,GAAGtjC,KAAK,CAACsjC,WAA1B;;YAEA,KAAKC,oBAAL,CAA0BD,WAA1B,EAAuCtjC,KAAK,CAACwjC,GAA7C,EAAkD,IAAlD;;YAEA,IAAI,CAAC,GAAGhxC,SAAS,CAACmJ,eAAd,EAA+B2nC,WAAW,CAACxuC,QAA3C,CAAJ,EAA0D;cACxD,KAAKvL,WAAL,CAAiBuL,QAAjB,GAA4BwuC,WAAW,CAACxuC,QAAxC;YACD;;YAED,IAAIwuC,WAAW,CAACltC,IAAhB,EAAsB;cACpB,KAAK7M,WAAL,CAAiB4M,eAAjB,CAAiCmtC,WAAW,CAACltC,IAA7C;YACD,CAFD,MAEO,IAAIktC,WAAW,CAACjsC,IAAhB,EAAsB;cAC3B,KAAK9N,WAAL,CAAiB6N,OAAjB,CAAyBksC,WAAW,CAACjsC,IAArC;YACD,CAFM,MAEA,IAAIisC,WAAW,CAAClxC,IAAhB,EAAsB;cAC3B,KAAK7I,WAAL,CAAiB6I,IAAjB,GAAwBkxC,WAAW,CAAClxC,IAApC;YACD;;YAEDH,OAAO,CAACkU,OAAR,GAAkB3Q,IAAlB,CAAuB,MAAM;cAC3B,KAAKmtC,mBAAL,GAA2B,KAA3B;YACD,CAFD;UAGD;;UAEDgB,SAAS,GAAG;YACV,IAAI,CAAC,KAAKV,YAAN,IAAsB,KAAKA,YAAL,CAAkByB,SAA5C,EAAuD;cACrD,KAAKV,uBAAL;YACD;UACF;;UAEDvB,WAAW,GAAG;YACZ,IAAI,KAAKR,YAAT,EAAuB;cACrB;YACD;;YAED,KAAKA,YAAL,GAAoB;cAClBqD,cAAc,EAAE,KAAKJ,eAAL,CAAqBrzB,IAArB,CAA0B,IAA1B,CADE;cAElB0zB,QAAQ,EAAE,KAAKJ,SAAL,CAAetzB,IAAf,CAAoB,IAApB,CAFQ;cAGlB2zB,QAAQ,EAAE,KAAK7B,SAAL,CAAe9xB,IAAf,CAAoB,IAApB;YAHQ,CAApB;;YAMA,KAAK1nB,QAAL,CAAc8qB,GAAd,CAAkB,gBAAlB,EAAoC,KAAKgtB,YAAL,CAAkBqD,cAAtD;;YAEAl5C,MAAM,CAACkU,gBAAP,CAAwB,UAAxB,EAAoC,KAAK2hC,YAAL,CAAkBsD,QAAtD;YACAn5C,MAAM,CAACkU,gBAAP,CAAwB,UAAxB,EAAoC,KAAK2hC,YAAL,CAAkBuD,QAAtD;UACD;;UAED5B,aAAa,GAAG;YACd,IAAI,CAAC,KAAK3B,YAAV,EAAwB;cACtB;YACD;;YAED,KAAK93C,QAAL,CAAcirB,IAAd,CAAmB,gBAAnB,EAAqC,KAAK6sB,YAAL,CAAkBqD,cAAvD;;YAEAl5C,MAAM,CAACooB,mBAAP,CAA2B,UAA3B,EAAuC,KAAKytB,YAAL,CAAkBsD,QAAzD;YACAn5C,MAAM,CAACooB,mBAAP,CAA2B,UAA3B,EAAuC,KAAKytB,YAAL,CAAkBuD,QAAzD;YACA,KAAKvD,YAAL,GAAoB,IAApB;UACD;;QApgBc;;QAwgBjBj7C,OAAO,CAACu6C,UAAR,GAAqBA,UAArB;;QAEA,SAASE,iBAAT,CAA2BgE,QAA3B,EAAqCC,QAArC,EAA+C;UAC7C,IAAI,OAAOD,QAAP,KAAoB,QAApB,IAAgC,OAAOC,QAAP,KAAoB,QAAxD,EAAkE;YAChE,OAAO,KAAP;UACD;;UAED,IAAID,QAAQ,KAAKC,QAAjB,EAA2B;YACzB,OAAO,IAAP;UACD;;UAED,MAAMT,SAAS,GAAG,CAAC,GAAGzyC,SAAS,CAACgF,gBAAd,EAAgCiuC,QAAhC,EAA0Cp0C,GAA1C,CAA8C,WAA9C,CAAlB;;UAEA,IAAI4zC,SAAS,KAAKS,QAAlB,EAA4B;YAC1B,OAAO,IAAP;UACD;;UAED,OAAO,KAAP;QACD;;QAED,SAASlE,iBAAT,CAA2BmE,SAA3B,EAAsCC,UAAtC,EAAkD;UAChD,SAASC,YAAT,CAAsB/gC,KAAtB,EAA6BghC,MAA7B,EAAqC;YACnC,IAAI,OAAOhhC,KAAP,KAAiB,OAAOghC,MAA5B,EAAoC;cAClC,OAAO,KAAP;YACD;;YAED,IAAIxvC,KAAK,CAACC,OAAN,CAAcuO,KAAd,KAAwBxO,KAAK,CAACC,OAAN,CAAcuvC,MAAd,CAA5B,EAAmD;cACjD,OAAO,KAAP;YACD;;YAED,IAAIhhC,KAAK,KAAK,IAAV,IAAkB,OAAOA,KAAP,KAAiB,QAAnC,IAA+CghC,MAAM,KAAK,IAA9D,EAAoE;cAClE,IAAIr+C,MAAM,CAAC6nB,IAAP,CAAYxK,KAAZ,EAAmB3S,MAAnB,KAA8B1K,MAAM,CAAC6nB,IAAP,CAAYw2B,MAAZ,EAAoB3zC,MAAtD,EAA8D;gBAC5D,OAAO,KAAP;cACD;;cAED,KAAK,MAAM1C,GAAX,IAAkBqV,KAAlB,EAAyB;gBACvB,IAAI,CAAC+gC,YAAY,CAAC/gC,KAAK,CAACrV,GAAD,CAAN,EAAaq2C,MAAM,CAACr2C,GAAD,CAAnB,CAAjB,EAA4C;kBAC1C,OAAO,KAAP;gBACD;cACF;;cAED,OAAO,IAAP;YACD;;YAED,OAAOqV,KAAK,KAAKghC,MAAV,IAAoBjwC,MAAM,CAAC+Q,KAAP,CAAa9B,KAAb,KAAuBjP,MAAM,CAAC+Q,KAAP,CAAak/B,MAAb,CAAlD;UACD;;UAED,IAAI,EAAExvC,KAAK,CAACC,OAAN,CAAcovC,SAAd,KAA4BrvC,KAAK,CAACC,OAAN,CAAcqvC,UAAd,CAA9B,CAAJ,EAA8D;YAC5D,OAAO,KAAP;UACD;;UAED,IAAID,SAAS,CAACxzC,MAAV,KAAqByzC,UAAU,CAACzzC,MAApC,EAA4C;YAC1C,OAAO,KAAP;UACD;;UAED,KAAK,IAAIwH,CAAC,GAAG,CAAR,EAAWwV,EAAE,GAAGw2B,SAAS,CAACxzC,MAA/B,EAAuCwH,CAAC,GAAGwV,EAA3C,EAA+CxV,CAAC,EAAhD,EAAoD;YAClD,IAAI,CAACksC,YAAY,CAACF,SAAS,CAAChsC,CAAD,CAAV,EAAeisC,UAAU,CAACjsC,CAAD,CAAzB,CAAjB,EAAgD;cAC9C,OAAO,KAAP;YACD;UACF;;UAED,OAAO,IAAP;QACD;QAED;;MAAO,CArvQ8B;MAsvQrC;;MACA;MAAO,CAACpS,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAAC++C,mBAAR,GAA8B,KAAK,CAAnC;;QAEA,IAAIvzC,SAAS,GAAGhL,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAIgD,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,MAAMu+C,mBAAN,CAA0B;UACxBt7C,WAAW,CAAC;YACVN,QADU;YAEVy9B,gBAAgB,GAAG,IAFT;YAGVoe,gBAAgB,GAAG,IAHT;YAIVC,mBAAmB,GAAG;UAJZ,CAAD,EAKR;YACD,KAAK3J,YAAL,GAAoB,IAApB;YACA,KAAK4J,UAAL,GAAkB,IAAlB;YACA,KAAKC,gBAAL,GAAwB,IAAxB;YACA,KAAKC,kBAAL,GAA0B,IAA1B;YACA,KAAKC,UAAL,GAAkB,IAAlB;YACA,KAAKz0C,WAAL,GAAmBnK,MAAM,CAACk9B,MAAP,CAAc,IAAd,CAAnB;YACA,KAAKuM,MAAL,GAAc,KAAd;YACA,KAAK4K,SAAL,GAAiB3xC,QAAjB;YACA,KAAKm8C,iBAAL,GAAyB1e,gBAAzB;YACA,KAAK2e,iBAAL,GAAyBP,gBAAzB;YACA,KAAKQ,oBAAL,GAA4BP,mBAA5B;;YAEA,IAAI,CAAC,KAAKM,iBAAV,EAA6B;cAC3Bn6C,MAAM,CAACkU,gBAAP,CAAwB,mBAAxB,EAA6CoiB,KAAK,IAAI;gBACpD,KAAKoZ,SAAL,CAAepkC,QAAf,CAAwB,mBAAxB,EAA6C;kBAC3CC,MAAM,EAAEvL,MADmC;kBAE3Cq6C,MAAM,EAAE/jB,KAAK,CAAC+jB;gBAF6B,CAA7C;cAID,CALD;YAMD;UACF;;UAEDhyC,SAAS,CAACJ,SAAD,EAAY;YACnB,KAAK6xC,UAAL,GAAkB7xC,SAAlB;UACD;;UAEKE,WAAW,CAACH,WAAD,EAAc;YAAA;;YAAA;cAC7B,IAAI,OAAI,CAACkoC,YAAT,EAAuB;gBACrB,MAAM,OAAI,CAACoK,iBAAL,EAAN;cACD;;cAED,OAAI,CAACpK,YAAL,GAAoBloC,WAApB;;cAEA,IAAI,CAACA,WAAL,EAAkB;gBAChB;cACD;;cAED,MAAM,CAACuyC,OAAD,EAAUC,gBAAV,EAA4BC,UAA5B,UAAgD50C,OAAO,CAAChB,GAAR,CAAY,CAACmD,WAAW,CAAC0nB,eAAZ,EAAD,EAAgC1nB,WAAW,CAAC0yC,sBAAZ,EAAhC,EAAsE1yC,WAAW,CAAC2yC,YAAZ,EAAtE,CAAZ,CAAtD;;cAEA,IAAI,CAACJ,OAAD,IAAY,CAACE,UAAjB,EAA6B;gBAC3B,MAAM,OAAI,CAACH,iBAAL,EAAN;gBACA;cACD;;cAED,IAAItyC,WAAW,KAAK,OAAI,CAACkoC,YAAzB,EAAuC;gBACrC;cACD;;cAED,IAAI;gBACF,OAAI,CAAC+J,UAAL,GAAkB,OAAI,CAACW,gBAAL,EAAlB;cACD,CAFD,CAEE,OAAOpxC,KAAP,EAAc;gBACdD,OAAO,CAACC,KAAR,CAAe,qCAAoCA,KAAK,EAAEqxC,OAAQ,IAAlE;gBACA,MAAM,OAAI,CAACP,iBAAL,EAAN;gBACA;cACD;;cAED,OAAI,CAACQ,eAAL,CAAqB7tC,GAArB,CAAyB,mBAAzB,EAA8CqpB,KAAK,IAAI;gBACrD,IAAIA,KAAK,EAAE/qB,MAAP,KAAkBvL,MAAtB,EAA8B;kBAC5B;gBACD;;gBAED,OAAI,CAAC+6C,kBAAL,CAAwBzkB,KAAK,CAAC+jB,MAA9B;cACD,CAND;;cAQA,OAAI,CAACS,eAAL,CAAqB7tC,GAArB,CAAyB,wBAAzB,EAAmDqpB,KAAK,IAAI;gBAC1D,OAAI,CAAC2jB,UAAL,EAAiBe,sBAAjB,CAAwC1kB,KAAK,CAAC+jB,MAA9C;cACD,CAFD;;cAIA,OAAI,CAACS,eAAL,CAAqB7tC,GAArB,CAAyB,cAAzB,EAAyC,CAAC;gBACxChE,UADwC;gBAExCud;cAFwC,CAAD,KAGnC;gBACJ,IAAIvd,UAAU,KAAKud,QAAnB,EAA6B;kBAC3B;gBACD;;gBAED,OAAI,CAACy0B,kBAAL,CAAwBz0B,QAAxB;;gBAEA,OAAI,CAAC00B,iBAAL,CAAuBjyC,UAAvB;cACD,CAXD;;cAaA,OAAI,CAAC6xC,eAAL,CAAqB7tC,GAArB,CAAyB,cAAzB,EAAyC,CAAC;gBACxChE;cADwC,CAAD,KAEnC;gBACJ,IAAI,CAAC,OAAI,CAACkyC,gBAAL,CAAsB9vC,GAAtB,CAA0BpC,UAA1B,CAAL,EAA4C;kBAC1C;gBACD;;gBAED,IAAIA,UAAU,KAAK,OAAI,CAAC6wC,UAAL,CAAgBrxC,iBAAnC,EAAsD;kBACpD;gBACD;;gBAED,OAAI,CAACyyC,iBAAL,CAAuBjyC,UAAvB;cACD,CAZD;;cAcA,OAAI,CAAC6xC,eAAL,CAAqB7tC,GAArB,CAAyB,cAAzB;gBAAA,8BAAyC,WAAMqpB,KAAN,EAAe;kBACtD,MAAM,OAAI,CAAC2kB,kBAAL,CAAwB,OAAI,CAACnB,UAAL,CAAgBrxC,iBAAxC,CAAN;kBACA,MAAM,OAAI,CAACwxC,UAAL,EAAiBe,sBAAjB,CAAwC;oBAC5C1iC,EAAE,EAAE,KADwC;oBAE5CxT,IAAI,EAAE;kBAFsC,CAAxC,CAAN;kBAIA,OAAI,CAACi1C,gBAAL,EAAuBhgC,OAAvB;gBACD,CAPD;;gBAAA;kBAAA;gBAAA;cAAA;;cASA,OAAI,CAACqhC,UAAL,CAAgBnuC,GAAhB,CAAoB,WAApB,EAAiCqpB,KAAK,IAAI;gBACxC,OAAI,CAAC9wB,WAAL,CAAiB61C,MAAjB,GAA0B,IAA1B;cACD,CAFD;;cAIA,OAAI,CAACD,UAAL,CAAgBnuC,GAAhB,CAAoB,SAApB,EAA+BqpB,KAAK,IAAI;gBACtC,OAAI,CAAC9wB,WAAL,CAAiB61C,MAAjB,GAA0B,KAA1B;cACD,CAFD;;cAIA,KAAK,MAAM,CAACv2C,IAAD,EAAOs/B,QAAP,CAAX,IAA+B,OAAI,CAAC0W,eAApC,EAAqD;gBACnD,OAAI,CAACpL,SAAL,CAAe7mB,GAAf,CAAmB/jB,IAAnB,EAAyBs/B,QAAzB;cACD;;cAED,KAAK,MAAM,CAACt/B,IAAD,EAAOs/B,QAAP,CAAX,IAA+B,OAAI,CAACgX,UAApC,EAAgD;gBAC9Cp7C,MAAM,CAACkU,gBAAP,CAAwBpP,IAAxB,EAA8Bs/B,QAA9B,EAAwC,IAAxC;cACD;;cAED,IAAI;gBACF,MAAMkX,aAAa,SAAS,OAAI,CAACC,iBAAL,EAA5B;;gBAEA,IAAIvzC,WAAW,KAAK,OAAI,CAACkoC,YAAzB,EAAuC;kBACrC;gBACD;;gBAED,MAAM,OAAI,CAAC+J,UAAL,CAAgBuB,aAAhB,CAA8B;kBAClCjB,OADkC;kBAElCC,gBAFkC;kBAGlCiB,OAAO,EAAE;oBACP/iB,QAAQ,EAAED,SAAS,CAACC,QADb;oBAEP6C,QAAQ,EAAE9C,SAAS,CAAC8C;kBAFb,CAHyB;kBAOlCmgB,OAAO,EAAE,EAAE,GAAGJ,aAAL;oBACPK,OAAO,EAAElB;kBADF;gBAPyB,CAA9B,CAAN;;gBAYA,OAAI,CAAC/K,SAAL,CAAepkC,QAAf,CAAwB,gBAAxB,EAA0C;kBACxCC,MAAM,EAAE;gBADgC,CAA1C;cAGD,CAtBD,CAsBE,OAAO/B,KAAP,EAAc;gBACdD,OAAO,CAACC,KAAR,CAAe,qCAAoCA,KAAK,EAAEqxC,OAAQ,IAAlE;gBACA,MAAM,OAAI,CAACP,iBAAL,EAAN;gBACA;cACD;;cAED,MAAM,OAAI,CAACL,UAAL,EAAiBe,sBAAjB,CAAwC;gBAC5C1iC,EAAE,EAAE,KADwC;gBAE5CxT,IAAI,EAAE;cAFsC,CAAxC,CAAN;cAIA,MAAM,OAAI,CAACo2C,iBAAL,CAAuB,OAAI,CAACpB,UAAL,CAAgBrxC,iBAAvC,EAA0D,IAA1D,CAAN;cACA5C,OAAO,CAACkU,OAAR,GAAkB3Q,IAAlB,CAAuB,MAAM;gBAC3B,IAAIpB,WAAW,KAAK,OAAI,CAACkoC,YAAzB,EAAuC;kBACrC,OAAI,CAACpL,MAAL,GAAc,IAAd;gBACD;cACF,CAJD;YA/H6B;UAoI9B;;UAEK8W,gBAAgB,CAACvB,MAAD,EAAS;YAAA;;YAAA;cAC7B,OAAO,OAAI,CAACJ,UAAL,EAAiBe,sBAAjB,CAAwC;gBAC7C1iC,EAAE,EAAE,KADyC;gBAE7CxT,IAAI,EAAE;cAFuC,CAAxC,CAAP;YAD6B;UAK9B;;UAEK+2C,eAAe,CAACxB,MAAD,EAAS;YAAA;;YAAA;cAC5B,OAAO,OAAI,CAACJ,UAAL,EAAiBe,sBAAjB,CAAwC;gBAC7C1iC,EAAE,EAAE,KADyC;gBAE7CxT,IAAI,EAAE;cAFuC,CAAxC,CAAP;YAD4B;UAK7B;;UAEKg3C,iBAAiB,CAACzB,MAAD,EAAS;YAAA;;YAAA;cAC9B,OAAO,OAAI,CAACJ,UAAL,EAAiBe,sBAAjB,CAAwC;gBAC7C1iC,EAAE,EAAE,KADyC;gBAE7CxT,IAAI,EAAE;cAFuC,CAAxC,CAAP;YAD8B;UAK/B;;UAEKi3C,gBAAgB,CAAC1B,MAAD,EAAS;YAAA;;YAAA;cAC7B,OAAO,OAAI,CAACJ,UAAL,EAAiBe,sBAAjB,CAAwC;gBAC7C1iC,EAAE,EAAE,KADyC;gBAE7CxT,IAAI,EAAE;cAFuC,CAAxC,CAAP;YAD6B;UAK9B;;UAEa,IAAVhI,UAAU,GAAG;YACf,OAAO,KAAK0I,WAAZ;UACD;;UAEiB,IAAdw2C,cAAc,GAAG;YACnB,OAAO,KAAKhC,kBAAL,EAAyBj6B,OAAzB,IAAoC,IAA3C;UACD;;UAEQ,IAALosB,KAAK,GAAG;YACV,OAAO,KAAKrH,MAAZ;UACD;;UAEkB,IAAfgW,eAAe,GAAG;YACpB,OAAO,CAAC,GAAG18C,SAAS,CAAC69C,MAAd,EAAsB,IAAtB,EAA4B,iBAA5B,EAA+C,IAAIx0C,GAAJ,EAA/C,CAAP;UACD;;UAEa,IAAV2zC,UAAU,GAAG;YACf,OAAO,CAAC,GAAGh9C,SAAS,CAAC69C,MAAd,EAAsB,IAAtB,EAA4B,YAA5B,EAA0C,IAAIx0C,GAAJ,EAA1C,CAAP;UACD;;UAEmB,IAAhB0zC,gBAAgB,GAAG;YACrB,OAAO,CAAC,GAAG/8C,SAAS,CAAC69C,MAAd,EAAsB,IAAtB,EAA4B,kBAA5B,EAAgD,IAAI3kC,GAAJ,EAAhD,CAAP;UACD;;UAEgB,IAAb4kC,aAAa,GAAG;YAClB,OAAO,CAAC,GAAG99C,SAAS,CAAC69C,MAAd,EAAsB,IAAtB,EAA4B,eAA5B,EAA6C,IAAIx0C,GAAJ,EAA7C,CAAP;UACD;;UAEKszC,kBAAkB,CAACV,MAAD,EAAS;YAAA;;YAAA;cAC/B,MAAM9uB,oBAAoB,GAAG,OAAI,CAACuuB,UAAL,CAAgBvuB,oBAAhB,IAAwC,OAAI,CAACuuB,UAAL,CAAgB1tB,0BAArF;cACA,MAAM;gBACJ9T,EADI;gBAEJ6jC,QAFI;gBAGJC,OAHI;gBAIJ7gD;cAJI,IAKF8+C,MALJ;;cAOA,IAAI,CAAC/hC,EAAL,EAAS;gBACP,QAAQ8jC,OAAR;kBACE,KAAK,OAAL;oBACE7yC,OAAO,CAACnB,KAAR;oBACA;;kBAEF,KAAK,OAAL;oBACEmB,OAAO,CAACC,KAAR,CAAcjO,KAAd;oBACA;;kBAEF,KAAK,QAAL;oBACE,IAAIgwB,oBAAJ,EAA0B;sBACxB;oBACD;;oBAED,MAAM8wB,KAAK,GAAG,CAAC,GAAGj2C,SAAS,CAACyI,0BAAd,EAA0CtT,KAA1C,CAAd;oBACA,OAAI,CAACu+C,UAAL,CAAgBv+B,UAAhB,GAA6B8gC,KAAK,CAAC9gC,UAAnC;oBACA;;kBAEF,KAAK,UAAL;oBACE,OAAI,CAACu+B,UAAL,CAAgBrxC,iBAAhB,GAAoClN,KAAK,GAAG,CAA5C;oBACA;;kBAEF,KAAK,OAAL;oBACE,MAAM,OAAI,CAACu+C,UAAL,CAAgBtyB,YAAtB;;oBAEA,OAAI,CAACkoB,SAAL,CAAepkC,QAAf,CAAwB,OAAxB,EAAiC;sBAC/BC,MAAM,EAAE;oBADuB,CAAjC;;oBAIA;;kBAEF,KAAK,SAAL;oBACEhC,OAAO,CAAC8/B,GAAR,CAAY9tC,KAAZ;oBACA;;kBAEF,KAAK,MAAL;oBACE,IAAIgwB,oBAAJ,EAA0B;sBACxB;oBACD;;oBAED,OAAI,CAACuuB,UAAL,CAAgB9yB,iBAAhB,GAAoCzrB,KAApC;oBACA;;kBAEF,KAAK,QAAL;oBACE,OAAI,CAACm0C,SAAL,CAAepkC,QAAf,CAAwB,UAAxB,EAAoC;sBAClCC,MAAM,EAAE;oBAD0B,CAApC;;oBAIA;;kBAEF,KAAK,WAAL;oBACE,OAAI,CAACuuC,UAAL,CAAgBrxC,iBAAhB,GAAoC,CAApC;oBACA;;kBAEF,KAAK,UAAL;oBACE,OAAI,CAACqxC,UAAL,CAAgBrxC,iBAAhB,GAAoC,OAAI,CAACqxC,UAAL,CAAgBvxC,UAApD;oBACA;;kBAEF,KAAK,UAAL;oBACE,OAAI,CAACuxC,UAAL,CAAgBptC,QAAhB;;oBAEA;;kBAEF,KAAK,UAAL;oBACE,OAAI,CAACotC,UAAL,CAAgBntC,YAAhB;;oBAEA;;kBAEF,KAAK,YAAL;oBACE,IAAI4e,oBAAJ,EAA0B;sBACxB;oBACD;;oBAED,OAAI,CAACuuB,UAAL,CAAgBvpB,aAAhB;;oBAEA;;kBAEF,KAAK,aAAL;oBACE,IAAIhF,oBAAJ,EAA0B;sBACxB;oBACD;;oBAED,OAAI,CAACuuB,UAAL,CAAgBppB,aAAhB;;oBAEA;gBApFJ;;gBAuFA;cACD;;cAED,IAAInF,oBAAJ,EAA0B;gBACxB,IAAI8uB,MAAM,CAAChsB,KAAX,EAAkB;kBAChB;gBACD;cACF;;cAED,OAAOgsB,MAAM,CAAC/hC,EAAd;cACA,OAAO+hC,MAAM,CAAC8B,QAAd;cACA,MAAM9kC,GAAG,GAAG8kC,QAAQ,GAAG,CAAC7jC,EAAD,EAAK,GAAG6jC,QAAR,CAAH,GAAuB,CAAC7jC,EAAD,CAA3C;;cAEA,KAAK,MAAMgkC,SAAX,IAAwBjlC,GAAxB,EAA6B;gBAC3B,MAAMjS,OAAO,GAAGnG,QAAQ,CAACkc,aAAT,CAAwB,qBAAoBmhC,SAAU,IAAtD,CAAhB;;gBAEA,IAAIl3C,OAAJ,EAAa;kBACXA,OAAO,CAACm3C,aAAR,CAAsB,IAAIC,WAAJ,CAAgB,mBAAhB,EAAqC;oBACzDnC;kBADyD,CAArC,CAAtB;gBAGD,CAJD,MAIO;kBACL,OAAI,CAACnK,YAAL,EAAmB3zC,iBAAnB,CAAqCkgD,QAArC,CAA8CH,SAA9C,EAAyDjC,MAAzD;gBACD;cACF;YAxH8B;UAyHhC;;UAEKa,iBAAiB,CAACjyC,UAAD,EAAa8sC,UAAU,GAAG,KAA1B,EAAiC;YAAA;;YAAA;cACtD,MAAM/tC,WAAW,GAAG,OAAI,CAACkoC,YAAzB;cAAA,MACMwM,YAAY,GAAG,OAAI,CAACR,aAD1B;;cAGA,IAAInG,UAAJ,EAAgB;gBACd,OAAI,CAACgE,gBAAL,GAAwB,CAAC,GAAG37C,SAAS,CAAC6sB,uBAAd,GAAxB;cACD;;cAED,IAAI,CAAC,OAAI,CAAC8uB,gBAAV,EAA4B;gBAC1B;cACD;;cAED,MAAM3zB,QAAQ,GAAG,OAAI,CAAC0zB,UAAL,CAAgB/zB,WAAhB,CAA4B9c,UAAU,GAAG,CAAzC,CAAjB;;cAEA,IAAImd,QAAQ,EAAEuI,cAAV,KAA6BvoB,SAAS,CAAC6H,eAAV,CAA0BkC,QAA3D,EAAqE;gBACnE,OAAI,CAACgrC,gBAAL,CAAsB1iC,GAAtB,CAA0BxP,UAA1B;;gBAEA;cACD;;cAED,OAAI,CAACkyC,gBAAL,CAAsBz4B,MAAtB,CAA6BzZ,UAA7B;;cAEA,MAAM0zC,cAAc,GAAG,kBAAC,aAAY;gBAClC,MAAMhB,OAAO,SAAU,CAACe,YAAY,CAACrxC,GAAb,CAAiBpC,UAAjB,CAAD,GAAgCmd,QAAQ,CAAC9pB,OAAT,EAAkBq+C,YAAlB,EAAhC,GAAmE,IAA1F;;gBAEA,IAAI3yC,WAAW,KAAK,OAAI,CAACkoC,YAAzB,EAAuC;kBACrC;gBACD;;gBAED,MAAM,OAAI,CAAC+J,UAAL,EAAiBe,sBAAjB,CAAwC;kBAC5C1iC,EAAE,EAAE,MADwC;kBAE5CxT,IAAI,EAAE,UAFsC;kBAG5CmE,UAH4C;kBAI5C0yC;gBAJ4C,CAAxC,CAAN;cAMD,CAbsB,GAAvB;;cAeAe,YAAY,CAACzvC,GAAb,CAAiBhE,UAAjB,EAA6B0zC,cAA7B;YArCsD;UAsCvD;;UAEK1B,kBAAkB,CAAChyC,UAAD,EAAa;YAAA;;YAAA;cACnC,MAAMjB,WAAW,GAAG,OAAI,CAACkoC,YAAzB;cAAA,MACMwM,YAAY,GAAG,OAAI,CAACR,aAD1B;;cAGA,IAAI,CAAC,OAAI,CAACnC,gBAAV,EAA4B;gBAC1B;cACD;;cAED,IAAI,OAAI,CAACoB,gBAAL,CAAsB9vC,GAAtB,CAA0BpC,UAA1B,CAAJ,EAA2C;gBACzC;cACD;;cAED,MAAM0zC,cAAc,GAAGD,YAAY,CAACz3C,GAAb,CAAiBgE,UAAjB,CAAvB;;cAEA,IAAI,CAAC0zC,cAAL,EAAqB;gBACnB;cACD;;cAEDD,YAAY,CAACzvC,GAAb,CAAiBhE,UAAjB,EAA6B,IAA7B;cACA,MAAM0zC,cAAN;;cAEA,IAAI30C,WAAW,KAAK,OAAI,CAACkoC,YAAzB,EAAuC;gBACrC;cACD;;cAED,MAAM,OAAI,CAAC+J,UAAL,EAAiBe,sBAAjB,CAAwC;gBAC5C1iC,EAAE,EAAE,MADwC;gBAE5CxT,IAAI,EAAE,WAFsC;gBAG5CmE;cAH4C,CAAxC,CAAN;YAzBmC;UA8BpC;;UAEKsyC,iBAAiB,GAAG;YAAA;;YAAA;cACxB,IAAI,OAAI,CAACnB,oBAAT,EAA+B;gBAC7B,OAAO,OAAI,CAACA,oBAAL,CAA0B,OAAI,CAAClK,YAA/B,CAAP;cACD;;cAED,MAAM;gBACJ2J;cADI,IAEFz+C,mBAAmB,CAAC,EAAD,CAFvB;;cAIA,OAAOy+C,mBAAmB,CAAC,OAAI,CAAC3J,YAAN,CAA1B;YATwB;UAUzB;;UAED0K,gBAAgB,GAAG;YACjB,KAAKZ,kBAAL,GAA0B,CAAC,GAAG57C,SAAS,CAAC6sB,uBAAd,GAA1B;;YAEA,IAAI,KAAKgvB,UAAT,EAAqB;cACnB,MAAM,IAAIhzC,KAAJ,CAAU,6CAAV,CAAN;YACD;;YAED,IAAI,KAAKkzC,iBAAT,EAA4B;cAC1B,OAAO,KAAKA,iBAAL,CAAuByC,eAAvB,CAAuC;gBAC5CphB,gBAAgB,EAAE,KAAK0e;cADqB,CAAvC,CAAP;YAGD;;YAED,MAAM;cACJ2C;YADI,IAEFzhD,mBAAmB,CAAC,EAAD,CAFvB;;YAIA,OAAO,IAAIyhD,gBAAJ,CAAqB,KAAK3C,iBAA1B,CAAP;UACD;;UAEKI,iBAAiB,GAAG;YAAA;;YAAA;cACxB,IAAI,CAAC,OAAI,CAACL,UAAV,EAAsB;gBACpB,OAAI,CAAC/J,YAAL,GAAoB,IAApB;gBACA,OAAI,CAAC8J,kBAAL,EAAyBjgC,OAAzB;gBACA;cACD;;cAED,IAAI,OAAI,CAACggC,gBAAT,EAA2B;gBACzB,MAAMl0C,OAAO,CAACwiB,IAAR,CAAa,CAAC,OAAI,CAAC0xB,gBAAL,CAAsBh6B,OAAvB,EAAgC,IAAIla,OAAJ,CAAYkU,OAAO,IAAI;kBACxEiH,UAAU,CAACjH,OAAD,EAAU,IAAV,CAAV;gBACD,CAFkD,CAAhC,CAAb,EAEDzQ,KAFC,CAEK2W,MAAM,IAAI,CAAE,CAFjB,CAAN;gBAGA,OAAI,CAAC85B,gBAAL,GAAwB,IAAxB;cACD;;cAED,OAAI,CAAC7J,YAAL,GAAoB,IAApB;;cAEA,IAAI;gBACF,MAAM,OAAI,CAAC+J,UAAL,CAAgB6C,cAAhB,EAAN;cACD,CAFD,CAEE,OAAO1wC,EAAP,EAAW,CAAE;;cAEf,KAAK,MAAM,CAACtH,IAAD,EAAOs/B,QAAP,CAAX,IAA+B,OAAI,CAAC0W,eAApC,EAAqD;gBACnD,OAAI,CAACpL,SAAL,CAAe1mB,IAAf,CAAoBlkB,IAApB,EAA0Bs/B,QAA1B;cACD;;cAED,OAAI,CAAC0W,eAAL,CAAqB1yC,KAArB;;cAEA,KAAK,MAAM,CAACtD,IAAD,EAAOs/B,QAAP,CAAX,IAA+B,OAAI,CAACgX,UAApC,EAAgD;gBAC9Cp7C,MAAM,CAACooB,mBAAP,CAA2BtjB,IAA3B,EAAiCs/B,QAAjC,EAA2C,IAA3C;cACD;;cAED,OAAI,CAACgX,UAAL,CAAgBhzC,KAAhB;;cAEA,OAAI,CAAC+yC,gBAAL,CAAsB/yC,KAAtB;;cAEA,OAAI,CAAC8zC,aAAL,CAAmB9zC,KAAnB;;cAEA,OAAI,CAAC6xC,UAAL,GAAkB,IAAlB;cACA,OAAO,OAAI,CAACz0C,WAAL,CAAiB61C,MAAxB;cACA,OAAI,CAACvW,MAAL,GAAc,KAAd;cACA,OAAI,CAACkV,kBAAL,EAAyBjgC,OAAzB;YAvCwB;UAwCzB;;QA1euB;;QA8e1Bnf,OAAO,CAAC++C,mBAAR,GAA8BA,mBAA9B;QAEA;MAAO,CApvR8B;MAqvRrC;;MACA;MAAO,CAACx+C,uBAAD,EAA0BP,OAA1B,EAAmCQ,mBAAnC,KAA2D;QAIlEC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAX,OAAO,CAACiiD,gBAAR,GAA2B,KAAK,CAAhC;QACAjiD,OAAO,CAACi/C,mBAAR,GAA8BA,mBAA9B;;QAEA,IAAIz7C,SAAS,GAAGhD,mBAAmB,CAAC,CAAD,CAAnC;;QAVkE,SAYnDy+C,mBAZmD;UAAA;QAAA;;QAAA;UAAA,yCAYlE,WAAmC7xC,WAAnC,EAAgD;YAC9C,MAAMnB,GAAG,GAAG,EAAZ;YAAA,MACMkB,OAAO,GAAGlB,GAAG,CAAC8E,KAAJ,CAAU,GAAV,EAAe,CAAf,CADhB;YAEA,IAAI;cACF+e,IADE;cAEFqyB,QAFE;cAGFC,0BAHE;cAIFC;YAJE,UAKMj1C,WAAW,CAACyiB,WAAZ,EALV;;YAOA,IAAI,CAACwyB,aAAL,EAAoB;cAClB,MAAM;gBACJl3C;cADI,UAEIiC,WAAW,CAACk1C,eAAZ,EAFV;cAGAD,aAAa,GAAGl3C,MAAhB;YACD;;YAED,OAAO,EAAE,GAAG2kB,IAAL;cACLyc,OAAO,EAAEp/B,OADJ;cAELo1C,QAAQ,EAAEF,aAFL;cAGL9a,QAAQ,EAAE6a,0BAA0B,IAAI,CAAC,GAAG5+C,SAAS,CAACg/C,qBAAd,EAAqCv2C,GAArC,CAHnC;cAILk2C,QAAQ,EAAEA,QAAQ,EAAEM,MAAV,EAJL;cAKLC,OAAO,EAAEP,QAAQ,EAAE93C,GAAV,CAAc,YAAd,CALJ;cAMLuD,QAAQ,EAAER,WAAW,CAACQ,QANjB;cAOLo6B,GAAG,EAAE/7B;YAPA,CAAP;UASD,CAtCiE;UAAA;QAAA;;QAwClE,MAAMg2C,gBAAN,CAAuB;UACrBx+C,WAAW,CAACm9B,gBAAD,EAAmB;YAC5B,KAAKsJ,MAAL,GAAc,CAAC,GAAG1mC,SAAS,CAACm/C,UAAd,EAA0B/hB,gBAA1B,EAA4C,IAA5C,EAAkDpyB,IAAlD,CAAuD,MAAM;cACzE,OAAOpJ,MAAM,CAACw9C,YAAP,CAAoBC,cAApB,EAAP;YACD,CAFa,CAAd;UAGD;;UAEKjC,aAAa,CAAC9Y,IAAD,EAAO;YAAA;;YAAA;cACxB,MAAMgb,OAAO,SAAS,OAAI,CAAC5Y,MAA3B;cACA4Y,OAAO,CAACnlB,MAAR,CAAemK,IAAf;YAFwB;UAGzB;;UAEKsY,sBAAsB,CAAC1kB,KAAD,EAAQ;YAAA;;YAAA;cAClC,MAAMonB,OAAO,SAAS,OAAI,CAAC5Y,MAA3B;cACA9jB,UAAU,CAAC,MAAM08B,OAAO,CAACnB,aAAR,CAAsBjmB,KAAtB,CAAP,EAAqC,CAArC,CAAV;YAFkC;UAGnC;;UAEKwmB,cAAc,GAAG;YAAA;;YAAA;cACrB,MAAMY,OAAO,SAAS,OAAI,CAAC5Y,MAA3B;cACA4Y,OAAO,CAACC,WAAR;YAFqB;UAGtB;;QApBoB;;QAwBvB/iD,OAAO,CAACiiD,gBAAR,GAA2BA,gBAA3B;QAEA;MAAO;MACP;MAzzRqC,CAA3B;MA0zRV;;MACA;MAAU;;MACV;;MAAU,IAAIe,wBAAwB,GAAG,EAA/B;MACV;;MACA;MAAU;;MACV;;MAAU,SAASxiD,mBAAT,CAA6ByiD,QAA7B,EAAuC;QACjD;QAAW;;QACX;QAAW,IAAIC,YAAY,GAAGF,wBAAwB,CAACC,QAAD,CAA3C;QACX;;QAAW,IAAIC,YAAY,KAAK/qC,SAArB,EAAgC;UAC3C;UAAY,OAAO+qC,YAAY,CAACljD,OAApB;UACZ;QAAY;QACZ;QAAW;;QACX;;;QAAW,IAAIC,MAAM,GAAG+iD,wBAAwB,CAACC,QAAD,CAAxB,GAAqC;UAC7D;UAAY;;UACZ;UAAY;;UACZ;UAAYjjD,OAAO,EAAE;UACrB;;QAJ6D,CAAlD;QAKX;;QACA;QAAW;;QACX;;QAAWM,mBAAmB,CAAC2iD,QAAD,CAAnB,CAA8BhjD,MAA9B,EAAsCA,MAAM,CAACD,OAA7C,EAAsDQ,mBAAtD;QACX;;QACA;QAAW;;QACX;;;QAAW,OAAOP,MAAM,CAACD,OAAd;QACX;MAAW;MACX;;MACA;;;MACA,IAAImjD,mBAAmB,GAAG,EAA1B,CAt1RuB,CAu1RvB;;MACA,CAAC,MAAM;QACP,IAAInjD,OAAO,GAAGmjD,mBAAd;QAGA1iD,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CW,KAAK,EAAE;QADqC,CAA9C;QAGAF,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,wBAA/B,EAA0D;UACxDojD,UAAU,EAAE,IAD4C;UAExD/4C,GAAG,EAAE,YAAY;YACf,OAAOnJ,yBAAyB,CAACoB,sBAAjC;UACD;QAJuD,CAA1D;QAMA7B,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,+BAA/B,EAAiE;UAC/DojD,UAAU,EAAE,IADmD;UAE/D/4C,GAAG,EAAE,YAAY;YACf,OAAOg5C,gBAAgB,CAACtiD,6BAAxB;UACD;QAJ8D,CAAjE;QAMAN,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,+BAA/B,EAAiE;UAC/DojD,UAAU,EAAE,IADmD;UAE/D/4C,GAAG,EAAE,YAAY;YACf,OAAOg5C,gBAAgB,CAACviD,6BAAxB;UACD;QAJ8D,CAAjE;QAMAL,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,yBAA/B,EAA2D;UACzDojD,UAAU,EAAE,IAD6C;UAEzD/4C,GAAG,EAAE,YAAY;YACf,OAAOg5C,gBAAgB,CAACxiD,uBAAxB;UACD;QAJwD,CAA3D;QAMAJ,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,wBAA/B,EAA0D;UACxDojD,UAAU,EAAE,IAD4C;UAExD/4C,GAAG,EAAE,YAAY;YACf,OAAOg5C,gBAAgB,CAACziD,sBAAxB;UACD;QAJuD,CAA1D;QAMAH,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,iBAA/B,EAAmD;UACjDojD,UAAU,EAAE,IADqC;UAEjD/4C,GAAG,EAAE,YAAY;YACf,OAAOi5C,iBAAiB,CAAClc,eAAzB;UACD;QAJgD,CAAnD;QAMA3mC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,UAA/B,EAA4C;UAC1CojD,UAAU,EAAE,IAD8B;UAE1C/4C,GAAG,EAAE,YAAY;YACf,OAAOqwC,YAAY,CAAC9R,QAApB;UACD;QAJyC,CAA5C;QAMAnoC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,aAA/B,EAA+C;UAC7CojD,UAAU,EAAE,IADiC;UAE7C/4C,GAAG,EAAE,YAAY;YACf,OAAOk5C,YAAY,CAACxZ,WAApB;UACD;QAJ4C,CAA/C;QAMAtpC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CojD,UAAU,EAAE,IADgC;UAE5C/4C,GAAG,EAAE,YAAY;YACf,OAAOjJ,iBAAiB,CAACmK,UAAzB;UACD;QAJ2C,CAA9C;QAMA9K,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,UAA/B,EAA4C;UAC1CojD,UAAU,EAAE,IAD8B;UAE1C/4C,GAAG,EAAE,YAAY;YACf,OAAOlJ,WAAW,CAACY,QAAnB;UACD;QAJyC,CAA5C;QAMAtB,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,mBAA/B,EAAqD;UACnDojD,UAAU,EAAE,IADuC;UAEnD/4C,GAAG,EAAE,YAAY;YACf,OAAOm5C,oBAAoB,CAAChS,iBAA5B;UACD;QAJkD,CAArD;QAMA/wC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CojD,UAAU,EAAE,IADgC;UAE5C/4C,GAAG,EAAE,YAAY;YACf,OAAOo5C,YAAY,CAAClJ,UAApB;UACD;QAJ2C,CAA9C;QAMA95C,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,gBAA/B,EAAkD;UAChDojD,UAAU,EAAE,IADoC;UAEhD/4C,GAAG,EAAE,YAAY;YACf,OAAOjJ,iBAAiB,CAACkK,cAAzB;UACD;QAJ+C,CAAlD;QAMA7K,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,aAA/B,EAA+C;UAC7CojD,UAAU,EAAE,IADiC;UAE7C/4C,GAAG,EAAE,YAAY;YACf,OAAO8c,cAAc,CAAC+H,WAAtB;UACD;QAJ4C,CAA/C;QAMAzuB,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,qBAA/B,EAAuD;UACrDojD,UAAU,EAAE,IADyC;UAErD/4C,GAAG,EAAE,YAAY;YACf,OAAOq5C,sBAAsB,CAAC3E,mBAA9B;UACD;QAJoD,CAAvD;QAMAt+C,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,qBAA/B,EAAuD;UACrDojD,UAAU,EAAE,IADyC;UAErD/4C,GAAG,EAAE,YAAY;YACf,OAAOs5C,WAAW,CAACl9B,mBAAnB;UACD;QAJoD,CAAvD;QAMAhmB,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,WAA/B,EAA6C;UAC3CojD,UAAU,EAAE,IAD+B;UAE3C/4C,GAAG,EAAE,YAAY;YACf,OAAOs5C,WAAW,CAACn9B,SAAnB;UACD;QAJ0C,CAA7C;QAMA/lB,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,aAA/B,EAA+C;UAC7CojD,UAAU,EAAE,IADiC;UAE7C/4C,GAAG,EAAE,YAAY;YACf,OAAOmB,SAAS,CAAC+H,WAAjB;UACD;QAJ4C,CAA/C;QAMA9S,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,iBAA/B,EAAmD;UACjDojD,UAAU,EAAE,IADqC;UAEjD/4C,GAAG,EAAE,YAAY;YACf,OAAOmB,SAAS,CAAC6H,eAAjB;UACD;QAJgD,CAAnD;QAMA5S,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CojD,UAAU,EAAE,IADgC;UAE5C/4C,GAAG,EAAE,YAAY;YACf,OAAOmB,SAAS,CAAC2H,UAAjB;UACD;QAJ2C,CAA9C;QAMA1S,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,mBAA/B,EAAqD;UACnDojD,UAAU,EAAE,IADuC;UAEnD/4C,GAAG,EAAE,YAAY;YACf,OAAOjJ,iBAAiB,CAACoB,iBAAzB;UACD;QAJkD,CAArD;QAMA/B,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,YAA/B,EAA8C;UAC5CojD,UAAU,EAAE,IADgC;UAE5C/4C,GAAG,EAAE,YAAY;YACf,OAAOmB,SAAS,CAACyH,UAAjB;UACD;QAJ2C,CAA9C;QAMAxS,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,wBAA/B,EAA0D;UACxDojD,UAAU,EAAE,IAD4C;UAExD/4C,GAAG,EAAE,YAAY;YACf,OAAOhJ,0BAA0B,CAACwB,sBAAlC;UACD;QAJuD,CAA1D;QAMApC,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,kBAA/B,EAAoD;UAClDojD,UAAU,EAAE,IADsC;UAElD/4C,GAAG,EAAE,YAAY;YACf,OAAO/I,mBAAmB,CAAC+B,gBAA3B;UACD;QAJiD,CAApD;QAMA5C,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,iBAA/B,EAAmD;UACjDojD,UAAU,EAAE,IADqC;UAEjD/4C,GAAG,EAAE,YAAY;YACf,OAAO9I,kBAAkB,CAACgC,eAA1B;UACD;QAJgD,CAAnD;QAMA9C,MAAM,CAACC,cAAP,CAAsBV,OAAtB,EAA+B,kBAA/B,EAAoD;UAClDojD,UAAU,EAAE,IADsC;UAElD/4C,GAAG,EAAE,YAAY;YACf,OAAOmB,SAAS,CAACgF,gBAAjB;UACD;QAJiD,CAApD;;QAOA,IAAI6yC,gBAAgB,GAAG7iD,mBAAmB,CAAC,CAAD,CAA1C;;QAEA,IAAIY,iBAAiB,GAAGZ,mBAAmB,CAAC,CAAD,CAA3C;;QAEA,IAAIgL,SAAS,GAAGhL,mBAAmB,CAAC,CAAD,CAAnC;;QAEA,IAAImjD,WAAW,GAAGnjD,mBAAmB,CAAC,EAAD,CAArC;;QAEA,IAAIU,yBAAyB,GAAGV,mBAAmB,CAAC,CAAD,CAAnD;;QAEA,IAAI8iD,iBAAiB,GAAG9iD,mBAAmB,CAAC,EAAD,CAA3C;;QAEA,IAAIk6C,YAAY,GAAGl6C,mBAAmB,CAAC,EAAD,CAAtC;;QAEA,IAAI+iD,YAAY,GAAG/iD,mBAAmB,CAAC,EAAD,CAAtC;;QAEA,IAAIW,WAAW,GAAGX,mBAAmB,CAAC,CAAD,CAArC;;QAEA,IAAIgjD,oBAAoB,GAAGhjD,mBAAmB,CAAC,EAAD,CAA9C;;QAEA,IAAIijD,YAAY,GAAGjjD,mBAAmB,CAAC,EAAD,CAAtC;;QAEA,IAAI2mB,cAAc,GAAG3mB,mBAAmB,CAAC,EAAD,CAAxC;;QAEA,IAAIkjD,sBAAsB,GAAGljD,mBAAmB,CAAC,EAAD,CAAhD;;QAEA,IAAIa,0BAA0B,GAAGb,mBAAmB,CAAC,CAAD,CAApD;;QAEA,IAAIc,mBAAmB,GAAGd,mBAAmB,CAAC,CAAD,CAA7C;;QAEA,IAAIe,kBAAkB,GAAGf,mBAAmB,CAAC,EAAD,CAA5C;;QAEA,MAAMojD,YAAY,GAAG,UAArB;QACA,MAAMC,UAAU,GAAG,WAAnB;MACC,CAtMD;MAwMA;;;MAAU,OAAOV,mBAAP;MACV;IAAU,CAjiSM;EAAhB;AAmiSC,CA7iSD"},"metadata":{},"sourceType":"script"}